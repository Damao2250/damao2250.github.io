<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Damao</title>
  
  <subtitle>乐躬耕于陇亩兮，吾爱吾庐。聊寄傲于琴书兮，以待天时。</subtitle>
  <link href="http://damao2250.com/atom.xml" rel="self"/>
  
  <link href="http://damao2250.com/"/>
  <updated>2024-01-02T11:12:54.983Z</updated>
  <id>http://damao2250.com/</id>
  
  <author>
    <name>Damao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>我的2023</title>
    <link href="http://damao2250.com/2023/12/28/%E6%88%91%E7%9A%842023/"/>
    <id>http://damao2250.com/2023/12/28/%E6%88%91%E7%9A%842023/</id>
    <published>2023-12-28T01:09:26.000Z</published>
    <updated>2024-01-02T11:12:54.983Z</updated>
    
    <content type="html"><![CDATA[<p>时间飞逝，转眼又是年末，是时候掏出我去年的年终总结啦 (╯°□°）╯︵ ┻━┻</p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/a14238c613d054a0c412ddd2339e666.jpg"></p><p>哈哈，玩笑归玩笑，但今年确实重感冒了几次，不确定是不是阳了，但是能确定的是戴口罩几年体抗力是有所下降了。</p><p>过去的一年其实有不少事情值得记录以待他日回味的，但当我准备动笔记录那些忙碌的故事时，却总感到思绪断片不知从何入手，恨不得每个时刻都能流水线般全都记下，但每个精彩的瞬间又都是一段段孤立的片段，在努力回忆这一年做过的事情，希望可以拼凑出一个完整的2023。</p><h2 id="膝盖疼"><a href="#膝盖疼" class="headerlink" title="膝盖疼"></a>膝盖疼</h2><p>先说一个持续时间最长的也是困扰我最久事情吧，那就是蹲下几分钟后右脚的膝盖会超级痛，站起来无法立马伸直走动，但是左脚啥问题都没有。从22年11月中旬左右，一直到23年10月份才有好转，起初发现这个现象的时候没多在意，以为是蹲久了膝盖会有点痛而已，好家伙这一痛之后，接下来的好几个月都有这种症状。</p><p>等我反应过来的时候已经到23年2月份了（也就是过完春节后），立马寻医问诊，去医院拍片医生说没看出来有什么异常，给开了一些缓解关节疼痛的药及外贴的药膏，按照医嘱用药后是有些缓解，没那么痛了。但是这并没有持续多久，大概半个多月后又回到原来的症状。一直到到五月底，又去看了一位中医，医生说需要调理一周看看情况，给开了一周的中药（捏着鼻子喝的那种）。真别说这个中药有点效果，喝了三天之后感觉已经好了很多了，蹲个几分钟起来就只有一点点痛的感觉了，不会至于说无法伸直。但是好景不长，服完一周的药后，大概第三个星期，又回到原来的症状，跟那个中医说了情况，他回应这个是慢性病再开药调理一周，回想前面的西药服用完也差不多是这个效果，心想先不理了。</p><p>联系到平时的工作，想着是不是因为久坐的原因，于是平时坐一段时间后就起身走动走动，拒绝二郎腿，换了一个靠背支撑比较硬的椅子，持续两个月之后疼痛感已经有所好转了。再到后面10月底左右基本蹲下去再起来不会有什么疼痛感，感觉比较正常了，一直到现在虽然还会有点点感觉不一样，但是基本可以忽略不计了。可最后也还是不知道是什么原因引起的，也不知道是中药还是西药起的作用才好的。</p><p>这一整个过程是真的煎熬，有种“问天天不应，叫地地不灵”的感觉，疼痛折磨就算了，找不出个病因，心理也很折磨。咋说，还是那句老话“身体是革命的本钱”，平时还是要好好锻炼，多注意休息。</p><h2 id="毕业设计"><a href="#毕业设计" class="headerlink" title="毕业设计"></a>毕业设计</h2><p>按照时间线，应该说到我的毕业设计了，从2月份开始准备开题报告，到4月中旬的论文初稿完成，再到4月25的答辩，一路紧张准备着，终于再在7月中旬顺利拿到了仲恺农业工程学院的毕业证书。这也算是体验了一次毕设的设计修改完成的流程，毕业设计的指导老师也算是比较上心的。据他所说，我是写的比较认真的一个，所以最后抽部分人去答辩里面有我一个名额。因为都是自己写的项目，答辩的时候基本没什么压力。再说到这个毕业证书，然后用处不是很大了，但也胜过没有。从此我也是仲恺的校友之一了，哈哈u(￣▽￣)”</p><h2 id="求婚-amp-领证"><a href="#求婚-amp-领证" class="headerlink" title="求婚&amp;领证"></a>求婚&amp;领证</h2><p>接下来就是比较重要的两件事情了——求婚和领证。求婚这个事情早在六月初的时候就开始规划了，设想过很多种方案，网上看了很多攻略，知道最重要的就是道具和氛围，于是马上购买了必备的求婚钻石戒指（哈哈，当然是莫桑石戒指）。因为当时我俩比较喜欢去灵山岛那边露营，灵山岛风景又很优美，设想过在那边直接让外卖送一大束花过来，然后自己掏出戒指开始求婚，现场很多免费的演员，只要自己大声喊出来，一定会有很多吃瓜群众过来凑热闹的，于是后面好几次去灵山岛我都在背包里放着我的“钻戒”带过去。但是去到那边我才发现这也太空旷了，“群众演员”也是三三两两比较稀疏，如果是外卖送过来的花必定显得太单薄，而且最最最重要的一点是我忘记了自己不是一头“社牛”，完全没有这个勇气，这个想法只能告一段落。</p><p>又过了段时间依然没有其他头绪，于是网上找了很多那些所谓的求婚现场布置团队，跟人家一聊，报价2k+还需要提供场地。一来没预算，二来没场地，租场地又要支出一笔钱，后来灵光一闪，灵山岛不就是一个免费的场地嘛？纠集了好久还是放弃了，一个费钱，一个指引她到场地需要确保万无一失，还需要一些熟人来捧场，不然会比较尬场。</p><p>纠结来纠结去，时间就到了九月份，正好9月21日是她生日，那不如就趁着这个机会生日加求婚一起进行。这样一举两得，自己网上买道具回来可比请人来要划算得多，两百多就搞定生日道具跟求婚用的道具。当你以为万事俱备只欠东风的时候，意外情况就出现了。她生日那天是星期四，但是按照惯例她星期二出差星期五才回来呀！既然是这样，那我就先摆好道具，定好蛋糕周五送过来，等周五她回来的时候就给她一个惊喜也可以，OK，那就这么愉快的决定了。但是，凡事都有个但是，你以为这就完了嘛？我公司三十周年庆活动刚好也选在了周五这一天，全公司人员都需要到接近增城那边举办半马活动！这真是双重打击。可是我的道具都已经买好了呀，而且错过了这个时间，都不知道排到什么时候了。</p><p>于是在她生日那天请了一天假，跟她说太累想休息一天，她也没太多注意，然后打了大半天的气球，绑出一个心形得形状，在客订摆放好生日用的道具，在卧室摆放好求婚用的道具，把所有的道具都摆好。设想到时她回来先在客厅看到给她生日布置的场景，然后在引导她到卧室看到求婚的场景，接着自己跟求婚。嗯，堪称非常完美，绝对万无一失了！她生日的当天晚上，当然还是得拍一下我精心布置的生日场景给她，祝福她生日快乐，当晚我也订了一束鲜艳的玫瑰花（记住这束花，后面要考），拍照给她看，她乐呵得发朋友圈夸我突然变得浪漫。当天晚上也忙着摆道具到凌晨，忙完倒头就睡了。</p><p>第二天早早起来把昨晚的那一束花放到卧室，开着空调不让它萎蔫，然后参加公司下午举办的半马活动，想着参加完就立马回来把所有的一切都准备好，等她回来，给她一个惊喜。但是现实先给我一个惊喜，当天下午她居然说这次要提早回来！啊？？？那我准备的不是白费了？看到她给我发这个消息的时候，我的半马才跑了一半，一看时间，我跑完结束的时候她差不多到南站，于是跟她说让她等我一起回去，她答应说可以，于是我赶紧来跑完，但是越往后面跑就越没体力了，肯本跑不动，只能慢慢跑，跑完之后发现她已经在七号线等我了，但我从我的位置到她在七号线等我的位置还要接近一个半小时的时间。她等了半个小时之后已经不耐烦了，说要先回去，我左磨右磨才劝得住她等我。她能等我我已经很不错了，我已经不在想着有啥惊喜了，回去到门口就直接告诉她我给她准备的一些惊喜。</p><p>此时我已经没抱有让她特别惊喜的想念了。然而柳暗花明又一村，我又看到希望了，她在等我的时候跟我说她妹妹今天也要去我们那里，而且已经准备到了，哈哈哈，我大喜，天助我也！赶紧跟她妹妹联系，说明我的计划，让她帮我提前帮我弄好灯光，到此一切准备就绪。回去的路上把那些想好的台词重复n次，心里依然觉得很紧张，哈哈哈… 回去后，按计划她先看到布置的生日场景，她很开心，接着我跟她说“你知道我昨晚拍照给你花放在哪里了嘛？我把它放在卧室里开了一天的空调等你回来，你可以进去帮我拿出来吗？”于是她就进卧室了，我赶紧把我的求婚戒指拿出来，她开门的那个一刻给惊喜到了，她回头的时候我已经准备好求婚的仪式，正式跟她求婚，到此完成了我的求婚仪式</p><p>求完婚后我们也确定了领证的日子，定在了23023年10月23日。领证就比较流水线了，提前跟民政局预约好时间，预约好婚检。当天就是约好化妆师、跟拍，化完妆后直接去民政局排队领证，跟拍全程在摄影拍照。当时也是叫了双方的亲戚过来吃晚饭，晚饭的过程我们还搞了一些活动，一人一张彩票加一张刮刮乐，后面还有抽奖部分人能拿到面额更大的刮刮乐（该说不说，刮刮乐我买了一本多一点，全都刮完了，没有回本），大家都很开心，我也终于走到了我人生一个比较大的转折点</p><p>来两张配图：<br><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/0a86b0c28ecf90c065c4b63ac7ae01e.jpg"></p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/839e159021fccbbead32e5032eb5c17.jpg"></p><h2 id="收楼"><a href="#收楼" class="headerlink" title="收楼"></a>收楼</h2><p>最后一个要说的就是我们赶在2023年12月29日收楼啦，收楼过程算是比较顺利，没啥大问题。终于可以开始打造属于我们温暖的小窝啦！</p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/1704193905798.jpg"></p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/715b43d33f3fb4c1c3d384085e88d18.jpg"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;时间飞逝，转眼又是年末，是时候掏出我去年的年终总结啦 (╯°□°）╯︵ ┻━┻&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/Damao2250/FileTransfer/master/a14238c613d054a0</summary>
      
    
    
    
    <category term="总结" scheme="http://damao2250.com/categories/%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="2023" scheme="http://damao2250.com/tags/2023/"/>
    
  </entry>
  
  <entry>
    <title>常用网址记录</title>
    <link href="http://damao2250.com/2023/12/19/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80%E8%AE%B0%E5%BD%95/"/>
    <id>http://damao2250.com/2023/12/19/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80%E8%AE%B0%E5%BD%95/</id>
    <published>2023-12-19T10:55:35.000Z</published>
    <updated>2024-02-05T02:17:37.943Z</updated>
    
    <content type="html"><![CDATA[<h2 id="医药"><a href="#医药" class="headerlink" title="医药"></a>医药</h2><ul><li>中国医药信息查询平台：<a href="https://www.dayi.org.cn/">https://www.dayi.org.cn/</a></li></ul><h2 id="气象-地图"><a href="#气象-地图" class="headerlink" title="气象/地图"></a>气象/地图</h2><ul><li>MSN天气图：<a href="https://www.msn.cn/zh-cn/weather/maps?type=temperature">https://www.msn.cn/zh-cn/weather/maps?type=temperature</a></li></ul><h2 id="影视-or-网盘"><a href="#影视-or-网盘" class="headerlink" title="影视 or 网盘"></a>影视 or 网盘</h2><ul><li>奈飞热剧-PAN99：<a href="https://pan99.xyz/">https://pan99.xyz/</a></li><li>云盘分享社：<a href="https://www.yunpanfenxiang.cn/">https://www.yunpanfenxiang.cn/</a></li><li>耐卡-欧美剧集：<a href="https://mcar.vip/forum.php?mod=forumdisplay&fid=129">https://mcar.vip/forum.php?mod=forumdisplay&amp;fid=129</a></li><li>4K世界：<a href="https://www.4ksj.com/4k-uhd-1.html">https://www.4ksj.com/4k-uhd-1.html</a></li><li>libvio(影视)：<a href="https://www.libvio.me/">https://www.libvio.me/</a></li></ul><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><ul><li>丑搜-博客搜索：<a href="https://uglysearch.othing.xyz/">https://uglysearch.othing.xyz/</a></li></ul><h2 id="网络宽带"><a href="#网络宽带" class="headerlink" title="网络宽带"></a>网络宽带</h2><ul><li>广东电信宽带测速平台：<a href="https://10000.gd.cn/#/speed">https://10000.gd.cn/#/speed</a></li><li>中国科学技术大学测速网站：<a href="https://test.ustc.edu.cn/">https://test.ustc.edu.cn/</a></li><li>speedtest：<a href="https://www.speedtest.net/">https://www.speedtest.net/</a></li><li>speedtest.im：<a href="https://speedtest.im/">https://speedtest.im/</a></li></ul><h2 id="政企相关"><a href="#政企相关" class="headerlink" title="政企相关"></a>政企相关</h2><ul><li>广州阳光家缘：<a href="http://zfcj.gz.gov.cn/zfcj/ygjy">http://zfcj.gz.gov.cn/zfcj/ygjy</a></li><li>南沙区金洲农贸市场菜篮子零售价：<a href="https://www.gzns.gov.cn/zwgk/zdlyxxgk/jghsf/jgbz/">https://www.gzns.gov.cn/zwgk/zdlyxxgk/jghsf/jgbz/</a></li><li>中国家电网-零售监测：<a href="http://info.cheaa.com/zhoubao.shtml">http://info.cheaa.com/zhoubao.shtml</a></li></ul><h2 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h2><ul><li>CS自学指南：<a href="https://csdiy.wiki/">https://csdiy.wiki/</a></li><li>AI算法工程师手册：<a href="https://www.huaxiaozhuan.com/">https://www.huaxiaozhuan.com/</a></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li>所有时区的精确时间：<a href="https://time.is/">https://time.is/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;医药&quot;&gt;&lt;a href=&quot;#医药&quot; class=&quot;headerlink&quot; title=&quot;医药&quot;&gt;&lt;/a&gt;医药&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;中国医药信息查询平台：&lt;a href=&quot;https://www.dayi.org.cn/&quot;&gt;https://www.dayi.o</summary>
      
    
    
    
    <category term="网址" scheme="http://damao2250.com/categories/%E7%BD%91%E5%9D%80/"/>
    
    
    <category term="网址" scheme="http://damao2250.com/tags/%E7%BD%91%E5%9D%80/"/>
    
  </entry>
  
  <entry>
    <title>人民币数字大写转换工具</title>
    <link href="http://damao2250.com/2023/11/27/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7/"/>
    <id>http://damao2250.com/2023/11/27/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7/</id>
    <published>2023-11-27T01:36:33.000Z</published>
    <updated>2023-11-27T02:22:37.975Z</updated>
    
    <content type="html"><![CDATA[<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token parameter">currencyDigits</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> integral<span class="token punctuation">,</span> decimal<span class="token punctuation">,</span> outputCharacters<span class="token punctuation">,</span> parts<span class="token punctuation">,</span> digits<span class="token punctuation">,</span> radices<span class="token punctuation">,</span> bigRadices<span class="token punctuation">,</span> decimals<span class="token punctuation">,</span> zeroCount<span class="token punctuation">,</span> i<span class="token punctuation">,</span> p<span class="token punctuation">,</span> d<span class="token punctuation">,</span> ds<span class="token punctuation">,</span> quotient<span class="token punctuation">,</span> modulus<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> currencyDigits <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">==</span> currencyDigits<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"不能为空 请输入数字金额!如：123.23"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^,.\d]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"输入字符串中的字符无效!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> currencyDigits<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((\d&#123;1,3&#125;(,\d&#123;3&#125;)*(.((\d&#123;3&#125;,)*\d&#123;1,3&#125;))?)|(\d+(.\d+)?))$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入正确的数字金额!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>currencyDigits <span class="token operator">=</span> <span class="token punctuation">(</span>currencyDigits <span class="token operator">=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^0+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Number</span><span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span> <span class="token operator">></span>    <span class="token number">99999999999.99</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Too large a number to convert!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>parts <span class="token operator">=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token punctuation">(</span>integral <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> decimal <span class="token operator">=</span> <span class="token punctuation">(</span>decimal <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>    <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>integral <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> decimal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> digits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">"零"</span><span class="token punctuation">,</span> <span class="token string">"壹"</span><span class="token punctuation">,</span> <span class="token string">"贰"</span><span class="token punctuation">,</span> <span class="token string">"叁"</span><span class="token punctuation">,</span> <span class="token string">"肆"</span><span class="token punctuation">,</span> <span class="token string">"伍"</span><span class="token punctuation">,</span> <span class="token string">"陆"</span><span class="token punctuation">,</span> <span class="token string">"柒"</span><span class="token punctuation">,</span> <span class="token string">"捌"</span><span class="token punctuation">,</span>      <span class="token string">"玖"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> radices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"拾"</span><span class="token punctuation">,</span> <span class="token string">"佰"</span><span class="token punctuation">,</span> <span class="token string">"仟"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bigRadices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"万"</span><span class="token punctuation">,</span> <span class="token string">"亿"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> decimals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>        <span class="token string">"角"</span><span class="token punctuation">,</span> <span class="token string">"分"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token function">Number</span><span class="token punctuation">(</span>integral<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> integral<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> quotient <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> integral<span class="token punctuation">.</span>length <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span> modulus <span class="token operator">=</span> p <span class="token operator">%</span>      <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"0"</span> <span class="token operator">==</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> integral<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> zeroCount<span class="token operator">++</span> <span class="token operator">:</span> <span class="token punctuation">(</span>zeroCount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> digits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">+=</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> radices<span class="token punctuation">[</span>modulus<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token operator">==</span> modulus <span class="token operator">&amp;&amp;</span> zeroCount <span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span>      <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> bigRadices<span class="token punctuation">[</span>quotient<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    outputCharacters <span class="token operator">+=</span> <span class="token string">"元"</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">!=</span> decimal<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> decimal<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> d <span class="token operator">=</span> decimal<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ds <span class="token operator">=</span> decimal<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">+=</span>      <span class="token number">0</span> <span class="token operator">==</span> d <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">==</span> ds <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> decimals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">""</span> <span class="token operator">==</span> outputCharacters <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">=</span> <span class="token string">"零元"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span> <span class="token operator">==</span> decimal <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> <span class="token string">"整"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    outputCharacters <span class="token operator">=</span> <span class="token string">""</span> <span class="token operator">+</span> outputCharacters<span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token string">'123.23'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 壹佰贰拾叁元贰角叁分</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token number">999.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 玖佰玖拾玖元玖角玖分</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 零元整</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;line-numbers language-js&quot; data-language=&quot;js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="工具" scheme="http://damao2250.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="人民币数字大写转换" scheme="http://damao2250.com/tags/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2/"/>
    
  </entry>
  
  <entry>
    <title>JS运算符备忘</title>
    <link href="http://damao2250.com/2023/11/17/JS%E8%BF%90%E7%AE%97%E7%AC%A6%E5%A4%87%E5%BF%98/"/>
    <id>http://damao2250.com/2023/11/17/JS%E8%BF%90%E7%AE%97%E7%AC%A6%E5%A4%87%E5%BF%98/</id>
    <published>2023-11-17T07:05:30.000Z</published>
    <updated>2023-11-17T09:13:14.217Z</updated>
    
    <content type="html"><![CDATA[<h2 id="链判断运算符"><a href="#链判断运算符" class="headerlink" title="链判断运算符 ?."></a>链判断运算符 <code>?.</code></h2><ul><li><p>读取对象内部的某个属性时，判断上层对象是否存在</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 读取message data.result.state.message</span><span class="token comment">// 正常写法</span><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token punctuation">(</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>state <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>state<span class="token punctuation">.</span>message <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">""</span><span class="token comment">// 链判断运算符写法</span><span class="token keyword">const</span> message <span class="token operator">=</span> data<span class="token operator">?.</span>result<span class="token operator">?.</span>state<span class="token operator">?.</span>message <span class="token operator">||</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>三元运算符<code>?:</code>也常用于判断对象是否存在</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// state.code</span><span class="token keyword">const</span> code <span class="token operator">=</span> state <span class="token operator">?</span> state<span class="token punctuation">.</span>code <span class="token operator">:</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><code>?.</code>运算符常见形式</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">a<span class="token operator">?.</span>b<span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">.</span>ba<span class="token operator">?.</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span>a<span class="token operator">?.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>a<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Null-判断运算符-、"><a href="#Null-判断运算符-、" class="headerlink" title="Null 判断运算符 ||、??"></a>Null 判断运算符 <code>||</code>、<code>??</code></h2><ul><li><p>如果某个属性的值是<code>null</code>或<code>undefined</code>，有时候需要为它们指定默认值</p></li><li><p>常见做法是通过<code>||</code>运算符指定默认值，但是属性的值如果为空字符串或<code>false</code>或<code>0</code>，默认值也会生效，如下</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> value <span class="token operator">=</span> data<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token string">"123"</span><span class="token comment">// 当data.value等于null、undefine、false、0或空值的时候value的值都是'123'</span><span class="token comment">// 这样会导致无法判断false、0或者空值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>通过<code>??</code>运算符，只有值为<code>null</code>或<code>undefined</code>时，才会返回右侧的值</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> value <span class="token operator">=</span> data<span class="token punctuation">.</span>value <span class="token operator">??</span> <span class="token string">"123"</span><span class="token comment">// 当data.value等于null、undefine的时候value的值才是'123'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h2 id="逻辑赋值运算符-、-amp-amp-、"><a href="#逻辑赋值运算符-、-amp-amp-、" class="headerlink" title="逻辑赋值运算符 ||=、&amp;&amp;=、??="></a>逻辑赋值运算符 <code>||=</code>、<code>&amp;&amp;=</code>、<code>??=</code></h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 或赋值运算符</span>x <span class="token operator">||=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">||</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span class="token comment">// 与赋值运算符</span>x <span class="token operator">&amp;&amp;=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span class="token comment">// Null 赋值运算符</span>x <span class="token operator">??=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">??</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>写法对比</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 老的写法</span>user<span class="token punctuation">.</span>id <span class="token operator">=</span> user<span class="token punctuation">.</span>id <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 新的写法</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>示例</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ||=  值为 null、undefined、false、0或空时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 9</span><span class="token comment">// &amp;&amp;= 与上面相反，值不为 null、undefined、false、0或空时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 0</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token comment">// ??=  ,值为 null undefined 时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 0</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 9</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><ul><li><code>&amp;&amp;</code>与、<code>!!</code>或、<code>!</code>非，<code>!!</code>非的取反</li></ul><h2 id="逻辑位运算符"><a href="#逻辑位运算符" class="headerlink" title="逻辑位运算符"></a>逻辑位运算符</h2><ul><li><code>&amp;</code>位与、<code>|</code>位或、<code>^</code>位异或、<code>~</code>位非</li></ul><h2 id="位移运算符"><a href="#位移运算符" class="headerlink" title="位移运算符"></a>位移运算符</h2><ul><li><code>&lt;&lt;</code>左移、<code>&gt;&gt;</code>右移、<code>&gt;&gt;&gt;</code>无符号右移</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;链判断运算符&quot;&gt;&lt;a href=&quot;#链判断运算符&quot; class=&quot;headerlink&quot; title=&quot;链判断运算符 ?.&quot;&gt;&lt;/a&gt;链判断运算符 &lt;code&gt;?.&lt;/code&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;读取对象内部的某个属性时，判断上层对象是否存在&lt;/p</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="JS" scheme="http://damao2250.com/tags/JS/"/>
    
    <category term="运算符" scheme="http://damao2250.com/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    
  </entry>
  
  <entry>
    <title>不同分辨率屏幕的适配</title>
    <link href="http://damao2250.com/2023/11/04/%E4%B8%8D%E5%90%8C%E5%88%86%E8%BE%A8%E7%8E%87%E5%B1%8F%E5%B9%95%E7%9A%84%E9%80%82%E9%85%8D/"/>
    <id>http://damao2250.com/2023/11/04/%E4%B8%8D%E5%90%8C%E5%88%86%E8%BE%A8%E7%8E%87%E5%B1%8F%E5%B9%95%E7%9A%84%E9%80%82%E9%85%8D/</id>
    <published>2023-11-04T09:40:24.000Z</published>
    <updated>2023-11-04T10:00:29.598Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用两个转换库"><a href="#使用两个转换库" class="headerlink" title="使用两个转换库"></a>使用两个转换库</h2><ul><li>postcss-pxtorem<pre class="line-numbers language-none"><code class="language-none">postcss-pxtorem 插件，可以从像素单位生成 rem 单位<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>amfe-flexible<pre class="line-numbers language-none"><code class="language-none">amfe-flexible 是配置可伸缩布局方案，主要是将 1rem 设为 viewWidth&#x2F;10PC端设计稿为1920时：1920&#x2F;10 &#x3D; 192移动端设计稿为750时：750&#x2F;10 &#x3D; 75<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="在项目中配置"><a href="#在项目中配置" class="headerlink" title="在项目中配置"></a>在项目中配置</h2><ul><li><p>1、安装依赖</p><pre class="line-numbers language-ps" data-language="ps"><code class="language-ps">npm install postcss-pxtoremnpm install amfe-flexible<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>2、<code>vue.config.js</code>中配置</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> postCssPxToRem <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-pxtorem'</span><span class="token punctuation">)</span><span class="token comment">// import postCssPxToRem from 'postcss-pxtorem'</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    loaderOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      postcss<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token function">postCssPxToRem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            rootValue<span class="token operator">:</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token comment">// 设计稿尺寸 1rem 的大小</span>            propList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span> <span class="token comment">// 需要转换的属性列表，*表示全部转换</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或<code>vite.config.ts</code>中配置</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> postCssPxToRem <span class="token keyword">from</span> <span class="token string">'postcss-pxtorem'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    postcss<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token function">postCssPxToRem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>          rootValue<span class="token operator">:</span> <span class="token string">'192'</span><span class="token punctuation">,</span>          propList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>3、main.js 中引入</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">'amfe-flexible'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;使用两个转换库&quot;&gt;&lt;a href=&quot;#使用两个转换库&quot; class=&quot;headerlink&quot; title=&quot;使用两个转换库&quot;&gt;&lt;/a&gt;使用两个转换库&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;postcss-pxtorem&lt;pre class=&quot;line-numbers lang</summary>
      
    
    
    
    <category term="Vue" scheme="http://damao2250.com/categories/Vue/"/>
    
    
    <category term="分辨率适配" scheme="http://damao2250.com/tags/%E5%88%86%E8%BE%A8%E7%8E%87%E9%80%82%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>CF方案</title>
    <link href="http://damao2250.com/2023/10/27/CF%E6%96%B9%E6%A1%88/"/>
    <id>http://damao2250.com/2023/10/27/CF%E6%96%B9%E6%A1%88/</id>
    <published>2023-10-27T07:16:49.000Z</published>
    <updated>2023-10-27T08:34:59.252Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-准备-v2rayN"><a href="#1-准备-v2rayN" class="headerlink" title="1. 准备 v2rayN"></a>1. 准备 v2rayN</h2><ul><li>下载安装 <a href="https://github.com/2dust/v2rayN/releases">v2rayN最新版</a></li></ul><h2 id="2-cloudflare"><a href="#2-cloudflare" class="headerlink" title="2. cloudflare"></a>2. cloudflare</h2><ul><li><p>访问 <a href="https://dash.cloudflare.com/">cloudflare</a>，使用临时邮箱或自己的邮箱注册一个账号</p></li><li><p>临时邮箱：<a href="https://www.linshiyouxiang.net/">https://www.linshiyouxiang.net/</a></p></li><li><p>注册好cloudflare后，选择添加站点，选择workers和pages，然后重新验证邮箱，去邮箱点击验证的链接即可</p></li><li><p>验证邮箱后，点击创建worker，修改worker名称，点击部署，点击配置worker，点击快速编辑</p></li><li><p>进入配置worker页面后，点击快速编辑，把worker.js的代码全部删除，然后复制<a href="https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js">部署代码https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js</a> 粘贴到worker.js</p></li><li><p>粘贴完worker.js后，需要修改第七行的<code>userID</code>，需要先去<a href="https://1024tools.com/uuid">uuid生成：https://1024tools.com/uuid</a>，生成后选择一组复制粘贴到第七行的<code>userID</code></p></li><li><p>worker.js的第九行的<code>proxyIP</code>，使用下面其中一组代理即可</p><pre class="line-numbers language-none"><code class="language-none">cdn-all.xn--b6gac.eu.orgcdn.xn--b6gac.eu.org cdn-b100.xn--b6gac.eu.org edgetunnel.anycast.eu.org cdn.anycast.eu.org （亚洲地区）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>完成userID和proxyIP配置后，点击保存并部署，部署完后点击 发送 按钮，看右边能正常返回来json说明部署成功</p></li><li><p>将刚刚点击发送的URL与userID拼接成url地址访问，如：<a href="https://worker007.u1-kejy8.workers.dev/299a134c-c7b7-45f8-b8a8-649c86%EF%BC%8C%E7%84%B6%E5%90%8E%E5%B0%86%60vless://%60%E5%BC%80%E5%A4%B4%E7%9A%84%E9%82%A3%E4%B8%80%E8%A1%8C%E5%85%A8%E9%83%A8%E5%A4%8D%E5%88%B6%E5%88%B0v2rayN">https://worker007.u1-kejy8.workers.dev/299a134c-c7b7-45f8-b8a8-649c86，然后将`vless://`开头的那一行全部复制到v2rayN</a></p></li><li><p>打开v2rayN，点击服务器，点击从剪贴板导入批量URL，导入后可以看到节点，然后双击节点，传输层安全选择空，端口改为80或者2052</p></li><li><p>地址需要使用到邮箱IP，使用workers win专用<a href="https://jdssl.top/wp-content/uploads/2023/07/works%E4%B8%93%E7%94%A8ip%E4%BC%98%E9%80%89.zip">ip优选 https://jdssl.top/wp-content/uploads/2023/07/works%E4%B8%93%E7%94%A8ip%E4%BC%98%E9%80%89.zip</a>，下载后打开文件夹，随便双击一个bat结尾的文件，双击前需要确保所有的科学上网工具都是关闭的，地址改为优选IP</p></li><li><p>无法优选ip 可以使用这个（youxuan.jdssl.link）域名在v2ray 填优选ip处填写，把端口改为：80 并把下面的tls关闭</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-准备-v2rayN&quot;&gt;&lt;a href=&quot;#1-准备-v2rayN&quot; class=&quot;headerlink&quot; title=&quot;1. 准备 v2rayN&quot;&gt;&lt;/a&gt;1. 准备 v2rayN&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载安装 &lt;a href=&quot;https://gith</summary>
      
    
    
    
    <category term="cloudflare" scheme="http://damao2250.com/categories/cloudflare/"/>
    
    
    <category term="cloudflare" scheme="http://damao2250.com/tags/cloudflare/"/>
    
    <category term="CF" scheme="http://damao2250.com/tags/CF/"/>
    
  </entry>
  
  <entry>
    <title>css自定义有序列表</title>
    <link href="http://damao2250.com/2023/09/13/css%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8/"/>
    <id>http://damao2250.com/2023/09/13/css%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8/</id>
    <published>2023-09-13T00:45:18.000Z</published>
    <updated>2023-09-13T02:10:10.289Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CSS-属性-list-style-type"><a href="#CSS-属性-list-style-type" class="headerlink" title="CSS 属性 list-style-type"></a>CSS 属性 list-style-type</h2><ul><li><code>list-style-type</code>可以设置列表元素的 marker（比如圆点、符号、或者自定义计数器样式）, 默认为disc实心圆点</li><li>参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style-type">MDN</a></li></ul><h2 id="常见属性"><a href="#常见属性" class="headerlink" title="常见属性"></a>常见属性</h2><ul><li><code>none</code> 不显示<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: none;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:none !important;">  <li style="list-style-type:none !important;">白日依山尽</li>  <li style="list-style-type:none !important;">黄河入海流</li>  <li style="list-style-type:none !important;">欲穷千里目</li>  <li style="list-style-type:none !important;">更上一层楼</li></ul></li><li><code>disc</code> 实心圆(默认)<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: disc;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:disc !important;">  <li style="list-style-type:disc !important;">白日依山尽</li>  <li style="list-style-type:disc !important;">黄河入海流</li>  <li style="list-style-type:disc !important;">欲穷千里目</li>  <li style="list-style-type:disc !important;">更上一层楼</li></ul></li><li><code>circle</code> 空心圆<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: circle;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:circle !important;">  <li style="list-style-type:circle !important;">白日依山尽</li>  <li style="list-style-type:circle !important;">黄河入海流</li>  <li style="list-style-type:circle !important;">欲穷千里目</li>  <li style="list-style-type:circle !important;">更上一层楼</li></ul></li><li><code>square</code> 实心方块<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: square;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:square !important;">  <li style="list-style-type:square !important;">白日依山尽</li>  <li style="list-style-type:square !important;">黄河入海流</li>  <li style="list-style-type:square !important;">欲穷千里目</li>  <li style="list-style-type:square !important;">更上一层楼</li></ul></li><li><code>decimal</code> 十进制阿拉伯数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:decimal !important;">  <li style="list-style-type:decimal !important;">白日依山尽</li>  <li style="list-style-type:decimal !important;">黄河入海流</li>  <li style="list-style-type:decimal !important;">欲穷千里目</li>  <li style="list-style-type:decimal !important;">更上一层楼</li></ul></li><li><code>cjk-decimal</code> 十进制数大写<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-decimal !important;">  <li style="list-style-type:cjk-decimal !important;">白日依山尽</li>  <li style="list-style-type:cjk-decimal !important;">黄河入海流</li>  <li style="list-style-type:cjk-decimal !important;">欲穷千里目</li>  <li style="list-style-type:cjk-decimal !important;">更上一层楼</li></ul></li><li><code>decimal-leading-zero</code> 十进制阿拉伯数字(个位数前面补零)<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: decimal-leading-zero;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:decimal-leading-zero !important;">  <li style="list-style-type:decimal-leading-zero !important;">白日依山尽</li>  <li style="list-style-type:decimal-leading-zero !important;">黄河入海流</li>  <li style="list-style-type:decimal-leading-zero !important;">欲穷千里目</li>  <li style="list-style-type:decimal-leading-zero !important;">更上一层楼</li></ul></li><li><code>lower-roman</code> 小写的罗马数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: lower-roman;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:lower-roman !important;">  <li style="list-style-type:lower-roman !important;">白日依山尽</li>  <li style="list-style-type:lower-roman !important;">黄河入海流</li>  <li style="list-style-type:lower-roman !important;">欲穷千里目</li>  <li style="list-style-type:lower-roman !important;">更上一层楼</li></ul></li><li><code>upper-roman</code> 大写的罗马数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: upper-roman;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:upper-roman !important;">  <li style="list-style-type:upper-roman !important;">白日依山尽</li>  <li style="list-style-type:upper-roman !important;">黄河入海流</li>  <li style="list-style-type:upper-roman !important;">欲穷千里目</li>  <li style="list-style-type:upper-roman !important;">更上一层楼</li></ul></li><li>其他<ul><li>lower-greek 小写古典希腊文</li><li>lower-alpha, lower-latin 小写ASCII字母</li><li>upper-alpha, upper-latin 大写ASCII字母</li><li>其他非常用的属性值：<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style-type#%E8%AF%AD%E6%B3%95">语法取值</a></li></ul></li></ul><h2 id="特殊属性"><a href="#特殊属性" class="headerlink" title="特殊属性"></a>特殊属性</h2><ul><li><p>取值为 <code>cjk-decimal</code>, <code>cjk-ideographic</code>, <code>japanese-informal</code>, <code>korean-hanja-informal</code>, <code>trad-chinese-informal</code>时，个位都是 一、二、三…</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-decimal !important;">  <li style="list-style-type:cjk-decimal !important;">白日依山尽</li>  <li style="list-style-type:cjk-decimal !important;">黄河入海流</li>  <li style="list-style-type:cjk-decimal !important;">欲穷千里目</li>  <li style="list-style-type:cjk-decimal !important;">更上一层楼</li></ul></li><li><p>取值为 <code>korean-hanja-formal</code>, <code>simp-chinese-formal</code>, <code>trad-chinese-formal</code>时，个位都是 壹、贰、叁…</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: simp-chinese-formal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:simp-chinese-formal !important;">  <li style="list-style-type:simp-chinese-formal !important;">白日依山尽</li>  <li style="list-style-type:simp-chinese-formal !important;">黄河入海流</li>  <li style="list-style-type:simp-chinese-formal !important;">欲穷千里目</li>  <li style="list-style-type:simp-chinese-formal !important;">更上一层楼</li></ul></li><li><p><code>cjk-earthly-branch</code>：子、丑、寅…（地支序号）</p><ul><li>地支超过十二时会自动排序：子子、子丑、子寅…（天干同理）<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-earthly-branch;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-earthly-branch !important;"><li style="list-style-type:cjk-earthly-branch !important;">白日依山尽</li><li style="list-style-type:cjk-earthly-branch !important;">黄河入海流</li><li style="list-style-type:cjk-earthly-branch !important;">欲穷千里目</li><li style="list-style-type:cjk-earthly-branch !important;">更上一层楼</li></ul></li></ul></li><li><p><code>cjk-heavenly-stem</code>：子、丑、寅…（天干序号）</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-heavenly-stem;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-heavenly-stem !important;">  <li style="list-style-type:cjk-heavenly-stem !important;">白日依山尽</li>  <li style="list-style-type:cjk-heavenly-stem !important;">黄河入海流</li>  <li style="list-style-type:cjk-heavenly-stem !important;">欲穷千里目</li>  <li style="list-style-type:cjk-heavenly-stem !important;">更上一层楼</li></ul></li></ul><h2 id="自定义序号"><a href="#自定义序号" class="headerlink" title="自定义序号"></a>自定义序号</h2><h3 id="自定义数字"><a href="#自定义数字" class="headerlink" title="自定义数字"></a>自定义数字</h3>  <pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;  @counter-style circled-simp-chinese-informal &#123;    system: additive;    suffix: &quot; &quot;;    additive-symbols: ㊉ 10, ㊈ 9, ㊇ 8, ㊆ 7, ㊅ 6, ㊄ 5, ㊃ 4, ㊂ 3, ㊁ 2, ㊀ 1;  &#125;  .origin &#123;    list-style: circled-simp-chinese-informal;  &#125;&lt;&#x2F;style&gt;&lt;ul class&#x3D;&quot;origin&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <style>    @counter-style circled-simp-chinese-informal {      system: additive;      suffix: " ";      additive-symbols: ㊉ 10, ㊈ 9, ㊇ 8, ㊆ 7, ㊅ 6, ㊄ 5, ㊃ 4, ㊂ 3, ㊁ 2, ㊀ 1;    }    .origin {      list-style: circled-simp-chinese-informal  !important;    }  </style>  <ul class="origin">    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>  </ul><h3 id="自定义表情"><a href="#自定义表情" class="headerlink" title="自定义表情"></a>自定义表情</h3>  <pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;  @counter-style emoji-test &#123;    system: additive;    suffix: &quot; &quot;;    additive-symbols: 😍 10, 😜 9, 😂 8, 😅 7, 😁 6, 🙂 5, 😐 4, 🙁 3, 😨 2, 😭 1;  &#125;  .emoji &#123;    list-style: emoji-test;  &#125;&lt;&#x2F;style&gt;&lt;ul class&#x3D;&quot;emoji&quot;&gt;  &lt;li&gt;君不见，黄河之水天上来，奔流到海不复回&lt;&#x2F;li&gt;  &lt;li&gt;君不见，高堂明镜悲白发，朝如青丝暮成雪&lt;&#x2F;li&gt;  &lt;li&gt;人生得意须尽欢，莫使金樽空对月&lt;&#x2F;li&gt;  &lt;li&gt;天生我材必有用，千金散尽还复来&lt;&#x2F;li&gt;  &lt;li&gt;烹羊宰牛且为乐，会须一饮三百杯&lt;&#x2F;li&gt;  &lt;li&gt;岑夫子，丹丘生，将进酒，杯莫停&lt;&#x2F;li&gt;  &lt;li&gt;与君歌一曲，请君为我倾耳听&lt;&#x2F;li&gt;  &lt;li&gt;钟鼓馔玉不足贵，但愿长醉不愿醒&lt;&#x2F;li&gt;  &lt;li&gt;古来圣贤皆寂寞，惟有饮者留其名&lt;&#x2F;li&gt;  &lt;li&gt;陈王昔时宴平乐，斗酒十千恣欢谑&lt;&#x2F;li&gt;  &lt;li&gt;主人何为言少钱，径须沽取对君酌&lt;&#x2F;li&gt;  &lt;li&gt;五花马，千金裘，呼儿将出换美酒，与尔同销万古愁&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <style>    @counter-style emoji-test {      system: additive;      suffix: " ";      additive-symbols: 😍 10, 😜 9, 😂 8, 😅 7, 😁 6, 🙂 5, 😐 4, 🙁 3, 😨 2, 😭 1;    }    .emoji {      list-style: emoji-test  !important;    }  </style>  <ul class="emoji">    <li class="emoji">君不见，黄河之水天上来，奔流到海不复回</li>    <li class="emoji">君不见，高堂明镜悲白发，朝如青丝暮成雪</li>    <li class="emoji">人生得意须尽欢，莫使金樽空对月</li>    <li class="emoji">天生我材必有用，千金散尽还复来</li>    <li class="emoji">烹羊宰牛且为乐，会须一饮三百杯</li>    <li class="emoji">岑夫子，丹丘生，将进酒，杯莫停</li>    <li class="emoji">与君歌一曲，请君为我倾耳听</li>    <li class="emoji">钟鼓馔玉不足贵，但愿长醉不愿醒</li>    <li class="emoji">古来圣贤皆寂寞，惟有饮者留其名</li>    <li class="emoji">陈王昔时宴平乐，斗酒十千恣欢谑</li>    <li class="emoji">主人何为言少钱，径须沽取对君酌</li>    <li class="emoji">五花马，千金裘，呼儿将出换美酒，与尔同销万古愁</li>  </ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;CSS-属性-list-style-type&quot;&gt;&lt;a href=&quot;#CSS-属性-list-style-type&quot; class=&quot;headerlink&quot; title=&quot;CSS 属性 list-style-type&quot;&gt;&lt;/a&gt;CSS 属性 list-style-ty</summary>
      
    
    
    
    <category term="CSS" scheme="http://damao2250.com/categories/CSS/"/>
    
    
    <category term="CSS" scheme="http://damao2250.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>信息系统项目管理师教程</title>
    <link href="http://damao2250.com/2023/09/06/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E6%95%99%E7%A8%8B/"/>
    <id>http://damao2250.com/2023/09/06/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E6%95%99%E7%A8%8B/</id>
    <published>2023-09-06T06:04:21.000Z</published>
    <updated>2023-09-20T07:38:19.964Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1、信息化发展"><a href="#1、信息化发展" class="headerlink" title="1、信息化发展"></a>1、信息化发展</h1><h2 id="信息与信息化"><a href="#信息与信息化" class="headerlink" title="信息与信息化"></a>信息与信息化</h2><h3 id="信息"><a href="#信息" class="headerlink" title="信息"></a>信息</h3><h3 id="信息系统"><a href="#信息系统" class="headerlink" title="信息系统"></a>信息系统</h3><h3 id="信息化"><a href="#信息化" class="headerlink" title="信息化"></a>信息化</h3><h2 id="现代化基础建设"><a href="#现代化基础建设" class="headerlink" title="现代化基础建设"></a>现代化基础建设</h2><h3 id="新型基础设施建设"><a href="#新型基础设施建设" class="headerlink" title="新型基础设施建设"></a>新型基础设施建设</h3><h3 id="工业互联网"><a href="#工业互联网" class="headerlink" title="工业互联网"></a>工业互联网</h3><h3 id="车联网"><a href="#车联网" class="headerlink" title="车联网"></a>车联网</h3><h2 id="现代化创新发展"><a href="#现代化创新发展" class="headerlink" title="现代化创新发展"></a>现代化创新发展</h2><h3 id="农业农村现代化"><a href="#农业农村现代化" class="headerlink" title="农业农村现代化"></a>农业农村现代化</h3><h3 id="两化融合与智能制造"><a href="#两化融合与智能制造" class="headerlink" title="两化融合与智能制造"></a>两化融合与智能制造</h3><h3 id="消费互联网"><a href="#消费互联网" class="headerlink" title="消费互联网"></a>消费互联网</h3><h2 id="数字中国"><a href="#数字中国" class="headerlink" title="数字中国"></a>数字中国</h2><h3 id="数字经济"><a href="#数字经济" class="headerlink" title="数字经济"></a>数字经济</h3><h3 id="数字政府"><a href="#数字政府" class="headerlink" title="数字政府"></a>数字政府</h3><h3 id="数字社会"><a href="#数字社会" class="headerlink" title="数字社会"></a>数字社会</h3><h3 id="数字生态"><a href="#数字生态" class="headerlink" title="数字生态"></a>数字生态</h3><h2 id="数字化转型与元宇宙"><a href="#数字化转型与元宇宙" class="headerlink" title="数字化转型与元宇宙"></a>数字化转型与元宇宙</h2><h3 id="数字化转型"><a href="#数字化转型" class="headerlink" title="数字化转型"></a>数字化转型</h3><h3 id="元宇宙"><a href="#元宇宙" class="headerlink" title="元宇宙"></a>元宇宙</h3><h1 id="2、信息技术发展"><a href="#2、信息技术发展" class="headerlink" title="2、信息技术发展"></a>2、信息技术发展</h1><h2 id="信息技术及其发展"><a href="#信息技术及其发展" class="headerlink" title="信息技术及其发展"></a>信息技术及其发展</h2><h3 id="计算机软硬件"><a href="#计算机软硬件" class="headerlink" title="计算机软硬件"></a>计算机软硬件</h3><h3 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h3><h3 id="存储和数据库"><a href="#存储和数据库" class="headerlink" title="存储和数据库"></a>存储和数据库</h3><h3 id="信息安全"><a href="#信息安全" class="headerlink" title="信息安全"></a>信息安全</h3><h3 id="信息技术的发展"><a href="#信息技术的发展" class="headerlink" title="信息技术的发展"></a>信息技术的发展</h3><h2 id="新一代信息技术及应用"><a href="#新一代信息技术及应用" class="headerlink" title="新一代信息技术及应用"></a>新一代信息技术及应用</h2><h3 id="物联网"><a href="#物联网" class="headerlink" title="物联网"></a>物联网</h3><h3 id="云计算"><a href="#云计算" class="headerlink" title="云计算"></a>云计算</h3><h3 id="大数据"><a href="#大数据" class="headerlink" title="大数据"></a>大数据</h3><h3 id="区块链"><a href="#区块链" class="headerlink" title="区块链"></a>区块链</h3><h3 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a>人工智能</h3><h3 id="虚拟现实"><a href="#虚拟现实" class="headerlink" title="虚拟现实"></a>虚拟现实</h3><h1 id="3、信息系统治理"><a href="#3、信息系统治理" class="headerlink" title="3、信息系统治理"></a>3、信息系统治理</h1><h1 id="4、信息系统管理"><a href="#4、信息系统管理" class="headerlink" title="4、信息系统管理"></a>4、信息系统管理</h1><h1 id="5、信息系统工程"><a href="#5、信息系统工程" class="headerlink" title="5、信息系统工程"></a>5、信息系统工程</h1><h1 id="6、项目管理概论"><a href="#6、项目管理概论" class="headerlink" title="6、项目管理概论"></a>6、项目管理概论</h1><h2 id="项目基本要素"><a href="#项目基本要素" class="headerlink" title="项目基本要素"></a>项目基本要素</h2><h3 id="项目基础"><a href="#项目基础" class="headerlink" title="项目基础"></a>项目基础</h3><pre><code>+ 独特的产品、服务、可交付成果+ 临时性工作（有明确的起点终点，临时性不等于时间短）+ 项目驱动变更+ 项目创造业务价值（有形、无形）+ 项目启动背景</code></pre><h3 id="项目管理的重要性"><a href="#项目管理的重要性" class="headerlink" title="项目管理的重要性"></a>项目管理的重要性</h3><pre><code>+ 将知识、技能、工具、技术应用于项目活动+ 管理制约因素：范围、进度、成本、资源、质量、风险+ 平衡制约因素对项目影响（不同项目因素不同）</code></pre><h3 id="项目成功的标准"><a href="#项目成功的标准" class="headerlink" title="项目成功的标准"></a>项目成功的标准</h3><pre><code>+ 达到时间、成本、范围、质量指标+ 完成效益管理计划+ 完成组织从‘当前状态’到‘将来状态’+ 履行合同条款、条件+ 达到组织战略、目的、目标</code></pre><h3 id="项目、项目集、项目组合与运营管理"><a href="#项目、项目集、项目组合与运营管理" class="headerlink" title="项目、项目集、项目组合与运营管理"></a>项目、项目集、项目组合与运营管理</h3><pre><code>+ 项目、项目集-&gt;正确地做事+ 项目组合-&gt;做正确的事+ 项目集管理+ 项目组合管理+ 运营管理（项目交付后，不属于项目管理范畴）+ 运营与项目管理+ 组织级项目管理和战略</code></pre><h3 id="项目内外部运行环境（选择题）"><a href="#项目内外部运行环境（选择题）" class="headerlink" title="项目内外部运行环境（选择题）"></a>项目内外部运行环境（选择题）</h3><pre><code>+ 组织过程资产 （安知数理过？）  - 安保和安全：对设施访问、数据保护、保密级别的程序和实践  - 知识资产：成员或专家的隐性知识  - 数据资产：数据库/数据、文件库/工件、度量指标  - 治理文件：政策、流程  - 过程资产：模板/框架、工具/方法、PMO资源+ 组织内部的事业环境因素+ 组织外部的事业环境因素</code></pre><h3 id="组织系统"><a href="#组织系统" class="headerlink" title="组织系统"></a>组织系统</h3><pre><code>+ 治理框架+ 管理要素+ 组织结构类型（职能、矩阵-强、矩阵-弱、矩阵-均衡、项目导向、混合型、PMO）  - 职能型（集中式）：同职能的人在同一部门，协调路径：职能A-职能A经理-职能B经理-职能B，职业清晰，职能部门间的联系弱+ 项目管理办公室（支持型、控制型、指令型）</code></pre><h3 id="项目管理和产品管理"><a href="#项目管理和产品管理" class="headerlink" title="项目管理和产品管理"></a>项目管理和产品管理</h3><h2 id="项目经理的角色"><a href="#项目经理的角色" class="headerlink" title="项目经理的角色"></a>项目经理的角色</h2><h3 id="项目经理的定义"><a href="#项目经理的定义" class="headerlink" title="项目经理的定义"></a>项目经理的定义</h3><h3 id="项目经理的影响力范围"><a href="#项目经理的影响力范围" class="headerlink" title="项目经理的影响力范围"></a>项目经理的影响力范围</h3><h3 id="项目经历的能力（重点）"><a href="#项目经历的能力（重点）" class="headerlink" title="项目经历的能力（重点）"></a>项目经历的能力（重点）</h3><pre><code>+ 项目管理技能（正确地做事）+ 战略和商务管理技能+ 领导力技能（做正确的事）+ 领导力与管理</code></pre><h2 id="价值驱动的项目管理知识体系（重点）"><a href="#价值驱动的项目管理知识体系（重点）" class="headerlink" title="价值驱动的项目管理知识体系（重点）"></a>价值驱动的项目管理知识体系（重点）</h2><h3 id="项目管理原则（12个原则）"><a href="#项目管理原则（12个原则）" class="headerlink" title="项目管理原则（12个原则）"></a>项目管理原则（12个原则）</h3><pre><code>+ 勤勉、尊重和关心他人+ 营造协作的项目团队环境+ 促进干系人有效参与+ 聚焦于价值+ 识别、评估和响应系统交互+ 展现领导力行为+ 根据环境进行裁剪+ 将质量融入到过程和结果中+ 驾驭复杂性+ 优化风险应对+ 拥抱适应性和韧性+ 为实现目标而驱动变革</code></pre><h3 id="项目生命周期和项目阶段"><a href="#项目生命周期和项目阶段" class="headerlink" title="项目生命周期和项目阶段"></a>项目生命周期和项目阶段</h3><pre><code>+ 项目启动+ 组织与准备+ 执行项目工作+ 结束项目+ 生命周期特征  - 成本与人力投入：低（开始）-最高（工作执行）-迅速回落（项目快结束）  - 风险于不确定性：最大（开始）-随着决策的定制与交付成果的验收而降低  - 变更和纠错成本：低（开始）-项目越接近完成越大+ 生命周期类型（重点）  - 预测型（需求明确、计划驱动）-结束时一次交付  - 迭代型（重复循环）-分次交付  - 增量型（逐渐增加）-分次交付  - 适应型（敏捷）-频繁交付  - 混合型（不考）</code></pre><h3 id="项目管理过程组（五个过程组）"><a href="#项目管理过程组（五个过程组）" class="headerlink" title="项目管理过程组（五个过程组）"></a>项目管理过程组（五个过程组）</h3><pre><code>+ 启动过程组+ 规划过程组+ 执行过程组+ 监控过程组+ 收尾过程组</code></pre><h3 id="项目管理知识领域（十大知识领域）"><a href="#项目管理知识领域（十大知识领域）" class="headerlink" title="项目管理知识领域（十大知识领域）"></a>项目管理知识领域（十大知识领域）</h3><ul><li></li></ul><h3 id="项目绩效域（8个绩效域）"><a href="#项目绩效域（8个绩效域）" class="headerlink" title="项目绩效域（8个绩效域）"></a>项目绩效域（8个绩效域）</h3><h3 id="价值交付系统"><a href="#价值交付系统" class="headerlink" title="价值交付系统"></a>价值交付系统</h3><h1 id="7、项目立项管理"><a href="#7、项目立项管理" class="headerlink" title="7、项目立项管理"></a>7、项目立项管理</h1><ul><li>四个阶段：项目立项与立项申请、初步可行性研究、详细可行性研究、评估与决策<h2 id="项目建议与立项申请"><a href="#项目建议与立项申请" class="headerlink" title="项目建议与立项申请"></a>项目建议与立项申请</h2><h2 id="项目可行性研究"><a href="#项目可行性研究" class="headerlink" title="项目可行性研究"></a>项目可行性研究</h2><h3 id="可行性研究内容（重点）"><a href="#可行性研究内容（重点）" class="headerlink" title="可行性研究内容（重点）"></a>可行性研究内容（重点）</h3><ul><li>技术可行性、经济可行性、社会效益可行性、运行环境可行性<h3 id="初步可行性研究"><a href="#初步可行性研究" class="headerlink" title="初步可行性研究"></a>初步可行性研究</h3><h3 id="详细可行性研究"><a href="#详细可行性研究" class="headerlink" title="详细可行性研究"></a>详细可行性研究</h3></li></ul></li></ul><h1 id="8、项目整合管理"><a href="#8、项目整合管理" class="headerlink" title="8、项目整合管理"></a>8、项目整合管理</h1><h2 id="管理基础"><a href="#管理基础" class="headerlink" title="管理基础"></a>管理基础</h2><h3 id="执行整合"><a href="#执行整合" class="headerlink" title="执行整合"></a>执行整合</h3><h3 id="整合的复杂性"><a href="#整合的复杂性" class="headerlink" title="整合的复杂性"></a>整合的复杂性</h3><h3 id="管理新实践"><a href="#管理新实践" class="headerlink" title="管理新实践"></a>管理新实践</h3><h3 id="项目管理计划和文件"><a href="#项目管理计划和文件" class="headerlink" title="项目管理计划和文件"></a>项目管理计划和文件</h3><h2 id="项目整合管理过程"><a href="#项目整合管理过程" class="headerlink" title="项目整合管理过程"></a>项目整合管理过程</h2><h3 id="过程概述"><a href="#过程概述" class="headerlink" title="过程概述"></a>过程概述</h3><h3 id="裁剪考虑因素"><a href="#裁剪考虑因素" class="headerlink" title="裁剪考虑因素"></a>裁剪考虑因素</h3><h3 id="敏捷与适应方法"><a href="#敏捷与适应方法" class="headerlink" title="敏捷与适应方法"></a>敏捷与适应方法</h3><h2 id="执行项目章程"><a href="#执行项目章程" class="headerlink" title="执行项目章程"></a>执行项目章程</h2><h2 id="制定项目管理计划"><a href="#制定项目管理计划" class="headerlink" title="制定项目管理计划"></a>制定项目管理计划</h2><h2 id="指导与管理项目工作"><a href="#指导与管理项目工作" class="headerlink" title="指导与管理项目工作"></a>指导与管理项目工作</h2><h2 id="管理项目知识"><a href="#管理项目知识" class="headerlink" title="管理项目知识"></a>管理项目知识</h2><h2 id="监控项目工作"><a href="#监控项目工作" class="headerlink" title="监控项目工作"></a>监控项目工作</h2><h2 id="实施整体变更控制"><a href="#实施整体变更控制" class="headerlink" title="实施整体变更控制"></a>实施整体变更控制</h2><h2 id="结束项目或阶段"><a href="#结束项目或阶段" class="headerlink" title="结束项目或阶段"></a>结束项目或阶段</h2><h1 id="9、项目范围管理-5"><a href="#9、项目范围管理-5" class="headerlink" title="9、项目范围管理(5)"></a>9、项目范围管理(5)</h1><h1 id="10、项目进度管理-5"><a href="#10、项目进度管理-5" class="headerlink" title="10、项目进度管理(5)"></a>10、项目进度管理(5)</h1><h1 id="11、项目成本管理-5"><a href="#11、项目成本管理-5" class="headerlink" title="11、项目成本管理(5)"></a>11、项目成本管理(5)</h1><h1 id="12、项目质量管理-5"><a href="#12、项目质量管理-5" class="headerlink" title="12、项目质量管理(5)"></a>12、项目质量管理(5)</h1><h1 id="13、项目资源管理（论文）"><a href="#13、项目资源管理（论文）" class="headerlink" title="13、项目资源管理（论文）"></a>13、项目资源管理（论文）</h1><h1 id="14、项目沟通管理（与干系人联系）"><a href="#14、项目沟通管理（与干系人联系）" class="headerlink" title="14、项目沟通管理（与干系人联系）"></a>14、项目沟通管理（与干系人联系）</h1><h1 id="15、项目风险管理"><a href="#15、项目风险管理" class="headerlink" title="15、项目风险管理"></a>15、项目风险管理</h1><h1 id="16、项目采购管理"><a href="#16、项目采购管理" class="headerlink" title="16、项目采购管理"></a>16、项目采购管理</h1><h1 id="17、项目干系人管理（与沟通联系）"><a href="#17、项目干系人管理（与沟通联系）" class="headerlink" title="17、项目干系人管理（与沟通联系）"></a>17、项目干系人管理（与沟通联系）</h1><h1 id="18、项目绩效域"><a href="#18、项目绩效域" class="headerlink" title="18、项目绩效域"></a>18、项目绩效域</h1><h1 id="19、配置与变更管理-5"><a href="#19、配置与变更管理-5" class="headerlink" title="19、配置与变更管理(5)"></a>19、配置与变更管理(5)</h1><h1 id="20、高级项目管理"><a href="#20、高级项目管理" class="headerlink" title="20、高级项目管理"></a>20、高级项目管理</h1><h1 id="21、项目管理科学基础"><a href="#21、项目管理科学基础" class="headerlink" title="21、项目管理科学基础"></a>21、项目管理科学基础</h1><h1 id="22、组织通用治理"><a href="#22、组织通用治理" class="headerlink" title="22、组织通用治理"></a>22、组织通用治理</h1><h1 id="23、组织通用管理"><a href="#23、组织通用管理" class="headerlink" title="23、组织通用管理"></a>23、组织通用管理</h1><h1 id="24、法律法规与标准规范"><a href="#24、法律法规与标准规范" class="headerlink" title="24、法律法规与标准规范"></a>24、法律法规与标准规范</h1><h1 id="关键英文词"><a href="#关键英文词" class="headerlink" title="关键英文词"></a>关键英文词</h1><ul><li>PMO（项目管理办公室）- Project Management Office Manager</li><li>CCB（项目管理委员会）- Change Control Board</li></ul><h2 id="十大管理"><a href="#十大管理" class="headerlink" title="十大管理"></a>十大管理</h2><p>立项管理</p><ul><li><p>整合管理、范围管理、进度管理、成本管理、质量管理</p></li><li><p>资源管理、沟通管理、风险管理、采购管理、干系人管理</p></li><li><p>范进增城至，</p></li><li><p>狗子踩风干</p></li></ul><p>1、综合知识的复习。</p><p>信管网有一个每日一练，是历年的真题集锦，每天可以抽出零散的时间做一做。因为参加这个考试的大多是上班族，不像学生可以有大块的时间学习，下班了家庭还都有一堆事，但是这个每日一练一定坚持下来，它可以让你保持题感，题感很重要，有的时候这道题你明明不会，有了题感，你选一个也可以选对的。做错的题做错题标记，或者用笔记记录下来。对于综合知识，当然最重要的还是系统的学习一遍，如果买了教材，28章内容，先简单看一遍，做每章练习题，尤其信管网直播的课后习题练习要完成，在信管网软题库再找对应章节的练习题巩固一下。论坛里也有其他考友上传的综合知识练习题，多做一做，同时一定要做好笔记，做错题和容易忘记的知识点记录下来，没事的时候就拿起来看一看，反复记忆。最后是做真题，对真题一定要重视起来，错题重复记忆，尽量正确率达到百分之九十以上。如果你平时关注网络科技，那就更好了。最近的考题都会有一些科技题，比如3G、4G、人工智能，这些如果你关注过，就会非常简单。对于5道英语题，我觉得不能放弃，论坛上有一个英文记忆卡，常用的词汇背下来，平时做一些题，这部分拿3分左右应该没问题。</p><p>2、案例分析的复习。</p><p>我16年考过一次网络规划设计师，由于我现在的工作和网络没有关系，那个考试的案例分析对于我来说非常难。相对而言，信息系统项目管理师整个17年的两次考试的案例简单的不可思议。只要看了信管网案例专题课程掌握相关内容基本没问题。我觉得考试机构也可能会发现这个问题，从而加大案例分析的难度，尤其是案例计算题，17年这两次的案例计算题真的是非常简单，只要你掌握了最基本的决策树、挣值分析、关键路径等，计算题都可以拿满分。另外两道案例题，你想一想题干里面涉及到10个管理的那些内容，多写一些，反正多写是不扣分的，只要你踩到得分点，就会给你分数。这两次考试的案例文字分析部分也都很简单，比如项目变更管理的主要工作程序，都是比较好记忆的知识点。如果复习过一遍，即将不能全部答对，但是六七成应该没有问题的。如果考试问到项目章程内容、项目工作说明书内容、范围说明书内容等，就有点困难了。考试前我背了两个，考试没考。所以个人觉得，如果高项的通过率过高，案例分析的难度势必会加大。</p><p>3、10大管理的重要性。</p><p>对于10大管理（6674343464整体、范围、进度、成本、质量、人力资源、沟通、干系人、风险、采购），我觉得，需要尽量掌握这47个过程的输入输出和工具，因为10大管理很重要，不仅综合知识会考，案例分析也都出在这里。比如下半年项目团队管理的方法就是人力资源管理第四个过程管理项目团队的工具。论文更不用说了，脑子里如果没有这个基础框架，论文可能也不太好写。对于十大管理，输入输出我在考试前虽然没有完全掌握，但也反复写了好几遍，大体也是有印象的。而对于10个管理的工具技术，应该是需要完全掌握的。要记下来这些东西，自己准备口诀也很重要，网络上可能有一些口诀，对自己是否适用不一定，如果自己想一些，可能更方便记忆。比如收集需求的工具技术非常多（访谈、焦点小组、引导式研讨会、群体创新技术、群众决策技术，问卷调查、观察、原型法、标杆对照、系统交互图、文件分析），我的口诀是焦点访谈引二群，观原文件问系标。当然对于一些成型的口诀，我们可以用，比如软件标准的（6大）动能靠用小护翼，（21小）是准用一安，错译成，学姐操石源，试改定分，应装一T)。还有监理活动的四控三管一协调 投进质变安信合（质量控制、进度控制、投资控制、变更控制、合同管理、信息管理、安全管理、组织协调）有了口诀记忆，原本非常困难的事情可就会变容易了。</p><p>4、论文的复习。</p><p>17年上半年论文没过，我当时一直觉得是判卷老师的问题，自己感觉论文写的不错，字也可以，按说不应该不及格的啊。心里对论文是看运气的这个说法深信不疑。网络上还有一些万能模板，比如凡事预则立不预则废，做好某某管理的计划非常重要。在考试前一周准备好开头结尾，中间把某某管理的输入输出工具写一下，感觉论文写起来很轻松。这样写出来的论文确实看运气，老师心情好就给过了，不给过也就只能再考一次。因为我对自己写作挺有信心的，所以对论文不够重视，只把论文专题课程看了一下，考试前两天把辅导资料上论文部分大致看了一遍，才发现论文看运气不是绝对的，如果认真复习，论文有必过的方式。可惜我当时复习时间已经来不及了，最终还是低分通过。对于某某管理的几大过程，在论文中简单的堆砌输入输出和工具是不可行的，需要针对你的这个项目写出合适的真实可行的内容才行。而且，如果想拿过高分，如果没有项目管理经验，那就需要对书上的内容精读、细读，真正的理解输入输出工具的意义。在我看的一个例文里，作者写的是沟通管理，第一点写的是识别干系人，我们不讨论这个是不是沟通管理的过程，但是识别干系人肯定是沟通管理非常重要的一部分。而且他几个过程的前几句是定义或者意义，这样肯定得下点功夫好好学习。当然如有项目管理经验，可能就容易一些。因为没有经验，读书写的文章，再真实也是假的，要是仔细读，是可以读出来的。对于大多数人来说，论文时间是很紧的，所以论文的框架考试前需要准备好，到考场临时构思时间可能会来不及。对于平时写字较少的人，还应适当练习一下写字速度。</p><p>2016年5月，我作为项目经理参加了某市扶贫办的精准扶贫信息管理系统的建设。该项目中标价890万，工期9个月。该系统要求可以通过b/s、手机客户端两种接入方式来实现该市和下属19个区县的扶贫数据采集、统计和分析，建立市县乡村四级的扶贫信息网络，实现扶贫全过程大数据管理，为精准扶贫工作提供信息服务和决策支持。2017年2月，系统通过正式验收后顺利上线，到目前运行良好，达到了预期目标，获得扶贫办的高度认可。</p><p>本文以该项目为例，结合我的实际工作经验，从规划范围管理、收集需求、定义范围、创建工作分解结构、确认范围、控制范围六个过程来阐述我是如何进行范围管理、防止项目范围发生蔓延，确保项目获得成功的。</p><p>正文</p><p>长期以来，政府一直采用粗放的扶贫工作方式，扶贫数字由基层估算推测后层层上报，扶贫资金漫天撒花，扶贫措施缺乏针对性，扶贫工作成效低下，造成了年年扶贫年年贫的局面。为了确保完成到2020年实现中央下达的所有贫困地区和贫困人口一道迈入全面小康社会的任务，政府扶贫办迫切需要掌握更准确的贫困人口基本情况，动态把握扶贫工作进展情况，然后采取针对性强，作用效果直接的措施，在这个背景下该市政府决定开发精准扶贫信息管理系统。我公司中标该项目，中标价890万，工期九个月，采用项目型组织结构。</p><p>该系统使用java语言编程和j2ee技术架构，数据库采用oracle11g，可以实现b/s、手机客户端双接入。该系统包括扶贫政策、帮扶对象、数据统计、帮扶日志、扶贫工程和成果、扶贫监督六个模块，旨在建立一套集扶贫对象信息采集、数据统计、精确帮扶、精确管理、帮扶成效反馈于一体的系统，主要包括五大功能（1）数据采集功能。采集该市和下属的19个区县的大约21万贫困人口的基本资料，为每位贫困户建立电子档案，包括《贫困户基本信息表》和《贫困户需求情况表》。（2）统计功能。实现对已脱贫人数/待脱贫人数、贫困类型统计、贫困户行政区域分布、帮扶效果多角度的统计。（3）分析和决策支持功能，通过大数据分析造成贫困的根本原因，为领导提供决策支持。（4）扶贫政策、信息发布功能。（五）扶贫干部管理功能。对7000名扶贫干部的帮扶过程进行记录和考核。</p><p>（范围）</p><p>由于政府面临的扶贫工作时间紧，任务重，所以对我们也提出了很高的要求，要求在2017年2月该市市级两会召开前必须上线，向市两会献礼。如果这次不能按时完工，不但会导致政府领导不满意，还会丧失以后继续跟政府合作的机会。而含糊的需求和频繁的范围变更会使进度拖延，成本超支，是导致项目失败最常见的原因。下面以该项目为例，结合我的实际工作经验，从以下六个过程来阐述我是如何对范围进行全方位管理的。</p><p>规划范围管理。</p><p>这次中标的主要原因还是因为金额较低和完全承诺了苛刻的工期要求。虽然时间紧，任务重，但是磨刀不误砍柴工，越是工期紧张，资源匮乏，就越需要制定一个好计划，科学合理的安排项目各项工作。</p><p>此系统跟我们单位开发的民政信息系统有较高的相似性，于是我们果断采用拿来主义，利用组织过程资产中的计划模板，结合项目章程，项目管理计划，制定了初步计划，然后组织各方讨论，根据各方建议修正后形成了本项目的范围管理计划和需求管理计划。</p><p>收集需求。</p><p>即确定、记录和管理干系人的需要的过程。在这个过程我要求项目组成员必须洞悉客户最高层的业务需求，搞明白为什么做这个项目；要引导客户认真对待，不能想到哪儿算哪儿。</p><p>我们首先列出了一份主要干系人清单，主要包括该市主管扶贫的副市长、扶贫办主任、扶贫办信息科科长、一般扶贫干部、贫困对象。然后兵分两路，一路去拜访有签字权的分管扶贫工作的各级领导，着重调查他们对系统的需求；一路去通过调查问卷的方式去调查一般扶贫干部、扶贫对象。最后将收集到的需求进行分析，分类、归纳形成了初步的软件规格说明书，并开发出了一个简单的系统原型进行演示，根据他们的意见修改完善，形成了最终的需求规格说明书，然后组织各方进行评审签字。</p><p>定义范围</p><p>即明确边界，制定项目和产品详细描述的过程。</p><p>收集完需求后，我们便进行了产品分析，制定了范围说明书。主要包括以下几方面内容（1）精准扶贫信息系统的范围，主要包括扶贫对象的数据采集、统计、分析和信息发布、扶贫干部管理五个功能（2）可交付物为应用程序、源代码以及各类项目文档。（3）验收标准能实现扶贫全过程的信息化管理。（4）制约因素工期，两会前必须完工投入使用。（5）项目的除外责任及假设条件。</p><p>创建工作分解结构</p><p>工作分解结构是项目管理工作的基础，是以可交付成果为导向的工作层级分解，是成本和进度估算的基础。</p><p>我动员项目组全体人员积极参与，将本项目的六个模块和项目管理工作逐层分解，采用列表式结构，严格遵守创建wbs的八个基本原则，确定责任人，防止团队中有人滥竽充数甚至镀金行为，编制wbs词典，得到了范围基准。</p><p>确认范围。</p><p>就是不断地与客户进行范围确认，与客户验收每一项可交付成果。每一项可交付成果完成后，我要求项目组内部先进行测试和检验，然后再组织各方进行验收。</p><p>电子政务类项目的典型特点就是客户方强势，双方地位不对等，不能完全按照合同办事；政府内部关系复杂，工作流程繁琐，一点小事都需要层层领导签字。一说指导项目，各级领导讲起来头头是道，常把别以为我不懂挂嘴边，一说签字，就说看不明白，不能签字出了错负责不起。在这个过程，我告诉项目组成员，要坚持真诚比技巧更重要的原则去跟政府方面的领导去沟通，耐心讲解，打好感情牌，千万不能油腔滑调，要用最朴素的真诚打消他们的顾虑，来配合我们完成各个阶段的验收。</p><p>控制范围。</p><p>导致范围变更的原因主要是外部环境的变化，比如政策的变化，计划的纰漏，新技术方案的出现，组织的变化，客户要求的变化等等。如果不对范围变更加以控制，任由变更盲目发生，必将导致范围蔓延，危及项目成败。特别是作为电子政务类项目，面对一个强势的甲方，常常因为领导一句话就要变更，更有必要建立制度来减少随意变更的发生。为此，我牵头制定了《项目变更管理办法》，明确变更的控制流程，并成立了由主管扶贫工作副市长、扶贫办主任、我和公司副总经理组成的变更控制委员会，同时建立了配置管理系统。</p><p>   规范的变更管理和配置管理对控制本项目的范围蔓延起到了良好的效果。在系统即将交付时，扶贫办领导提出希望能派两名项目组成员来提供大约两周的培训服务，而合同和范围说明书中并不包括此项内容，我们对变更可能造成的影响进行了分析：培训工作比较简单，派遣两名实习生即可胜任；变更不会对已经完成的工作产生影响，只需再编写一份培训材料、制作培训用的ppt即可。另外，由于培训和公司不在同一座城市，会产生大约2万元的差旅费，2名实习生的两周的人工成本大约为8000元。而增加此项培训服务有助于我们树立良好口碑，取得再次跟政府合作的机会，带来的长远利益远远大于增加的成本。于是我向变更控制委员会提交了变更建议，得到批准后组织实施。政府领导对此十分满意，不但在后边的项目验收环节十分配合，签字十分痛快还主动为两名培训人员解决了食宿问题，为公司节省了一笔差旅费。</p><p>由于项目组完善的范围管理工作，项目范围始终处于可控状态，该系统自2017年2月通过验收后正式上线，到目前运行良好，利用大数据实现了扶贫工作的精准管理，得到用户单位的好评。我也认识到自己的不足之处：对导致需求变化因素认识不全面，对需求变化可能带来的影响预估不足。近年来政府机构改革力度越来越大，政府职能也在不断调整变化，这给项目带来很大的变数，很可能一个部门的调整，整个项目就要从头干，甚至被取消。项目管理是变理想为现实、化抽象为具体的一门科学和艺术，这些宝贵的这些经验教训，将指导我在以后的工作中加以改进。 </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1、信息化发展&quot;&gt;&lt;a href=&quot;#1、信息化发展&quot; class=&quot;headerlink&quot; title=&quot;1、信息化发展&quot;&gt;&lt;/a&gt;1、信息化发展&lt;/h1&gt;&lt;h2 id=&quot;信息与信息化&quot;&gt;&lt;a href=&quot;#信息与信息化&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="信息系统项目管理师教程" scheme="http://damao2250.com/categories/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="信息系统项目管理师教程" scheme="http://damao2250.com/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>chrome允许跨域</title>
    <link href="http://damao2250.com/2023/08/29/chrome%E5%85%81%E8%AE%B8%E8%B7%A8%E5%9F%9F/"/>
    <id>http://damao2250.com/2023/08/29/chrome%E5%85%81%E8%AE%B8%E8%B7%A8%E5%9F%9F/</id>
    <published>2023-08-29T01:47:09.000Z</published>
    <updated>2023-08-29T02:19:46.864Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Windows-下"><a href="#Windows-下" class="headerlink" title="Windows 下"></a>Windows 下</h2><ul><li>复制一个 chrome 浏览器的快捷方式，在属性中找到打开路径，在 …chrome.exe 后面加上<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">--</span>args <span class="token operator">--</span>disable<span class="token operator">-</span>web<span class="token operator">-</span>security <span class="token operator">--</span>user<span class="token operator">-</span>data<span class="token operator">-</span>dir<span class="token operator">=</span><span class="token string">"C:/ChromeDevSession"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="Mac-下"><a href="#Mac-下" class="headerlink" title="Mac 下"></a>Mac 下</h2><ul><li>在终端中执行命令<pre class="line-numbers language-js" data-language="js"><code class="language-js">open <span class="token operator">-</span>a <span class="token string">'Google Chrome'</span> <span class="token operator">--</span>args <span class="token operator">--</span>disable<span class="token operator">-</span>web<span class="token operator">-</span>security <span class="token operator">--</span>user<span class="token operator">-</span>data<span class="token operator">-</span>dir<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>chrome_dev_test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="扩展程序的方式"><a href="#扩展程序的方式" class="headerlink" title="扩展程序的方式"></a>扩展程序的方式</h2><ul><li><p>Chrome: <a href="https://chrome.google.com/webstore/detail/cros-anywhere/gcagclbpmooihllccniifbdekfeneebm?hl=zh-CN">cros-anywhere</a></p></li><li><p>Firefox ：<a href="https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/">cros-anywhere</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Windows-下&quot;&gt;&lt;a href=&quot;#Windows-下&quot; class=&quot;headerlink&quot; title=&quot;Windows 下&quot;&gt;&lt;/a&gt;Windows 下&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;复制一个 chrome 浏览器的快捷方式，在属性中找到打开路径，在 …c</summary>
      
    
    
    
    <category term="小技巧" scheme="http://damao2250.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="Chrome" scheme="http://damao2250.com/tags/Chrome/"/>
    
    <category term="跨域" scheme="http://damao2250.com/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>Kodi相关</title>
    <link href="http://damao2250.com/2023/06/14/Kodi%E7%9B%B8%E5%85%B3/"/>
    <id>http://damao2250.com/2023/06/14/Kodi%E7%9B%B8%E5%85%B3/</id>
    <published>2023-06-14T08:47:10.000Z</published>
    <updated>2023-06-14T10:28:17.518Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Kodi下载"><a href="#Kodi下载" class="headerlink" title="Kodi下载"></a>Kodi下载</h2><ul><li><a href="https://kodi.tv/download/">Kodi</a></li></ul><h2 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h2><details>  <summary>在智能电视上免费看万千影视，只需要在Kodi上安装这个The Crew插件</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E5%85%8D%E8%B4%B9%E7%9C%8B%E4%B8%87%E5%8D%83%E5%BD%B1%E8%A7%86%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8Kodi%E4%B8%8A%E5%AE%89%E8%A3%85%E8%BF%99%E4%B8%AAThe%20Crew%E6%8F%92%E4%BB%B61.png" alt="在智能电视上免费看万千影视，只需要在Kodi上安装这个The Crew插件"></p><p>  <a href="https://www.luckydesigner.space/smarttv-to-watch-everythings-movie-via-kodi/">转自：https://www.luckydesigner.space/smarttv-to-watch-everythings-movie-via-kodi/</a></p></details><details>  <summary>智能电视上kodi观影之如何安装支持中文字幕插件</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8Akodi%E8%A7%82%E5%BD%B1%E4%B9%8B%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87%E5%AD%97%E5%B9%95%E6%8F%92%E4%BB%B6.png" alt="智能电视上kodi观影之如何安装支持中文字幕插件"></p><p>  <a href="https://www.luckydesigner.space/how-to-install-chinese-subtitle-in-kodi/">转自：https://www.luckydesigner.space/how-to-install-chinese-subtitle-in-kodi/</a></p></details><details>  <summary>如何在电视上用kodi自定义看各国上万直播源</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%94%B5%E8%A7%86%E4%B8%8A%E7%94%A8kodi%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9C%8B%E5%90%84%E5%9B%BD%E4%B8%8A%E4%B8%87%E7%9B%B4%E6%92%AD%E6%BA%90.png" alt="如何在电视上用kodi自定义看各国上万直播源"></p><p>  <a href="https://www.luckydesigner.space/kodi-software-to-watch-online-tv/">转自：https://www.luckydesigner.space/kodi-software-to-watch-online-tv/</a></p></details><details>  <summary>过年就该和家人玩游戏使用kodi在智能电视上玩万种电视游戏</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E8%BF%87%E5%B9%B4%E5%B0%B1%E8%AF%A5%E5%92%8C%E5%AE%B6%E4%BA%BA%E7%8E%A9%E6%B8%B8%E6%88%8F%E4%BD%BF%E7%94%A8kodi%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E7%8E%A9%E4%B8%87%E7%A7%8D%E7%94%B5%E8%A7%86%E6%B8%B8%E6%88%8F.png" alt="过年就该和家人玩游戏使用kodi在智能电视上玩万种电视游戏"></p><p>  <a href="https://www.luckydesigner.space/play-tv-game-online-with-kodi/">转自：https://www.luckydesigner.space/play-tv-game-online-with-kodi/</a></p></details><details>  <summary>在智能电视上如何看Youtube视频，使用Kodi你就能做到</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E5%A6%82%E4%BD%95%E7%9C%8BYoutube%E8%A7%86%E9%A2%91%EF%BC%8C%E4%BD%BF%E7%94%A8Kodi%E4%BD%A0%E5%B0%B1%E8%83%BD%E5%81%9A%E5%88%B0.png" alt="在智能电视上如何看Youtube视频，使用Kodi你就能做到"></p><p>  <a href="https://www.luckydesigner.space/how-to-watch-youtube-on-tv-via-kodi/">转自：https://www.luckydesigner.space/how-to-watch-youtube-on-tv-via-kodi/</a></p></details>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Kodi下载&quot;&gt;&lt;a href=&quot;#Kodi下载&quot; class=&quot;headerlink&quot; title=&quot;Kodi下载&quot;&gt;&lt;/a&gt;Kodi下载&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://kodi.tv/download/&quot;&gt;Kodi&lt;/a&gt;&lt;/li</summary>
      
    
    
    
    <category term="Kodi" scheme="http://damao2250.com/categories/Kodi/"/>
    
    
    <category term="软件" scheme="http://damao2250.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Mac软件安装记录</title>
    <link href="http://damao2250.com/2023/05/23/Mac%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/"/>
    <id>http://damao2250.com/2023/05/23/Mac%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</id>
    <published>2023-05-23T00:56:11.000Z</published>
    <updated>2023-08-30T01:13:11.982Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Office-2019-for-Mac-安装教程"><a href="#Office-2019-for-Mac-安装教程" class="headerlink" title="Office 2019 for Mac 安装教程"></a>Office 2019 for Mac 安装教程</h1><h2 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h2><ul><li><a href="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/Office%202019%20for%20Mac%20%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B.docx">Office 2019 for Mac 安装教程</a></li><li><a href="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/SWDVD5_Office_Mac_Serializer_2019_MLF_X21-88135.ISO">SWDVD5_OfficeMac_Serializer_2019 MLFX21-88135.ISO</a></li><li>Office 2019 for Mac （文件太大，未上传）</li></ul><h2 id="激活软件安装"><a href="#激活软件安装" class="headerlink" title="激活软件安装"></a>激活软件安装</h2><ol><li>解压：<code>SWDVD5_OfficeMac_Serializer_2019 MLFX21-88135.ISO</code><ul><li>右键一打开方式一选择一个解压工具打开如果未下载解压工具，可从App Store下载如图的The Unarchiver</li></ul></li><li>打开解压后的文件夹，双击安装<code>Microsoft_Office_2019_VL_Serializer.pkg</code></li></ol><h2 id="office安装"><a href="#office安装" class="headerlink" title="office安装"></a>office安装</h2><ol><li>双击安装：<code>Microsoft Office 16.46.21021202 Installer.pkg</code></li><li>安装完成后必须点击更新，等待全部软件更新，不然会显示未激活</li></ol><h2 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h2><ol><li><p>安装完后打开Office组件后左下角不再有激活的选项，成为已激活状态。如果仍有激活选项，请再运行一次步骤2。</p></li><li><p>此前已注册的个人Microsoft账号仍可继续登录使用，如有问题可登陆官网更改资料或重设密码等。</p></li><li><p>仅支持macOS版本10.14.0或者更高版本。</p></li><li><p>如果显示Office打开错误可能是由于未完全卸载，仅删除了应用程序，仍然有遗留的支持文件和许可文件等，请完全卸载后重启电脑，再重新安装即可成功。</p></li></ol><h2 id="完全卸载Office"><a href="#完全卸载Office" class="headerlink" title="完全卸载Office"></a>完全卸载Office</h2><ol><li>删除 Office 2019 for Mac 应用程序</li></ol><ul><li>打开 Finder，然后单击“应用程序”</li><li>按住 Command 命令的同时单击以选择所有 Office 2019 for Mac 应用程序</li><li>按住 Ctrl 的同时单击或右键单击所选应用程序，然后单击“移到废纸等”</li></ul><ol start="2"><li>资源库中删除支持文件</li></ol><ul><li>打开 Finder，单击“前往”&gt;“电脑”找到“Macintosh HD”&gt;“资源库</li><li>在“资源库”文件夹，找到“LaunchDaemns”文件夹中，如果存在下面两个文件单击“移到废纸等”删除下面两个文件<ul><li>com.microsoft.office.licensingV2.helper.plist (如果存在)</li><li>com.microsoft.autoupdate.helper.plist (如果存在)</li></ul></li><li>在“资源库”&gt;“PrivilegedHelperTools”，如果存在下面两个文件单击“移到废纸等”删除下面两个文件<ul><li>com.microsoft.office.licensingV2.helper (如果存在)</li><li>com.microsoft.autoupdate.helper (如果存在)</li></ul></li></ul><ol start="3"><li>删除破解或无效许可文件</li></ol><ul><li>按照如何删除 Mac 上的 破解版Ofice 许可证文件”中的说明使用许可证删除工具。此工具可完全删除 Mac 上的许可证文件.</li><li>参考链接: <a href="https://support.microsoft.com/zh-cn/office/%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4-mac-%E4%B8%8A%E7%9A%84-office-%E8%AE%B8%E5%8F%AF%E8%AF%81%E6%96%87%E4%BB%B6-b032c0f6-a431-4dad-83a9-6b727c03b193">删除Mac上的激活许可文件</a></li></ul><ol start="4"><li>从 DockQ 中删除 Office 2019 for Mac 图标</li></ol><ul><li>如果你已将 Ofice 图标添加到 Dock，在你卸载 Ofice 2019 for Mac 之后，它们可能会变为问号.</li><li>若要删除这些图标，请在按住 Control 的同时单击或右键单击图标，然后单击“选项”&gt;“从 Dock 中移除”.</li></ul><ol start="5"><li>清空废纸等，重新启动计算机</li></ol><ul><li>做完以上步骤之后，请右击“废纸等”清空“废纸等”并重新启动计算机</li></ul><h3 id="文章参考"><a href="#文章参考" class="headerlink" title="文章参考"></a>文章参考</h3><ul><li><a href="https://itc.shisu.edu.cn/78/6a/c10035a161898/page.htm">Office 2019 for Mac 安装激活教程</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Office-2019-for-Mac-安装教程&quot;&gt;&lt;a href=&quot;#Office-2019-for-Mac-安装教程&quot; class=&quot;headerlink&quot; title=&quot;Office 2019 for Mac 安装教程&quot;&gt;&lt;/a&gt;Office 2019 fo</summary>
      
    
    
    
    <category term="MAC" scheme="http://damao2250.com/categories/MAC/"/>
    
    
    <category term="软件" scheme="http://damao2250.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>在浏览器控制台安装npm包</title>
    <link href="http://damao2250.com/2023/05/05/%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E8%A3%85npm%E5%8C%85/"/>
    <id>http://damao2250.com/2023/05/05/%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E8%A3%85npm%E5%8C%85/</id>
    <published>2023-05-05T10:57:32.000Z</published>
    <updated>2023-05-05T11:10:47.478Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><ul><li>通过 <code>&lt;script /&gt;</code>标签在HTML页面上引入CDN资源</li><li>通过CND连接搜索相应的资源，如：<a href="https://api.cdnjs.com/libraries?search=jquery">https://api.cdnjs.com/libraries?search=jquery</a></li></ul><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 存储原始传入的名称</span><span class="token keyword">let</span> pkg_name_origin <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">npmInstall</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">originName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> name <span class="token operator">=</span> originName<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  pkg_name_origin <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token comment">// 三种引入方式</span>  <span class="token comment">// 如果是一个有效的URL，直接通过&lt;script />标签插入</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^https?:\/\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">injectScript</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 如果指定了版本，尝试使用unpkg加载</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">unpkg</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 否则，尝试使用cdnjs搜索</span>  <span class="token keyword">return</span> <span class="token function">cdnjs</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 在页面中插入&lt;script />标签</span><span class="token keyword">const</span> <span class="token function-variable function">injectScript</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>  script<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pkg_name_origin<span class="token punctuation">,</span> <span class="token string">' 安装成功。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  script<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pkg_name_origin<span class="token punctuation">,</span> <span class="token string">' 安装失败。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// document.body.removeChild(script);</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">unpkg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">injectScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://unpkg.com/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">cdnjs</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> searchPromise <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.cdnjs.com/libraries?search=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token comment">// 不显示referrer的任何信息在请求头中</span>    <span class="token punctuation">&#123;</span> referrerPolicy<span class="token operator">:</span> <span class="token string">'no-referrer'</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> results<span class="token punctuation">,</span> total <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> searchPromise<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Sorry, '</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">' not found, please try another keyword.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 取结果中最相关的一条</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> exactName<span class="token punctuation">,</span> latest<span class="token operator">:</span> url <span class="token punctuation">&#125;</span> <span class="token operator">=</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> exactName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">' not found, import '</span><span class="token punctuation">,</span> exactName<span class="token punctuation">,</span> <span class="token string">' instead.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 通过&lt;script />标签插入</span>  <span class="token function">injectScript</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接引入</span><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'moment@2.29.4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定版本</span><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引入cdn地址</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;实现原理&quot;&gt;&lt;a href=&quot;#实现原理&quot; class=&quot;headerlink&quot; title=&quot;实现原理&quot;&gt;&lt;/a&gt;实现原理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;通过 &lt;code&gt;&amp;lt;script /&amp;gt;&lt;/code&gt;标签在HTML页面上引入CDN资源&lt;/li&gt;
&lt;</summary>
      
    
    
    
    <category term="小技巧" scheme="http://damao2250.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="浏览器控制台" scheme="http://damao2250.com/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0/"/>
    
    <category term="安装npm包" scheme="http://damao2250.com/tags/%E5%AE%89%E8%A3%85npm%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>无法删除的水印方案</title>
    <link href="http://damao2250.com/2023/03/31/%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4%E7%9A%84%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/"/>
    <id>http://damao2250.com/2023/03/31/%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4%E7%9A%84%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/</id>
    <published>2023-03-31T06:11:50.000Z</published>
    <updated>2023-04-10T08:13:13.100Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WaterMark</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 默认样式</span>    <span class="token keyword">const</span> defaultStyles <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      transform<span class="token operator">:</span> <span class="token string">'rotate(-15deg)'</span><span class="token punctuation">,</span>      position<span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>      overflow<span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">,</span>      zIndex<span class="token operator">:</span> <span class="token number">9999999</span><span class="token punctuation">,</span>      opacity<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>      fontFamily<span class="token operator">:</span> <span class="token string">'微软雅黑'</span><span class="token punctuation">,</span>      color<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>      textAlign<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>      padding<span class="token operator">:</span> <span class="token string">'10px 10px'</span><span class="token punctuation">,</span>      whiteSpace<span class="token operator">:</span> <span class="token string">'nowrap'</span><span class="token punctuation">,</span>      display<span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// 覆盖默认样式</span>    <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> left <span class="token operator">=</span> <span class="token number">220</span><span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">,</span> fontSize <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> options    <span class="token keyword">this</span><span class="token punctuation">.</span>styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>defaultStyles<span class="token punctuation">,</span> <span class="token operator">...</span>styles <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">createMaskDiv</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> top</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> maskDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    maskDiv<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'water_mask_id_0'</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>styles<span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>top<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>fontSize<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> styles<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      maskDiv<span class="token punctuation">.</span>style<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> styles<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    maskDiv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>    <span class="token keyword">return</span> maskDiv<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> maskDiv <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMaskDiv</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>maskDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> width <span class="token operator">=</span> maskDiv<span class="token punctuation">.</span>offsetWidth    <span class="token keyword">let</span> height <span class="token operator">=</span> maskDiv<span class="token punctuation">.</span>offsetHeight    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>maskDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'eb-watermark'</span><span class="token punctuation">;</span>    div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pointer-events: none !important; display: block !important; visibility: visible !important; position: fixed !important; top: 0 !important; left: 0 !important; opacity: 1 !important; z-index: 0 !important; transform: translateX(0) !important;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token keyword">const</span> shadowRoot <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> mode<span class="token operator">:</span> <span class="token string">'open'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> left <span class="token operator">=</span> width <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left    <span class="token keyword">let</span> top <span class="token operator">=</span> height <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>top    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span> i <span class="token operator">+=</span> left<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span> j <span class="token operator">+=</span> top<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMaskDiv</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> observerConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span> childList<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> subtree<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> attributeFilter<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'style'</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// 监听DOM改变</span>    <span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMutation</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> observerConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 设置characterData监听元素的innerText改变</span>    <span class="token keyword">const</span> shadowRootObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutations</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleShadowRootMutation</span><span class="token punctuation">(</span>mutations<span class="token punctuation">,</span> shadowRoot<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    shadowRootObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>shadowRoot<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>observerConfig<span class="token punctuation">,</span> characterData<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleMutation</span><span class="token punctuation">(</span><span class="token parameter">mutations</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>removedNodes<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'eb-watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'eb-watermark'</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>attributeName <span class="token operator">===</span> <span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>watermark <span class="token operator">||</span> watermark<span class="token punctuation">.</span>parentElement <span class="token operator">!==</span> document<span class="token punctuation">.</span>body <span class="token operator">||</span> <span class="token operator">!</span>watermark<span class="token punctuation">.</span>shadowRoot <span class="token operator">||</span> <span class="token operator">!</span>watermark<span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#water_mask_id_0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleShadowRootMutation</span><span class="token punctuation">(</span><span class="token parameter">mutations<span class="token punctuation">,</span> shadowRoot</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>removedNodes<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">||</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'characterData'</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> shadowRoot <span class="token operator">||</span> mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> shadowRoot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> WaterMark<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> WaterMark <span class="token keyword">from</span> <span class="token string">'./watermark'</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">WaterMark</span><span class="token punctuation">(</span><span class="token string">'我是水印啊'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="待优化"><a href="#待优化" class="headerlink" title="待优化"></a>待优化</h2><ul><li>目前只支持插入到body的全屏水印，下一步优化支持指定id的div水印</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;实现代码&quot;&gt;&lt;a href=&quot;#实现代码&quot; class=&quot;headerlink&quot; title=&quot;实现代码&quot;&gt;&lt;/a&gt;实现代码&lt;/h2&gt;&lt;pre class=&quot;line-numbers language-js&quot; data-language=&quot;js&quot;&gt;&lt;code cl</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="水印" scheme="http://damao2250.com/tags/%E6%B0%B4%E5%8D%B0/"/>
    
  </entry>
  
  <entry>
    <title>用css实现防止按钮重复点击</title>
    <link href="http://damao2250.com/2023/02/18/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%AD%A2%E6%8C%89%E9%92%AE%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB/"/>
    <id>http://damao2250.com/2023/02/18/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%AD%A2%E6%8C%89%E9%92%AE%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB/</id>
    <published>2023-02-18T10:42:47.000Z</published>
    <updated>2023-02-18T10:58:10.772Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ul><li>利用<code>pointer-events</code>属性设置元素是否对鼠标事件做出反应</li></ul><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><ul><li>可以延申加入自定义动画<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>save-button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'保存'</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.save-button</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> buttonThrottle 2s step-end forwards<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.save-button:active</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> buttonThrottle</span> <span class="token punctuation">&#123;</span>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><ul><li>打开开发者模式，查看Console会发现每隔两秒钟之后才能触发Console打印</li></ul><p><button class="save-button" onclick="console.log('保存')">保存</button></p><style>.save-button {  animation: buttonThrottle 2s step-end forwards;}.save-button:active {  animation: none;}@keyframes buttonThrottle {  from {    color: red;    pointer-events: none;  }  to {    color: blue;    pointer-events: all;  }}</style>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;利用&lt;code&gt;pointer-events&lt;/code&gt;属性设置元素是否对鼠标事件做出反应&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id</summary>
      
    
    
    
    <category term="CSS" scheme="http://damao2250.com/categories/CSS/"/>
    
    
    <category term="CSS" scheme="http://damao2250.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>发布订阅模式和观察者模式</title>
    <link href="http://damao2250.com/2023/02/15/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    <id>http://damao2250.com/2023/02/15/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/</id>
    <published>2023-02-15T10:40:49.000Z</published>
    <updated>2023-02-18T03:47:01.224Z</updated>
    
    <content type="html"><![CDATA[<h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><h3 id="观察者模式（Observer-Pattern）"><a href="#观察者模式（Observer-Pattern）" class="headerlink" title="观察者模式（Observer Pattern）"></a>观察者模式（Observer Pattern）</h3><ul><li>观察者模式定义了对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都将得到通知，并自动更新。观察者模式属于行为型模式，行为型模式关注的是对象之间的通讯，观察者模式就是观察者和被观察者之间的通讯。</li><li>观察者模式有一个别名叫“发布-订阅模式”，或者说是“订阅-发布模式”，订阅者和订阅目标是联系在一起的，当订阅目标发生改变时，逐个通知订阅者</li></ul><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><ul><li>目标&lt;=&gt;观察者</li><li>观察者观察目标（监听目标）-&gt; 目标发生变化-&gt; 目标主动通知观察者</li></ul><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><ul><li>拍卖的时候，拍卖师观察最高标价，然后通知给其他竞价者竞价，即“一对多”的依赖关系（一个拍卖师多个竞价者）</li></ul><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul><li>Vue数据双向绑定</li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=></span> observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">&#123;</span>  <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// 创建观察者ob1</span><span class="token keyword">let</span> ob1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建观察者ob2</span><span class="token keyword">let</span> ob2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建目标sub</span><span class="token keyword">let</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub添加观察者ob1 （目标和观察者建立了依赖关系）</span>sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ob1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub添加观察者ob2</span>sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ob2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub触发SMS事件（目标主动通知观察者）</span>sub<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token string">'I fired `SMS` event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="发布订阅模式"><a href="#发布订阅模式" class="headerlink" title="发布订阅模式"></a>发布订阅模式</h2><h3 id="发布订阅模式（Pub-Sub-Pattern）"><a href="#发布订阅模式（Pub-Sub-Pattern）" class="headerlink" title="发布订阅模式（Pub-Sub Pattern）"></a>发布订阅模式（Pub-Sub Pattern）</h3><ul><li>发布订阅模式中，发送者不会将消息直接发送给订阅者，这意味着发布者和订阅者不知道彼此的存在。在发布者和订阅者之间存在第三个组件，称为调度中心或事件通道，它维持着发布者和订阅者之间的联系，过滤所有发布者传入的消息并相应地分发它们给订阅者</li><li>发布订阅模式是在观察者模式的基础上做的优化升级</li></ul><h3 id="流程-1"><a href="#流程-1" class="headerlink" title="流程"></a>流程</h3><ul><li>发布者-&gt;事件中心&lt;=&gt;订阅者</li><li>订阅者需要向事件中心订阅指定的事件 -&gt; 发布者向事件中心发布指定事件内容 -&gt; 事件中心通知订阅者 -&gt; 订阅者收到消息（可能是多个订阅者）</li></ul><h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><ul><li>你在微博上关注了A，同时其他很多人也关注了A，那么当A发布动态的时候，微博就会为你们推送这条动态。A就是发布者，你是订阅者，微博就是调度中心，你和A是没有直接的消息往来的，全是通过微博来协调的（你的关注，A的发布动态）</li></ul><h3 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h3><ul><li>vue中的事件总线，$emit和$on, $on用来订阅事件，$emit用来发布订阅的事件</li></ul><h3 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PubSub</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 事件中心/调度中心</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 订阅</span>  <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> callbacks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>callbacks<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      callbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 发布</span>  <span class="token function">publish</span><span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> callbacks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    callbacks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">callback</span> <span class="token operator">=></span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// 创建事件调度中心，为订阅者和发布者提供调度服务</span><span class="token keyword">let</span> pubSub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PubSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// A订阅了SMS事件（A只关注SMS本身，而不关心谁发布这个事件）</span>pubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// B订阅了SMS事件</span>pubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// C发布了SMS事件（C只关注SMS本身，不关心谁订阅了这个事件）</span>pubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> <span class="token string">'I published `SMS` event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ul><li>发布-订阅模式是面向调度中心编程的，而观察者模式则是面向目标和观察者编程的。前者用于解耦发布者和订阅者，后者用于耦合目标和观察者</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;观察者模式&quot;&gt;&lt;a href=&quot;#观察者模式&quot; class=&quot;headerlink&quot; title=&quot;观察者模式&quot;&gt;&lt;/a&gt;观察者模式&lt;/h2&gt;&lt;h3 id=&quot;观察者模式（Observer-Pattern）&quot;&gt;&lt;a href=&quot;#观察者模式（Observer-Pat</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>浏览器禁止用户打开devtools</title>
    <link href="http://damao2250.com/2023/02/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A6%81%E6%AD%A2%E7%94%A8%E6%88%B7%E6%89%93%E5%BC%80devtools/"/>
    <id>http://damao2250.com/2023/02/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A6%81%E6%AD%A2%E7%94%A8%E6%88%B7%E6%89%93%E5%BC%80devtools/</id>
    <published>2023-02-07T01:13:10.000Z</published>
    <updated>2023-02-07T01:35:49.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="禁止键盘-F12"><a href="#禁止键盘-F12" class="headerlink" title="禁止键盘 F12"></a>禁止键盘 F12</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token number">123</span> <span class="token operator">!==</span> event<span class="token punctuation">.</span>keyCode <span class="token operator">||</span> event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="禁止鼠标右键后选择检查元素"><a href="#禁止鼠标右键后选择检查元素" class="headerlink" title="禁止鼠标右键后选择检查元素"></a>禁止鼠标右键后选择检查元素</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="监听devtools的打开事件"><a href="#监听devtools的打开事件" class="headerlink" title="监听devtools的打开事件"></a>监听devtools的打开事件</h2><ul><li>通关检查浏览器可视区域和浏览器窗口的差值来判断用户是否打开了devtools</li><li>但是浏览器在新窗口打开devtools时，这个检测很容易被绕过<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">resize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> threshold <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> width <span class="token operator">=</span> window<span class="token punctuation">.</span>outerWidth <span class="token operator">-</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">></span> threshold<span class="token punctuation">;</span>  <span class="token keyword">const</span> height <span class="token operator">=</span> window<span class="token punctuation">.</span>outerHeight <span class="token operator">-</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">></span> threshold<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>width <span class="token operator">||</span> height<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'控制台打开了！！！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> resize<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="基于MutationObserver检测用户改变元素属性"><a href="#基于MutationObserver检测用户改变元素属性" class="headerlink" title="基于MutationObserver检测用户改变元素属性"></a>基于MutationObserver检测用户改变元素属性</h2><ul><li>MutationObserver 可以监测到 DOM 元素上任何属性的变化情况，如有需要，也可以监听其子元素的变化情况</li><li>MutationObserver监听的是元素的属性，即attributes，如：style、class、type、href等</li><li>禁止用户用开发者工具修改某些属性时使用，如：用户企图修改网站水印<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// &lt;h1 style="margin:100px;">需要检测的元素&lt;/h1></span><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  childList<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  subtree<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  attributesOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  characterData<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  characterDataOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function-variable function">expression</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 执行恢复方法</span>    <span class="token function">expression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">records</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> record <span class="token operator">=</span> records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">&amp;&amp;</span> record<span class="token punctuation">.</span>attributeName <span class="token operator">===</span> <span class="token string">'style'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      h1<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'margin:100px;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'characterData'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      h1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'需要检测的元素'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;禁止键盘-F12&quot;&gt;&lt;a href=&quot;#禁止键盘-F12&quot; class=&quot;headerlink&quot; title=&quot;禁止键盘 F12&quot;&gt;&lt;/a&gt;禁止键盘 F12&lt;/h2&gt;&lt;pre class=&quot;line-numbers language-js&quot; data-langua</summary>
      
    
    
    
    <category term="浏览器" scheme="http://damao2250.com/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
    <category term="devtools" scheme="http://damao2250.com/tags/devtools/"/>
    
    <category term="开发者工具" scheme="http://damao2250.com/tags/%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>JS几个必会的手写功能</title>
    <link href="http://damao2250.com/2023/02/07/JS%E5%87%A0%E4%B8%AA%E5%BF%85%E4%BC%9A%E7%9A%84%E6%89%8B%E5%86%99%E5%8A%9F%E8%83%BD/"/>
    <id>http://damao2250.com/2023/02/07/JS%E5%87%A0%E4%B8%AA%E5%BF%85%E4%BC%9A%E7%9A%84%E6%89%8B%E5%86%99%E5%8A%9F%E8%83%BD/</id>
    <published>2023-02-07T01:05:13.000Z</published>
    <updated>2023-02-07T01:46:35.784Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、Promise-all"><a href="#1、Promise-all" class="headerlink" title="1、Promise.all"></a>1、Promise.all</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myAll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>promises<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token keyword">const</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// Promise.resolve 的作用是将普通值或 thenable 对象转为 promise，promise 则直接返回</span>        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> data            count <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// [1, 2]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2、Promise-race"><a href="#2、Promise-race" class="headerlink" title="2、Promise.race"></a>2、Promise.race</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myRace</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> promises<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 先出来的结果会被 resolve 或 reject 出去, 一旦状态变化就不会再变</span>      Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myRace</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、Promise-any"><a href="#3、Promise-any" class="headerlink" title="3、Promise.any"></a>3、Promise.any</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myAny</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        count <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'所有 promise 都失败'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myAny</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4、冒泡排序"><a href="#4、冒泡排序" class="headerlink" title="4、冒泡排序"></a>4、冒泡排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 从第一个元素开始，比较相邻的两个元素，前者大就交换位置</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 交换位置</span>        <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 每次遍历结束，都能找到一个最大值，放在数组最后</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5、选择排序"><a href="#5、选择排序" class="headerlink" title="5、选择排序"></a>5、选择排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 假设每次循环，最小值就是第一个</span>    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> i    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果最小值大于其他的值，则修改索引，从而找到真正的最小值</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        minIndex <span class="token operator">=</span> j      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 最小值和第一个交换位置</span>    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6、快速排序"><a href="#6、快速排序" class="headerlink" title="6、快速排序"></a>6、快速排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr  <span class="token comment">// 每次取第一个元素作为基准值</span>  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">const</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果小于基准值，则把它放在左数组</span>      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果大于等于基准值，则放在右数组</span>      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 递归处理，并把左中右三个数组拼接起来</span>  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pivot<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7、call"><a href="#7、call" class="headerlink" title="7、call"></a>7、call</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 把方法添加到 context 上，这样使用context[key]调用的时候，内部的 this 就指向了 context</span>  <span class="token comment">// 使用 Symbol 防止 context 原有属性被覆盖</span>  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>say<span class="token punctuation">.</span><span class="token function">myCall</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8、apply"><a href="#8、apply" class="headerlink" title="8、apply"></a>8、apply</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 把方法添加到 context 上，这样使用context[key]调用的时候，内部的 this 就指向了 context</span>  <span class="token comment">// 使用 Symbol 防止 context 原有属性被覆盖</span>  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">let</span> res  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>say<span class="token punctuation">.</span><span class="token function">myApply</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="9、bind"><a href="#9、bind" class="headerlink" title="9、bind"></a>9、bind</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> <span class="token function-variable function">newFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> newArgs <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">newFunc</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 通过 new 调用，this 为新创建的对象实例，将函数内部的 this 替换为这个新对象</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newArgs<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 普通方式调用，将函数内部的 this 替换为 context</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> newArgs<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 支持 new 调用</span>  newFunc<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token keyword">return</span> newFunc<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> mySay <span class="token operator">=</span> say<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">)</span><span class="token function">mySay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="10、instanceof"><a href="#10、instanceof" class="headerlink" title="10、instanceof"></a>10、instanceof</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myInstanceOf</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> Fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 判断构造函数 Fn 是否出现在 obj 的原型链上</span>  <span class="token keyword">let</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>proto<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">===</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>    proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Object<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="11、new"><a href="#11、new" class="headerlink" title="11、new"></a>11、new</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">Fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype  <span class="token comment">// 将构造函数内部的 this 替换为新对象，并执行构造函数方法</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> res <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 如果构造函数有返回值，且类型为 object, 则把这个值返回</span>    <span class="token keyword">return</span> res  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> obj  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">&#125;</span><span class="token keyword">const</span> stu <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span> <span class="token comment">// &#123; name: 'Jack', age: 16 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="12、统计页面中所有标签的种类和个数"><a href="#12、统计页面中所有标签的种类和个数" class="headerlink" title="12、统计页面中所有标签的种类和个数"></a>12、统计页面中所有标签的种类和个数</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTagCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 获取页面上所有标签元素</span>  <span class="token keyword">const</span> tags <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> tagNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> tags<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 把所有标签名转为小写，添加到数组中</span>    tagNames<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> tagNames<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      res<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      res<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token operator">++</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getTagCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#123; html: 1, head: 1, body: 1, div: 2, script: 1 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="13-类型判断"><a href="#13-类型判断" class="headerlink" title="13.类型判断"></a>13.类型判断</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">myTypeOf</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 测试</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> number</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> string</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> boolean</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> array</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> object</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> regexp</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> date</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> math</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1、Promise-all&quot;&gt;&lt;a href=&quot;#1、Promise-all&quot; class=&quot;headerlink&quot; title=&quot;1、Promise.all&quot;&gt;&lt;/a&gt;1、Promise.all&lt;/h2&gt;&lt;pre class=&quot;line-numbers lang</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="JS" scheme="http://damao2250.com/tags/JS/"/>
    
    <category term="JavaScript" scheme="http://damao2250.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>使用AJAX、Axios、Fetch</title>
    <link href="http://damao2250.com/2023/02/06/%E4%BD%BF%E7%94%A8AJAX%E3%80%81Axios%E3%80%81Fetch/"/>
    <id>http://damao2250.com/2023/02/06/%E4%BD%BF%E7%94%A8AJAX%E3%80%81Axios%E3%80%81Fetch/</id>
    <published>2023-02-06T08:04:24.000Z</published>
    <updated>2023-02-18T04:08:58.482Z</updated>
    
    <content type="html"><![CDATA[<h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><ul><li>AJAX全称为“Asynchronous JavaScript and XML”（异步JavaScript和XML）</li><li>AJAX最主要的两个特性：在不重新加载页面的情况下发送请求给服务器；受并使用从服务器发来的数据<h3 id="AJAX请求的五个步骤"><a href="#AJAX请求的五个步骤" class="headerlink" title="AJAX请求的五个步骤"></a>AJAX请求的五个步骤</h3><ul><li>1.建立XMLHttpRequest对象</li><li>2.设置回调函数</li><li>3.配置请求信息，(如open,get方法)，使用open方法与服务器建立链接</li><li>4.向服务器发送数据</li><li>5.在回调函数中针对不同的响应状态进行处理</li></ul></li></ul><h3 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h3><ul><li>0 －（请求未初始化）还没有调用send()方法</li><li>1 －（正在加载）已调用send()方法，正在发送请求</li><li>2 －（加载成功）send()方法执行完成，已经接收到全部响应内容</li><li>3 －（交互）正在解析响应内容</li><li>4 －（完成）响应内容解析完成，可以在客户端调用了</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">"GET"</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> async<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 声明XMLHttpRequest </span>    <span class="token comment">// 在IE5和IE6中需要使用ActiveX对象 let XRH = new ActiveXObject("Microsoft.XMLHTTP");</span>    <span class="token keyword">let</span> <span class="token constant">XHR</span> <span class="token operator">=</span> XMLHttpRequest<span class="token punctuation">;</span>    <span class="token comment">// 创建XMLHttqRequest</span>    <span class="token constant">XHR</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 初始化请求参数</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">)</span>    <span class="token comment">// 设置响应的数据类型</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">'json'</span>    <span class="token comment">// 设置请求头(求头的设置必须在xhr open之后，并且在send之前)</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-type"</span><span class="token punctuation">,</span> <span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// applicationx-www-form-urlencoded  text/html  application/json multipart/form-data</span>    <span class="token comment">// 设置请求状态改变时执行的函数</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token keyword">return</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">响应状态:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token constant">XHR</span><span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token string">"FINISH"</span><span class="token punctuation">)</span>       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 获取服务器响应的数据，XHR.responseText为响应体</span>        <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token constant">XHR</span><span class="token punctuation">.</span>responseText        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>        <span class="token comment">// 解析数据(数据为JSON数据时)</span>        <span class="token comment">// res = JSON.parse(res)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 异常处理</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Network request failed'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 发起请求</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token comment">// 调用（百度首页的调试窗口中调用）</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">,</span><span class="token string">"POST"</span><span class="token punctuation">,</span><span class="token string">"A=1&amp;B=2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX#%E6%96%87%E6%A1%A3">https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX#%E6%96%87%E6%A1%A3</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started">https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started</a></li></ul><h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><ul><li>Fetch是浏览器内置API，在浏览器环境中，可以通过顶层对象window获取</li><li>fetch()是XMLHttpRequest(ajax使用的就是XMLHttpRequest)的升级版，用于在JavaScript脚本里面发出HTTP请求</li></ul><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// 完整options对象</span><span class="token comment">/**  &#123;    method: "GET", // HTTP 请求的方法，POST、DELETE、PUT等    headers: &#123; // 请求头      "Content-Type": "text/plain;charset=UTF-8"    &#125;,    body: undefined, // POST 请求体    referrer: "about:client",    referrerPolicy: "no-referrer-when-downgrade", // 指定了 HTTP 头部 referer 字段的值    mode: "cors", // 请求的模式    credentials: "same-origin",    cache: "default", // 请求的 cache 模式    redirect: "follow", // 可用的 redirect 模式    integrity: "",    keepalive: false,    signal: undefined  &#125;*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">json</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request Failed'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用await语法"><a href="#使用await语法" class="headerlink" title="使用await语法"></a>使用await语法</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token string">"Content-type"</span><span class="token operator">:</span> <span class="token string">"application/x-www-form-urlencoded; charset=UTF-8"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> <span class="token string">'foo=bar&amp;lorem=ipsum'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST提交JSON数据"><a href="#POST提交JSON数据" class="headerlink" title="POST提交JSON数据"></a>POST提交JSON数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span>  <span class="token string">'John'</span><span class="token punctuation">,</span> surname<span class="token operator">:</span>  <span class="token string">'Smith'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>   <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json;charset=utf-8'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST提交表单数据"><a href="#POST提交表单数据" class="headerlink" title="POST提交表单数据"></a>POST提交表单数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input[type="file"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> input<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> data<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="上传二进制数据"><a href="#上传二进制数据" class="headerlink" title="上传二进制数据"></a>上传二进制数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span>     canvasElem<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>  <span class="token string">'image/png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span>  <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> blob<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="取消fetch-请求"><a href="#取消fetch-请求" class="headerlink" title="取消fetch()请求"></a>取消fetch()请求</h3><ul><li>fetch()请求发送以后，如果中途想要取消，需要使用AbortController对象<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> signal <span class="token operator">=</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">;</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  signal<span class="token operator">:</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>signal<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'abort'</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'abort!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取消</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>signal<span class="token punctuation">.</span>aborted<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><h3 id="GET请求-1"><a href="#GET请求-1" class="headerlink" title="GET请求"></a>GET请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// get请求携带参数</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user?ID=5422'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 也可以这样写</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    params<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token constant">ID</span><span class="token operator">:</span> <span class="token number">5422</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 相应类型为流文件</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>  url<span class="token operator">:</span> <span class="token string">'http://www.xxx.com/test'</span><span class="token punctuation">,</span>  responseType<span class="token operator">:</span> <span class="token string">'stream'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  response<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'xxx.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST请求-1"><a href="#POST请求-1" class="headerlink" title="POST请求"></a>POST请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    firstName<span class="token operator">:</span> <span class="token string">'三'</span><span class="token punctuation">,</span>    lastName<span class="token operator">:</span> <span class="token string">'张'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 也可以配置参数</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>  url<span class="token operator">:</span> <span class="token string">'/user/001'</span><span class="token punctuation">,</span>  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    firstName<span class="token operator">:</span> <span class="token string">'三'</span><span class="token punctuation">,</span>    lastName<span class="token operator">:</span> <span class="token string">'张'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="并行请求"><a href="#并行请求" class="headerlink" title="并行请求"></a>并行请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345/permissions'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">acct<span class="token punctuation">,</span> perms</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Both requests are now complete</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  baseURL<span class="token operator">:</span> <span class="token string">'https://some-domain.com/api/'</span><span class="token punctuation">,</span>  timeout<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'X-Custom-Header'</span><span class="token operator">:</span> <span class="token string">'custom header content'</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 全局默认配置</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">AUTH_TOKEN</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span><span class="token string">'Content-Type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">;</span><span class="token comment">// Custom instance defaults</span><span class="token comment">// Set config defaults when creating the instance</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  baseURL<span class="token operator">:</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Alter defaults after instance has been created</span>instance<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">AUTH_TOKEN</span><span class="token punctuation">;</span><span class="token comment">// Config order of precedence</span><span class="token comment">// Create an instance using the config defaults provided by the library</span><span class="token comment">// At this point the timeout config value is `0` as is the default for the library</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Override timeout default for the library</span><span class="token comment">// Now all requests will wait 2.5 seconds before timing out</span>instance<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span><span class="token comment">// Override timeout for this request as it's known to take a long time</span>instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/longRequest'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Intercept request/responses</span><span class="token comment">// Add a request interceptor</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something before request is sent</span>    <span class="token keyword">return</span> config<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with request error</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Add a response interceptor</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with response data</span>    <span class="token keyword">return</span> response<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with response error</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Remove interceptor</span><span class="token keyword">var</span> myInterceptor <span class="token operator">=</span> axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">/*...*/</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">eject</span><span class="token punctuation">(</span>myInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Custom instance interceptors</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">/*...*/</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Catch error</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// The request was made and the server responded with a status code</span>      <span class="token comment">// that falls out of the range of 2xx</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// The request was made but no response was received</span>      <span class="token comment">// `error.request` is an instance of XMLHttpRequest in the browser and an instance of</span>      <span class="token comment">// http.ClientRequest in node.js</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// Something happened in setting up the request that triggered an Error</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Custom HTTP status code error</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">validateStatus</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> status <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token comment">// Reject only if the status code is greater than or equal to 500</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="取消请求"><a href="#取消请求" class="headerlink" title="取消请求"></a>取消请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Cancel request with cancel token</span><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span><span class="token keyword">var</span> source <span class="token operator">=</span> CancelToken<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> source<span class="token punctuation">.</span>token<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">thrown</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isCancel</span><span class="token punctuation">(</span>thrown<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request canceled'</span><span class="token punctuation">,</span> thrown<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// handle error</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token string">'new name'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> source<span class="token punctuation">.</span>token<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// cancel the request (the message parameter is optional)</span>source<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token string">'Operation canceled by the user.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Create cancel token</span><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span><span class="token keyword">var</span> cancel<span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// An executor function receives a cancel function as a parameter</span>    cancel <span class="token operator">=</span> c<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// cancel the request</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;AJAX&quot;&gt;&lt;a href=&quot;#AJAX&quot; class=&quot;headerlink&quot; title=&quot;AJAX&quot;&gt;&lt;/a&gt;AJAX&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;AJAX全称为“Asynchronous JavaScript and XML”（异步JavaScript和XM</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="Axios" scheme="http://damao2250.com/tags/Axios/"/>
    
    <category term="AJAX" scheme="http://damao2250.com/tags/AJAX/"/>
    
    <category term="Fetch" scheme="http://damao2250.com/tags/Fetch/"/>
    
  </entry>
  
  <entry>
    <title>JS中的笛卡尔乘积</title>
    <link href="http://damao2250.com/2023/01/12/JS%E4%B8%AD%E7%9A%84%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/"/>
    <id>http://damao2250.com/2023/01/12/JS%E4%B8%AD%E7%9A%84%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/</id>
    <published>2023-01-12T10:54:16.000Z</published>
    <updated>2023-01-12T11:43:02.682Z</updated>
    
    <content type="html"><![CDATA[<h2 id="笛卡尔乘积定义"><a href="#笛卡尔乘积定义" class="headerlink" title="笛卡尔乘积定义"></a>笛卡尔乘积定义</h2><ul><li>笛卡尔乘积是指在数学中，两个集合X和Y的笛卡尔积（Cartesian product），又称直积，表示为X×Y，第一个对象是X的成员而第二个对象是Y的所有可能有序对的其中一个成员。</li><li>假设集合A={a, b}，集合B={0, 1, 2}，则两个集合的笛卡尔积为{(a, 0), (a, 1), (a, 2), (b, 0), (b, 1), (b, 2)}。</li><li>摘自<a href="https://baike.baidu.com/item/%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/6323173">百度百科</a></li></ul><h2 id="js实现笛卡尔乘积"><a href="#js实现笛卡尔乘积" class="headerlink" title="js实现笛卡尔乘积"></a>js实现笛卡尔乘积</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">[</span><span class="token string">'热'</span><span class="token punctuation">,</span> <span class="token string">'冷'</span><span class="token punctuation">,</span> <span class="token string">'冰'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span><span class="token string">'大'</span><span class="token punctuation">,</span> <span class="token string">'中'</span><span class="token punctuation">,</span> <span class="token string">'小'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span><span class="token string">'全糖'</span><span class="token punctuation">,</span> <span class="token string">'半糖'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span><span class="token string">'现喝'</span><span class="token punctuation">,</span> <span class="token string">'打包'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 根据 list 计算所有组合结果</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token string">'热大全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'热大全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'热大半糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'热大半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'热中全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'热中全糖打包'</span><span class="token punctuation">,</span>  <span class="token string">'热中半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'热中半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'热小全糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'热小全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'热小半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'热小半糖打包'</span><span class="token punctuation">,</span>  <span class="token string">'冷大全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冷大全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冷大半糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'冷大半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冷中全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冷中全糖打包'</span><span class="token punctuation">,</span>  <span class="token string">'冷中半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冷中半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冷小全糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'冷小全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冷小半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冷小半糖打包'</span><span class="token punctuation">,</span>  <span class="token string">'冰大全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冰大全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冰大半糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'冰大半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冰中全糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冰中全糖打包'</span><span class="token punctuation">,</span>  <span class="token string">'冰中半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冰中半糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冰小全糖现喝'</span><span class="token punctuation">,</span>  <span class="token string">'冰小全糖打包'</span><span class="token punctuation">,</span> <span class="token string">'冰小半糖现喝'</span><span class="token punctuation">,</span> <span class="token string">'冰小半糖打包'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>思路</p><ol><li>从原数组中取出前两项数组相互组合得到组合结果1</li><li>再利用组合结果1与原数组第三项数组相互组合得到结果2</li><li>依此类推，组合完原数组的所有数组项得到最终组合结果</li></ol></li><li><p>实现代码</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 法一</span><span class="token keyword">const</span> result <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> next <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token keyword">of</span> previousValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> b <span class="token keyword">of</span> currentValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      next<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 法二</span><span class="token keyword">const</span> result2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> previousValue<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      ret<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>currentValue<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">b</span> <span class="token operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> ret<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'result2'</span><span class="token punctuation">,</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 法三</span><span class="token keyword">function</span> <span class="token function">combination</span> <span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> result <span class="token comment">// list长度为0时直接返回result</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> subList <span class="token keyword">of</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      result <span class="token operator">=</span> subList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">let</span> subResult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> r <span class="token keyword">of</span> result<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> tailList <span class="token operator">=</span> subList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> r <span class="token operator">+</span> item<span class="token punctuation">)</span> <span class="token comment">// [...r,item]</span>        subResult<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>tailList<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>      result <span class="token operator">=</span> subResult    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> result<span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"combination"</span><span class="token punctuation">,</span><span class="token function">combination</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Tips：reduce-语法"><a href="#Tips：reduce-语法" class="headerlink" title="Tips：reduce()语法"></a>Tips：reduce()语法</h2><ul><li><p>reduce()语法</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span><span class="token punctuation">[</span>initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// callback 回调函数</span><span class="token comment">// initialValue 初始值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><code>callback</code>函数包含四个参数：</p><ul><li><code>previousValue</code>：上一次调用<code>callback</code>时的返回值。在第一次调用时，若指定了初始值<code>initialValue</code>，其值则为<code>initialValue</code>，否则为数组索引为0的元素<code>array[0]</code></li><li><code>currentValue</code>：数组中正在处理的元素。在第一次调用时，若指定了初始值<code>initialValue</code>，其值则为数组索引为0的元素·，否则为<code>array[1]</code></li><li><code>currentIndex</code>：数组中正在处理的元素的索引。若指定了初始值<code>initialValue</code>，则起始索引号为0，否则从索引1起始。</li><li>array：用于遍历的数组</li></ul></li><li><p><code>initialValue</code>(可选)</p><ul><li>作为第一次调用<code>callback</code>函数时参数<code>previousValue</code>的值。若指定了初始值<code>initialValue</code>，则<code>currentValue</code>则将使用数组第一个元素；否则<code>previousValue</code>将使用数组第一个元素，而<code>currentValue</code>将使用数组第二个元素</li></ul></li><li><p>reduce返回值</p><ul><li>回调函数遍历整个数组后的结果</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;笛卡尔乘积定义&quot;&gt;&lt;a href=&quot;#笛卡尔乘积定义&quot; class=&quot;headerlink&quot; title=&quot;笛卡尔乘积定义&quot;&gt;&lt;/a&gt;笛卡尔乘积定义&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;笛卡尔乘积是指在数学中，两个集合X和Y的笛卡尔积（Cartesian product），</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="笛卡尔乘积" scheme="http://damao2250.com/tags/%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/"/>
    
  </entry>
  
  <entry>
    <title>HTML拖拽API</title>
    <link href="http://damao2250.com/2023/01/11/HTML%E6%8B%96%E6%8B%BDAPI/"/>
    <id>http://damao2250.com/2023/01/11/HTML%E6%8B%96%E6%8B%BDAPI/</id>
    <published>2023-01-11T01:26:47.000Z</published>
    <updated>2023-01-11T01:28:08.268Z</updated>
    
    <content type="html"><![CDATA[<h2 id="HTML拖拽API备忘清单"><a href="#HTML拖拽API备忘清单" class="headerlink" title="HTML拖拽API备忘清单"></a>HTML拖拽API备忘清单</h2><table><thead><tr><th align="left">事件</th><th align="left">on事件处理程序</th><th align="left">触发时刻</th></tr></thead><tbody><tr><td align="left">drag</td><td align="left">ondrag</td><td align="left">当拖拽元素或选中的文本时触发</td></tr><tr><td align="left">dragend</td><td align="left">ondragend</td><td align="left">当拖拽操作结束时触发 (比如松开鼠标按键或敲“Esc”键)</td></tr><tr><td align="left">dragenter</td><td align="left">ondragenter</td><td align="left">当拖拽元素或选中的文本到一个可释放目标时触发</td></tr><tr><td align="left">dragexit</td><td align="left">ondragexit</td><td align="left">当元素变得不再是拖拽操作的选中目标时触发</td></tr><tr><td align="left">dragleave</td><td align="left">ondragleave</td><td align="left">当拖拽元素或选中的文本离开一个可释放目标时触发</td></tr><tr><td align="left">dragover</td><td align="left">ondragover</td><td align="left">当元素或选中的文本被拖到一个可释放目标上时触发（每100毫秒触发一次）</td></tr><tr><td align="left">dragstart</td><td align="left">ondragstart</td><td align="left">当用户开始拖拽一个元素或选中的文本时触发</td></tr><tr><td align="left">drop</td><td align="left">ondrop</td><td align="left">当元素或选中的文本在可释放目标上被释放时触发</td></tr></tbody></table><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul><li><p>在拖拽过程中，可以使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DataTransfer">DataTransfer</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DataTransferItem">DataTransferItem</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DataTransferItemList">和DataTransferItemList</a> 来传输与拖拽元素绑定的数据。</p></li><li><p>因此实现一个 HTML 元素的拖拽，一般需要以下几个步骤：</p><ol><li>给想要拖拽的元素设置 draggable 属性为 true</li><li>设置拖拽监听事件来完成自己的需求</li><li>若有需要，在监听事件中设置拖拽数据</li></ol></li></ul><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drag-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drag-box-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drag-box<span class="token punctuation">"</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drag-img-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drag-img<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://dummyimage.com/600x400/ffd53b/fff.png&amp;text=photo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>img</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>html-drop-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.html-drag-container</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 70vh<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>    <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">justify-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#html-drag-box-container</span> <span class="token punctuation">&#123;</span>    <span class="token property">grid-row</span><span class="token punctuation">:</span> 2 / 3<span class="token punctuation">;</span>    <span class="token property">grid-column</span><span class="token punctuation">:</span> 1/ 2<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-drag-box</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 10vw<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 12vh<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#html-drag-img-container</span> <span class="token punctuation">&#123;</span>    <span class="token property">grid-row</span><span class="token punctuation">:</span> 2 / 3<span class="token punctuation">;</span>    <span class="token property">grid-column</span><span class="token punctuation">:</span> 3/ 4<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-drag-img</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 10vw<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 12vh<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-drop-box</span> <span class="token punctuation">&#123;</span>    <span class="token property">grid-row</span><span class="token punctuation">:</span> 2 / 3<span class="token punctuation">;</span>    <span class="token property">grid-column</span><span class="token punctuation">:</span> 2/ 3<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>20<span class="token punctuation">,</span> 179<span class="token punctuation">,</span> 241<span class="token punctuation">)</span> dashed 4px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 14vw<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 18vh<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-drop-box::before</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"请拖放到此区域"</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>160<span class="token punctuation">,</span> 157<span class="token punctuation">,</span> 157<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 2vh<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-dropped</span> <span class="token punctuation">&#123;</span>    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>17<span class="token punctuation">,</span> 241<span class="token punctuation">,</span> 28<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.html-dropover</span> <span class="token punctuation">&#123;</span>    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>252<span class="token punctuation">,</span> 83<span class="token punctuation">,</span> 32<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* 用于限制从本地拖入图片时的大小 */</span><span class="token selector">.html-drop-box img</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 10vw<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 12vh<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> dragbox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'html-drag-box'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> dropbox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'html-drop-box'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> dragimg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'html-drag-img'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> boxcontainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'html-drag-box-container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> imgcontainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'html-drag-img-container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> resetBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'reset-btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dragbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragstart'</span><span class="token punctuation">,</span> onDragStart<span class="token punctuation">)</span><span class="token punctuation">;</span>dragbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragend'</span><span class="token punctuation">,</span> onDragEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>dragimg<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragstart'</span><span class="token punctuation">,</span> onDragStart<span class="token punctuation">)</span><span class="token punctuation">;</span>dragimg<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragend'</span><span class="token punctuation">,</span> onDragEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>dropbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragover'</span><span class="token punctuation">,</span> onDragOver<span class="token punctuation">)</span><span class="token punctuation">;</span>dropbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dragleave'</span><span class="token punctuation">,</span> onDragLeave<span class="token punctuation">)</span><span class="token punctuation">;</span>dropbox<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'drop'</span><span class="token punctuation">,</span> onDrop<span class="token punctuation">)</span><span class="token punctuation">;</span>resetBtn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> resetElement<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">onDragStart</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">.7</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">onDragEnd</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">onDragOver</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 默认情况下是不允许放置拖拽元素的，因此需要取消默认设置</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'html-dropover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">onDragLeave</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'html-dropover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">onDrop</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 阻止一些默认操作，如拖拽超链接会默认打开页面</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">resetElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'html-dropover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'html-dropped'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> isFile <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment">// 若拖拽对象是文件</span>    <span class="token punctuation">[</span><span class="token operator">...</span>e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>items<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">const</span> file <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getAsFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">createPreview</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>            isFile <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isFile<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    dropbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">createPreview</span><span class="token punctuation">(</span><span class="token parameter">imageFile</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>imageFile<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"image/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> image <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>imageFile<span class="token punctuation">)</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    dropbox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">resetElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'html-dropped'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        dropbox<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'html-dropped'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    boxcontainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>dragbox<span class="token punctuation">)</span><span class="token punctuation">;</span>    imgcontainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>dragimg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;HTML拖拽API备忘清单&quot;&gt;&lt;a href=&quot;#HTML拖拽API备忘清单&quot; class=&quot;headerlink&quot; title=&quot;HTML拖拽API备忘清单&quot;&gt;&lt;/a&gt;HTML拖拽API备忘清单&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th alig</summary>
      
    
    
    
    <category term="HTML API" scheme="http://damao2250.com/categories/HTML-API/"/>
    
    
    <category term="HTML拖拽" scheme="http://damao2250.com/tags/HTML%E6%8B%96%E6%8B%BD/"/>
    
  </entry>
  
</feed>

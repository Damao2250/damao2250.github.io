<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Damao</title>
  
  <subtitle>乐躬耕于陇亩兮，吾爱吾庐。聊寄傲于琴书兮，以待天时。</subtitle>
  <link href="http://damao2250.com/atom.xml" rel="self"/>
  
  <link href="http://damao2250.com/"/>
  <updated>2024-05-11T01:44:46.484Z</updated>
  <id>http://damao2250.com/</id>
  
  <author>
    <name>Damao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>GO取指针和取值</title>
    <link href="http://damao2250.com/2024/05/10/GO%E5%8F%96%E6%8C%87%E9%92%88%E5%92%8C%E5%8F%96%E5%80%BC/"/>
    <id>http://damao2250.com/2024/05/10/GO%E5%8F%96%E6%8C%87%E9%92%88%E5%92%8C%E5%8F%96%E5%80%BC/</id>
    <published>2024-05-10T08:25:24.000Z</published>
    <updated>2024-05-11T01:44:46.484Z</updated>
    
    <content type="html"><![CDATA[<ul><li>GO取值和取指针的操作<ul><li><code>*</code>是取值，即获取指针指向的值；<code>&amp;</code>取指针，即获取变量的地址<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span>func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// 取值 start</span><span class="token keyword">var</span> a int <span class="token operator">=</span> <span class="token number">666</span><span class="token keyword">var</span> b int <span class="token operator">=</span> a  <span class="token comment">// a是值传递，b取到的是a的值</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 输出：666</span><span class="token comment">// 取值 end</span><span class="token comment">// a的类型 start</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a的类型为：: %T\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// a的类型为：: int</span><span class="token comment">// a的类型 end</span><span class="token comment">// 取指针 start</span><span class="token keyword">var</span> c <span class="token operator">*</span>int <span class="token operator">=</span> <span class="token operator">&amp;</span>a <span class="token comment">// c取到的是a的地址，c是一个指针，指向a的地址</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment">// 输出：0xc00000a0b8</span><span class="token comment">// 取指针 end</span><span class="token comment">// 指针类型 start</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"c的指针类型为：: %T\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// c的指针类型为：: *int</span><span class="token comment">// 指针类型 end</span><span class="token comment">// 通过指针取值 start</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>c<span class="token punctuation">)</span> <span class="token comment">// 输出：666</span><span class="token comment">// 通过指针取值 end</span><span class="token comment">// 修改指针指向的值 start</span><span class="token operator">*</span>c <span class="token operator">=</span> <span class="token number">789</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>c<span class="token punctuation">)</span> <span class="token comment">// 输出：789</span><span class="token comment">// 修改指针指向的值 end</span><span class="token comment">// 指针作为参数传递并参与运算</span><span class="token function">sum1</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>func <span class="token function">sum1</span><span class="token punctuation">(</span><span class="token parameter">params <span class="token operator">*</span>int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>params<span class="token punctuation">)</span> <span class="token comment">// 输出：789</span><span class="token operator">*</span>params <span class="token operator">=</span> <span class="token operator">*</span>params <span class="token operator">+</span> <span class="token number">1</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>params<span class="token punctuation">)</span> <span class="token comment">// 输出：790</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;GO取值和取指针的操作&lt;ul&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;是取值，即获取指针指向的值；&lt;code&gt;&amp;amp;&lt;/code&gt;取指针，即获取变量的地址&lt;pre class=&quot;line-numbers language-js&quot; data-language=&quot;</summary>
      
    
    
    
    <category term="GO" scheme="http://damao2250.com/categories/GO/"/>
    
    
    <category term="指针" scheme="http://damao2250.com/tags/%E6%8C%87%E9%92%88/"/>
    
    <category term="指针类型" scheme="http://damao2250.com/tags/%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/"/>
    
    <category term="指针取值" scheme="http://damao2250.com/tags/%E6%8C%87%E9%92%88%E5%8F%96%E5%80%BC/"/>
    
  </entry>
  
  <entry>
    <title>JS中的groupBy</title>
    <link href="http://damao2250.com/2024/04/26/JS%E4%B8%AD%E7%9A%84groupBy/"/>
    <id>http://damao2250.com/2024/04/26/JS%E4%B8%AD%E7%9A%84groupBy/</id>
    <published>2024-04-26T03:41:01.000Z</published>
    <updated>2024-04-26T05:52:41.645Z</updated>
    
    <content type="html"><![CDATA[<h2 id="手动实现"><a href="#手动实现" class="headerlink" title="手动实现"></a>手动实现</h2><ul><li>使用 <code>reduce</code> 方法实现 <code>groupBy</code> 函数来实现将数组中的元素根据某个属性或条件分组</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">groupBy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> element</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 使用 key 函数获取分组的键</span>    <span class="token keyword">const</span> groupKey <span class="token operator">=</span> <span class="token function">key</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 如果结果对象中没有这个键，就创建一个空数组</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">[</span>groupKey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      result<span class="token punctuation">[</span>groupKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// 将元素添加到对应的数组中</span>    result<span class="token punctuation">[</span>groupKey<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Joan'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 使用 groupBy 方法</span><span class="token keyword">const</span> peopleByAge <span class="token operator">=</span> <span class="token function">groupBy</span><span class="token punctuation">(</span>people<span class="token punctuation">,</span> <span class="token parameter">person</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>peopleByAge<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// `groupBy` 函数接收两个参数：一个数组和一个函数，这个函数用于从数组的每个元素中提取分组的键。</span><span class="token comment">// `reduce` 方法遍历数组，为每个不同的键创建一个新数组，并将具有相同键的元素添加到对应的数组中。</span><span class="token comment">// 输出</span><span class="token punctuation">&#123;</span>  <span class="token string">'20'</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token string">'30'</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Joan'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="原生支持-Object-groupBy"><a href="#原生支持-Object-groupBy" class="headerlink" title="原生支持 Object.groupBy"></a>原生支持 Object.groupBy</h2><ul><li><code>ECMAScript 2024（ES15）</code>提案已加入 <code>Object.groupBy</code> 方法</li><li>注意目前需要谷歌浏览器<code>117</code>以上的版本才能运行</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Joan'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 调用</span><span class="token keyword">const</span> peopleByAge <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>people<span class="token punctuation">,</span> <span class="token parameter">person</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>peopleByAge<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 输出</span><span class="token punctuation">&#123;</span>  <span class="token string">'20'</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token string">'30'</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jim'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Joan'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;手动实现&quot;&gt;&lt;a href=&quot;#手动实现&quot; class=&quot;headerlink&quot; title=&quot;手动实现&quot;&gt;&lt;/a&gt;手动实现&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;使用 &lt;code&gt;reduce&lt;/code&gt; 方法实现 &lt;code&gt;groupBy&lt;/code&gt; 函数来实现将数</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="groupBy" scheme="http://damao2250.com/tags/groupBy/"/>
    
  </entry>
  
  <entry>
    <title>Vue中的键盘事件</title>
    <link href="http://damao2250.com/2024/03/01/Vue%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6/"/>
    <id>http://damao2250.com/2024/03/01/Vue%E4%B8%AD%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6/</id>
    <published>2024-03-01T07:50:11.000Z</published>
    <updated>2024-03-01T07:54:27.161Z</updated>
    
    <content type="html"><![CDATA[<h2 id="字母键"><a href="#字母键" class="headerlink" title="字母键"></a>字母键</h2><ul><li>只有按下q键时才会执行send方法<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keyup<span class="token punctuation">.</span><span class="token constant">Q</span><span class="token operator">=</span><span class="token string">"send"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="大写锁定键"><a href="#大写锁定键" class="headerlink" title="大写锁定键"></a>大写锁定键</h2><ul><li>只有按下capslock键时才会执行send方法<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keyup<span class="token punctuation">.</span>caps<span class="token operator">-</span>lock<span class="token operator">=</span><span class="token string">"send"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="回车键"><a href="#回车键" class="headerlink" title="回车键"></a>回车键</h2><ul><li>只有按下回车键时才会执行 send 方法<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">"send"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="Alt-字母组合键"><a href="#Alt-字母组合键" class="headerlink" title="Alt+字母组合键"></a>Alt+字母组合键</h2><ul><li>keyup事件时需要同时按下组合键才会执行send方法<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keyup<span class="token punctuation">.</span>Alt<span class="token punctuation">.</span>y<span class="token operator">=</span><span class="token string">"send"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="自定义按键"><a href="#自定义按键" class="headerlink" title="自定义按键"></a>自定义按键</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 13是回车键的键码，将他的别名定义为send</span>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>keyCodes<span class="token punctuation">.</span>send<span class="token operator">=</span><span class="token number">13</span><span class="token comment">// 只有按下回车键时才会执行send方法</span><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keydown<span class="token punctuation">.</span>send<span class="token operator">=</span><span class="token string">"send"</span> type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;字母键&quot;&gt;&lt;a href=&quot;#字母键&quot; class=&quot;headerlink&quot; title=&quot;字母键&quot;&gt;&lt;/a&gt;字母键&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;只有按下q键时才会执行send方法&lt;pre class=&quot;line-numbers language-js&quot; data-</summary>
      
    
    
    
    <category term="Vue" scheme="http://damao2250.com/categories/Vue/"/>
    
    
    <category term="键盘事件" scheme="http://damao2250.com/tags/%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>我的2023</title>
    <link href="http://damao2250.com/2023/12/28/%E6%88%91%E7%9A%842023/"/>
    <id>http://damao2250.com/2023/12/28/%E6%88%91%E7%9A%842023/</id>
    <published>2023-12-28T01:09:26.000Z</published>
    <updated>2024-01-02T11:12:54.983Z</updated>
    
    <content type="html"><![CDATA[<p>时间飞逝，转眼又是年末，是时候掏出我去年的年终总结啦 (╯°□°）╯︵ ┻━┻</p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/a14238c613d054a0c412ddd2339e666.jpg"></p><p>哈哈，玩笑归玩笑，但今年确实重感冒了几次，不确定是不是阳了，但是能确定的是戴口罩几年体抗力是有所下降了。</p><p>过去的一年其实有不少事情值得记录以待他日回味的，但当我准备动笔记录那些忙碌的故事时，却总感到思绪断片不知从何入手，恨不得每个时刻都能流水线般全都记下，但每个精彩的瞬间又都是一段段孤立的片段，在努力回忆这一年做过的事情，希望可以拼凑出一个完整的2023。</p><h2 id="膝盖疼"><a href="#膝盖疼" class="headerlink" title="膝盖疼"></a>膝盖疼</h2><p>先说一个持续时间最长的也是困扰我最久事情吧，那就是蹲下几分钟后右脚的膝盖会超级痛，站起来无法立马伸直走动，但是左脚啥问题都没有。从22年11月中旬左右，一直到23年10月份才有好转，起初发现这个现象的时候没多在意，以为是蹲久了膝盖会有点痛而已，好家伙这一痛之后，接下来的好几个月都有这种症状。</p><p>等我反应过来的时候已经到23年2月份了（也就是过完春节后），立马寻医问诊，去医院拍片医生说没看出来有什么异常，给开了一些缓解关节疼痛的药及外贴的药膏，按照医嘱用药后是有些缓解，没那么痛了。但是这并没有持续多久，大概半个多月后又回到原来的症状。一直到到五月底，又去看了一位中医，医生说需要调理一周看看情况，给开了一周的中药（捏着鼻子喝的那种）。真别说这个中药有点效果，喝了三天之后感觉已经好了很多了，蹲个几分钟起来就只有一点点痛的感觉了，不会至于说无法伸直。但是好景不长，服完一周的药后，大概第三个星期，又回到原来的症状，跟那个中医说了情况，他回应这个是慢性病再开药调理一周，回想前面的西药服用完也差不多是这个效果，心想先不理了。</p><p>联系到平时的工作，想着是不是因为久坐的原因，于是平时坐一段时间后就起身走动走动，拒绝二郎腿，换了一个靠背支撑比较硬的椅子，持续两个月之后疼痛感已经有所好转了。再到后面10月底左右基本蹲下去再起来不会有什么疼痛感，感觉比较正常了，一直到现在虽然还会有点点感觉不一样，但是基本可以忽略不计了。可最后也还是不知道是什么原因引起的，也不知道是中药还是西药起的作用才好的。</p><p>这一整个过程是真的煎熬，有种“问天天不应，叫地地不灵”的感觉，疼痛折磨就算了，找不出个病因，心理也很折磨。咋说，还是那句老话“身体是革命的本钱”，平时还是要好好锻炼，多注意休息。</p><h2 id="毕业设计"><a href="#毕业设计" class="headerlink" title="毕业设计"></a>毕业设计</h2><p>按照时间线，应该说到我的毕业设计了，从2月份开始准备开题报告，到4月中旬的论文初稿完成，再到4月25的答辩，一路紧张准备着，终于再在7月中旬顺利拿到了仲恺农业工程学院的毕业证书。这也算是体验了一次毕设的设计修改完成的流程，毕业设计的指导老师也算是比较上心的。据他所说，我是写的比较认真的一个，所以最后抽部分人去答辩里面有我一个名额。因为都是自己写的项目，答辩的时候基本没什么压力。再说到这个毕业证书，然后用处不是很大了，但也胜过没有。从此我也是仲恺的校友之一了，哈哈u(￣▽￣)”</p><h2 id="求婚-amp-领证"><a href="#求婚-amp-领证" class="headerlink" title="求婚&amp;领证"></a>求婚&amp;领证</h2><p>接下来就是比较重要的两件事情了——求婚和领证。求婚这个事情早在六月初的时候就开始规划了，设想过很多种方案，网上看了很多攻略，知道最重要的就是道具和氛围，于是马上购买了必备的求婚钻石戒指（哈哈，当然是莫桑石戒指）。因为当时我俩比较喜欢去灵山岛那边露营，灵山岛风景又很优美，设想过在那边直接让外卖送一大束花过来，然后自己掏出戒指开始求婚，现场很多免费的演员，只要自己大声喊出来，一定会有很多吃瓜群众过来凑热闹的，于是后面好几次去灵山岛我都在背包里放着我的“钻戒”带过去。但是去到那边我才发现这也太空旷了，“群众演员”也是三三两两比较稀疏，如果是外卖送过来的花必定显得太单薄，而且最最最重要的一点是我忘记了自己不是一头“社牛”，完全没有这个勇气，这个想法只能告一段落。</p><p>又过了段时间依然没有其他头绪，于是网上找了很多那些所谓的求婚现场布置团队，跟人家一聊，报价2k+还需要提供场地。一来没预算，二来没场地，租场地又要支出一笔钱，后来灵光一闪，灵山岛不就是一个免费的场地嘛？纠集了好久还是放弃了，一个费钱，一个指引她到场地需要确保万无一失，还需要一些熟人来捧场，不然会比较尬场。</p><p>纠结来纠结去，时间就到了九月份，正好9月21日是她生日，那不如就趁着这个机会生日加求婚一起进行。这样一举两得，自己网上买道具回来可比请人来要划算得多，两百多就搞定生日道具跟求婚用的道具。当你以为万事俱备只欠东风的时候，意外情况就出现了。她生日那天是星期四，但是按照惯例她星期二出差星期五才回来呀！既然是这样，那我就先摆好道具，定好蛋糕周五送过来，等周五她回来的时候就给她一个惊喜也可以，OK，那就这么愉快的决定了。但是，凡事都有个但是，你以为这就完了嘛？我公司三十周年庆活动刚好也选在了周五这一天，全公司人员都需要到接近增城那边举办半马活动！这真是双重打击。可是我的道具都已经买好了呀，而且错过了这个时间，都不知道排到什么时候了。</p><p>于是在她生日那天请了一天假，跟她说太累想休息一天，她也没太多注意，然后打了大半天的气球，绑出一个心形得形状，在客订摆放好生日用的道具，在卧室摆放好求婚用的道具，把所有的道具都摆好。设想到时她回来先在客厅看到给她生日布置的场景，然后在引导她到卧室看到求婚的场景，接着自己跟求婚。嗯，堪称非常完美，绝对万无一失了！她生日的当天晚上，当然还是得拍一下我精心布置的生日场景给她，祝福她生日快乐，当晚我也订了一束鲜艳的玫瑰花（记住这束花，后面要考），拍照给她看，她乐呵得发朋友圈夸我突然变得浪漫。当天晚上也忙着摆道具到凌晨，忙完倒头就睡了。</p><p>第二天早早起来把昨晚的那一束花放到卧室，开着空调不让它萎蔫，然后参加公司下午举办的半马活动，想着参加完就立马回来把所有的一切都准备好，等她回来，给她一个惊喜。但是现实先给我一个惊喜，当天下午她居然说这次要提早回来！啊？？？那我准备的不是白费了？看到她给我发这个消息的时候，我的半马才跑了一半，一看时间，我跑完结束的时候她差不多到南站，于是跟她说让她等我一起回去，她答应说可以，于是我赶紧来跑完，但是越往后面跑就越没体力了，肯本跑不动，只能慢慢跑，跑完之后发现她已经在七号线等我了，但我从我的位置到她在七号线等我的位置还要接近一个半小时的时间。她等了半个小时之后已经不耐烦了，说要先回去，我左磨右磨才劝得住她等我。她能等我我已经很不错了，我已经不在想着有啥惊喜了，回去到门口就直接告诉她我给她准备的一些惊喜。</p><p>此时我已经没抱有让她特别惊喜的想念了。然而柳暗花明又一村，我又看到希望了，她在等我的时候跟我说她妹妹今天也要去我们那里，而且已经准备到了，哈哈哈，我大喜，天助我也！赶紧跟她妹妹联系，说明我的计划，让她帮我提前帮我弄好灯光，到此一切准备就绪。回去的路上把那些想好的台词重复n次，心里依然觉得很紧张，哈哈哈… 回去后，按计划她先看到布置的生日场景，她很开心，接着我跟她说“你知道我昨晚拍照给你花放在哪里了嘛？我把它放在卧室里开了一天的空调等你回来，你可以进去帮我拿出来吗？”于是她就进卧室了，我赶紧把我的求婚戒指拿出来，她开门的那个一刻给惊喜到了，她回头的时候我已经准备好求婚的仪式，正式跟她求婚，到此完成了我的求婚仪式</p><p>求完婚后我们也确定了领证的日子，定在了23023年10月23日。领证就比较流水线了，提前跟民政局预约好时间，预约好婚检。当天就是约好化妆师、跟拍，化完妆后直接去民政局排队领证，跟拍全程在摄影拍照。当时也是叫了双方的亲戚过来吃晚饭，晚饭的过程我们还搞了一些活动，一人一张彩票加一张刮刮乐，后面还有抽奖部分人能拿到面额更大的刮刮乐（该说不说，刮刮乐我买了一本多一点，全都刮完了，没有回本），大家都很开心，我也终于走到了我人生一个比较大的转折点</p><p>来两张配图：<br><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/0a86b0c28ecf90c065c4b63ac7ae01e.jpg"></p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/839e159021fccbbead32e5032eb5c17.jpg"></p><h2 id="收楼"><a href="#收楼" class="headerlink" title="收楼"></a>收楼</h2><p>最后一个要说的就是我们赶在2023年12月29日收楼啦，收楼过程算是比较顺利，没啥大问题。终于可以开始打造属于我们温暖的小窝啦！</p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/1704193905798.jpg"></p><p><img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/715b43d33f3fb4c1c3d384085e88d18.jpg"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;时间飞逝，转眼又是年末，是时候掏出我去年的年终总结啦 (╯°□°）╯︵ ┻━┻&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/Damao2250/FileTransfer/master/a14238c613d054a0</summary>
      
    
    
    
    <category term="总结" scheme="http://damao2250.com/categories/%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="2023" scheme="http://damao2250.com/tags/2023/"/>
    
  </entry>
  
  <entry>
    <title>常用网址记录</title>
    <link href="http://damao2250.com/2023/12/19/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80%E8%AE%B0%E5%BD%95/"/>
    <id>http://damao2250.com/2023/12/19/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80%E8%AE%B0%E5%BD%95/</id>
    <published>2023-12-19T10:55:35.000Z</published>
    <updated>2024-03-06T03:52:58.297Z</updated>
    
    <content type="html"><![CDATA[<h2 id="医药"><a href="#医药" class="headerlink" title="医药"></a>医药</h2><ul><li>中国医药信息查询平台：<a href="https://www.dayi.org.cn/">https://www.dayi.org.cn/</a></li></ul><h2 id="气象-地图"><a href="#气象-地图" class="headerlink" title="气象/地图"></a>气象/地图</h2><ul><li>MSN天气图：<a href="https://www.msn.cn/zh-cn/weather/maps?type=temperature">https://www.msn.cn/zh-cn/weather/maps?type=temperature</a></li></ul><h2 id="影视-or-网盘-or-图书"><a href="#影视-or-网盘-or-图书" class="headerlink" title="影视 or 网盘 or 图书"></a>影视 or 网盘 or 图书</h2><ul><li>奈飞热剧-PAN99：<a href="https://pan99.xyz/">https://pan99.xyz/</a></li><li>云盘分享社：<a href="https://www.yunpanfenxiang.cn/">https://www.yunpanfenxiang.cn/</a></li><li>耐卡-欧美剧集：<a href="https://mcar.vip/forum.php?mod=forumdisplay&fid=129">https://mcar.vip/forum.php?mod=forumdisplay&amp;fid=129</a></li><li>4K世界：<a href="https://www.4ksj.com/4k-uhd-1.html">https://www.4ksj.com/4k-uhd-1.html</a></li><li>libvio(影视)：<a href="https://www.libvio.me/">https://www.libvio.me/</a></li><li>Anna’s Archive（电子书）：<a href="https://zh.annas-archive.org/">https://zh.annas-archive.org/</a></li></ul><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><ul><li>丑搜-博客搜索：<a href="https://uglysearch.othing.xyz/">https://uglysearch.othing.xyz/</a></li></ul><h2 id="网络宽带"><a href="#网络宽带" class="headerlink" title="网络宽带"></a>网络宽带</h2><ul><li>广东电信宽带测速平台：<a href="https://10000.gd.cn/#/speed">https://10000.gd.cn/#/speed</a></li><li>中国科学技术大学测速网站：<a href="https://test.ustc.edu.cn/">https://test.ustc.edu.cn/</a></li><li>speedtest：<a href="https://www.speedtest.net/">https://www.speedtest.net/</a></li><li>speedtest.im：<a href="https://speedtest.im/">https://speedtest.im/</a></li></ul><h2 id="政企相关"><a href="#政企相关" class="headerlink" title="政企相关"></a>政企相关</h2><ul><li>广州阳光家缘：<a href="http://zfcj.gz.gov.cn/zfcj/ygjy">http://zfcj.gz.gov.cn/zfcj/ygjy</a></li><li>南沙区金洲农贸市场菜篮子零售价：<a href="https://www.gzns.gov.cn/zwgk/zdlyxxgk/jghsf/jgbz/">https://www.gzns.gov.cn/zwgk/zdlyxxgk/jghsf/jgbz/</a></li><li>中国家电网-零售监测：<a href="http://info.cheaa.com/zhoubao.shtml">http://info.cheaa.com/zhoubao.shtml</a></li></ul><h2 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h2><ul><li>CS自学指南：<a href="https://csdiy.wiki/">https://csdiy.wiki/</a></li><li>AI算法工程师手册：<a href="https://www.huaxiaozhuan.com/">https://www.huaxiaozhuan.com/</a></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li>所有时区的精确时间：<a href="https://time.is/">https://time.is/</a></li><li>中国家电网：<a href="http://www.cheaa.com/">http://www.cheaa.com/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;医药&quot;&gt;&lt;a href=&quot;#医药&quot; class=&quot;headerlink&quot; title=&quot;医药&quot;&gt;&lt;/a&gt;医药&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;中国医药信息查询平台：&lt;a href=&quot;https://www.dayi.org.cn/&quot;&gt;https://www.dayi.o</summary>
      
    
    
    
    <category term="网址" scheme="http://damao2250.com/categories/%E7%BD%91%E5%9D%80/"/>
    
    
    <category term="网址" scheme="http://damao2250.com/tags/%E7%BD%91%E5%9D%80/"/>
    
  </entry>
  
  <entry>
    <title>人民币数字大写转换工具</title>
    <link href="http://damao2250.com/2023/11/27/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7/"/>
    <id>http://damao2250.com/2023/11/27/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2%E5%B7%A5%E5%85%B7/</id>
    <published>2023-11-27T01:36:33.000Z</published>
    <updated>2023-11-27T02:22:37.975Z</updated>
    
    <content type="html"><![CDATA[<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token parameter">currencyDigits</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> integral<span class="token punctuation">,</span> decimal<span class="token punctuation">,</span> outputCharacters<span class="token punctuation">,</span> parts<span class="token punctuation">,</span> digits<span class="token punctuation">,</span> radices<span class="token punctuation">,</span> bigRadices<span class="token punctuation">,</span> decimals<span class="token punctuation">,</span> zeroCount<span class="token punctuation">,</span> i<span class="token punctuation">,</span> p<span class="token punctuation">,</span> d<span class="token punctuation">,</span> ds<span class="token punctuation">,</span> quotient<span class="token punctuation">,</span> modulus<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> currencyDigits <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">==</span> currencyDigits<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"不能为空 请输入数字金额!如：123.23"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^,.\d]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"输入字符串中的字符无效!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> currencyDigits<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((\d&#123;1,3&#125;(,\d&#123;3&#125;)*(.((\d&#123;3&#125;,)*\d&#123;1,3&#125;))?)|(\d+(.\d+)?))$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入正确的数字金额!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>currencyDigits <span class="token operator">=</span> <span class="token punctuation">(</span>currencyDigits <span class="token operator">=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^0+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Number</span><span class="token punctuation">(</span>currencyDigits<span class="token punctuation">)</span> <span class="token operator">></span>    <span class="token number">99999999999.99</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Too large a number to convert!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>parts <span class="token operator">=</span> currencyDigits<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token punctuation">(</span>integral <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> decimal <span class="token operator">=</span> <span class="token punctuation">(</span>decimal <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>    <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>integral <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> decimal <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> digits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">"零"</span><span class="token punctuation">,</span> <span class="token string">"壹"</span><span class="token punctuation">,</span> <span class="token string">"贰"</span><span class="token punctuation">,</span> <span class="token string">"叁"</span><span class="token punctuation">,</span> <span class="token string">"肆"</span><span class="token punctuation">,</span> <span class="token string">"伍"</span><span class="token punctuation">,</span> <span class="token string">"陆"</span><span class="token punctuation">,</span> <span class="token string">"柒"</span><span class="token punctuation">,</span> <span class="token string">"捌"</span><span class="token punctuation">,</span>      <span class="token string">"玖"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> radices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"拾"</span><span class="token punctuation">,</span> <span class="token string">"佰"</span><span class="token punctuation">,</span> <span class="token string">"仟"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bigRadices <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"万"</span><span class="token punctuation">,</span> <span class="token string">"亿"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> decimals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>        <span class="token string">"角"</span><span class="token punctuation">,</span> <span class="token string">"分"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token function">Number</span><span class="token punctuation">(</span>integral<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> integral<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> quotient <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> integral<span class="token punctuation">.</span>length <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span> modulus <span class="token operator">=</span> p <span class="token operator">%</span>      <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"0"</span> <span class="token operator">==</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> integral<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> zeroCount<span class="token operator">++</span> <span class="token operator">:</span> <span class="token punctuation">(</span>zeroCount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> digits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">+=</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> radices<span class="token punctuation">[</span>modulus<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token operator">==</span> modulus <span class="token operator">&amp;&amp;</span> zeroCount <span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span>      <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> bigRadices<span class="token punctuation">[</span>quotient<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    outputCharacters <span class="token operator">+=</span> <span class="token string">"元"</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">!=</span> decimal<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> decimal<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> d <span class="token operator">=</span> decimal<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ds <span class="token operator">=</span> decimal<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outputCharacters <span class="token operator">+=</span>      <span class="token number">0</span> <span class="token operator">==</span> d <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">==</span> ds <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> digits<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> decimals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">""</span> <span class="token operator">==</span> outputCharacters <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">=</span> <span class="token string">"零元"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span> <span class="token operator">==</span> decimal <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>outputCharacters <span class="token operator">+=</span> <span class="token string">"整"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    outputCharacters <span class="token operator">=</span> <span class="token string">""</span> <span class="token operator">+</span> outputCharacters<span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token string">'123.23'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 壹佰贰拾叁元贰角叁分</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token number">999.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 玖佰玖拾玖元玖角玖分</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convertCurrency</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 零元整</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;line-numbers language-js&quot; data-language=&quot;js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="工具" scheme="http://damao2250.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="人民币数字大写转换" scheme="http://damao2250.com/tags/%E4%BA%BA%E6%B0%91%E5%B8%81%E6%95%B0%E5%AD%97%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2/"/>
    
  </entry>
  
  <entry>
    <title>JS运算符备忘</title>
    <link href="http://damao2250.com/2023/11/17/JS%E8%BF%90%E7%AE%97%E7%AC%A6%E5%A4%87%E5%BF%98/"/>
    <id>http://damao2250.com/2023/11/17/JS%E8%BF%90%E7%AE%97%E7%AC%A6%E5%A4%87%E5%BF%98/</id>
    <published>2023-11-17T07:05:30.000Z</published>
    <updated>2023-11-17T09:13:14.217Z</updated>
    
    <content type="html"><![CDATA[<h2 id="链判断运算符"><a href="#链判断运算符" class="headerlink" title="链判断运算符 ?."></a>链判断运算符 <code>?.</code></h2><ul><li><p>读取对象内部的某个属性时，判断上层对象是否存在</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 读取message data.result.state.message</span><span class="token comment">// 正常写法</span><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token punctuation">(</span> data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>state <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>state<span class="token punctuation">.</span>message <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">""</span><span class="token comment">// 链判断运算符写法</span><span class="token keyword">const</span> message <span class="token operator">=</span> data<span class="token operator">?.</span>result<span class="token operator">?.</span>state<span class="token operator">?.</span>message <span class="token operator">||</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>三元运算符<code>?:</code>也常用于判断对象是否存在</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// state.code</span><span class="token keyword">const</span> code <span class="token operator">=</span> state <span class="token operator">?</span> state<span class="token punctuation">.</span>code <span class="token operator">:</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><code>?.</code>运算符常见形式</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">a<span class="token operator">?.</span>b<span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">.</span>ba<span class="token operator">?.</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">[</span>x<span class="token punctuation">]</span>a<span class="token operator">?.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> a<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>a<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 等同于</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Null-判断运算符-、"><a href="#Null-判断运算符-、" class="headerlink" title="Null 判断运算符 ||、??"></a>Null 判断运算符 <code>||</code>、<code>??</code></h2><ul><li><p>如果某个属性的值是<code>null</code>或<code>undefined</code>，有时候需要为它们指定默认值</p></li><li><p>常见做法是通过<code>||</code>运算符指定默认值，但是属性的值如果为空字符串或<code>false</code>或<code>0</code>，默认值也会生效，如下</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> value <span class="token operator">=</span> data<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token string">"123"</span><span class="token comment">// 当data.value等于null、undefine、false、0或空值的时候value的值都是'123'</span><span class="token comment">// 这样会导致无法判断false、0或者空值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>通过<code>??</code>运算符，只有值为<code>null</code>或<code>undefined</code>时，才会返回右侧的值</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> value <span class="token operator">=</span> data<span class="token punctuation">.</span>value <span class="token operator">??</span> <span class="token string">"123"</span><span class="token comment">// 当data.value等于null、undefine的时候value的值才是'123'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h2 id="逻辑赋值运算符-、-amp-amp-、"><a href="#逻辑赋值运算符-、-amp-amp-、" class="headerlink" title="逻辑赋值运算符 ||=、&amp;&amp;=、??="></a>逻辑赋值运算符 <code>||=</code>、<code>&amp;&amp;=</code>、<code>??=</code></h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 或赋值运算符</span>x <span class="token operator">||=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">||</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span class="token comment">// 与赋值运算符</span>x <span class="token operator">&amp;&amp;=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span class="token comment">// Null 赋值运算符</span>x <span class="token operator">??=</span> y<span class="token comment">// 等同于</span>x <span class="token operator">??</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>写法对比</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 老的写法</span>user<span class="token punctuation">.</span>id <span class="token operator">=</span> user<span class="token punctuation">.</span>id <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 新的写法</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>示例</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ||=  值为 null、undefined、false、0或空时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">||=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 9</span><span class="token comment">// &amp;&amp;= 与上面相反，值不为 null、undefined、false、0或空时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 0</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token comment">// ??=  ,值为 null undefined 时取默认值</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 0</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 9</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  id<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">&#125;</span>user<span class="token punctuation">.</span>id <span class="token operator">??=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><ul><li><code>&amp;&amp;</code>与、<code>!!</code>或、<code>!</code>非，<code>!!</code>非的取反</li></ul><h2 id="逻辑位运算符"><a href="#逻辑位运算符" class="headerlink" title="逻辑位运算符"></a>逻辑位运算符</h2><ul><li><code>&amp;</code>位与、<code>|</code>位或、<code>^</code>位异或、<code>~</code>位非</li></ul><h2 id="位移运算符"><a href="#位移运算符" class="headerlink" title="位移运算符"></a>位移运算符</h2><ul><li><code>&lt;&lt;</code>左移、<code>&gt;&gt;</code>右移、<code>&gt;&gt;&gt;</code>无符号右移</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;链判断运算符&quot;&gt;&lt;a href=&quot;#链判断运算符&quot; class=&quot;headerlink&quot; title=&quot;链判断运算符 ?.&quot;&gt;&lt;/a&gt;链判断运算符 &lt;code&gt;?.&lt;/code&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;读取对象内部的某个属性时，判断上层对象是否存在&lt;/p</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="JS" scheme="http://damao2250.com/tags/JS/"/>
    
    <category term="运算符" scheme="http://damao2250.com/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    
  </entry>
  
  <entry>
    <title>不同分辨率屏幕的适配</title>
    <link href="http://damao2250.com/2023/11/04/%E4%B8%8D%E5%90%8C%E5%88%86%E8%BE%A8%E7%8E%87%E5%B1%8F%E5%B9%95%E7%9A%84%E9%80%82%E9%85%8D/"/>
    <id>http://damao2250.com/2023/11/04/%E4%B8%8D%E5%90%8C%E5%88%86%E8%BE%A8%E7%8E%87%E5%B1%8F%E5%B9%95%E7%9A%84%E9%80%82%E9%85%8D/</id>
    <published>2023-11-04T09:40:24.000Z</published>
    <updated>2023-11-04T10:00:29.598Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用两个转换库"><a href="#使用两个转换库" class="headerlink" title="使用两个转换库"></a>使用两个转换库</h2><ul><li>postcss-pxtorem<pre class="line-numbers language-none"><code class="language-none">postcss-pxtorem 插件，可以从像素单位生成 rem 单位<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li>amfe-flexible<pre class="line-numbers language-none"><code class="language-none">amfe-flexible 是配置可伸缩布局方案，主要是将 1rem 设为 viewWidth&#x2F;10PC端设计稿为1920时：1920&#x2F;10 &#x3D; 192移动端设计稿为750时：750&#x2F;10 &#x3D; 75<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="在项目中配置"><a href="#在项目中配置" class="headerlink" title="在项目中配置"></a>在项目中配置</h2><ul><li><p>1、安装依赖</p><pre class="line-numbers language-ps" data-language="ps"><code class="language-ps">npm install postcss-pxtoremnpm install amfe-flexible<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>2、<code>vue.config.js</code>中配置</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> postCssPxToRem <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-pxtorem'</span><span class="token punctuation">)</span><span class="token comment">// import postCssPxToRem from 'postcss-pxtorem'</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    loaderOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      postcss<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token function">postCssPxToRem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            rootValue<span class="token operator">:</span> <span class="token number">192</span><span class="token punctuation">,</span> <span class="token comment">// 设计稿尺寸 1rem 的大小</span>            propList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span> <span class="token comment">// 需要转换的属性列表，*表示全部转换</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或<code>vite.config.ts</code>中配置</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> postCssPxToRem <span class="token keyword">from</span> <span class="token string">'postcss-pxtorem'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    postcss<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token function">postCssPxToRem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>          rootValue<span class="token operator">:</span> <span class="token string">'192'</span><span class="token punctuation">,</span>          propList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>3、main.js 中引入</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">'amfe-flexible'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;使用两个转换库&quot;&gt;&lt;a href=&quot;#使用两个转换库&quot; class=&quot;headerlink&quot; title=&quot;使用两个转换库&quot;&gt;&lt;/a&gt;使用两个转换库&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;postcss-pxtorem&lt;pre class=&quot;line-numbers lang</summary>
      
    
    
    
    <category term="Vue" scheme="http://damao2250.com/categories/Vue/"/>
    
    
    <category term="分辨率适配" scheme="http://damao2250.com/tags/%E5%88%86%E8%BE%A8%E7%8E%87%E9%80%82%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>CF方案</title>
    <link href="http://damao2250.com/2023/10/27/CF%E6%96%B9%E6%A1%88/"/>
    <id>http://damao2250.com/2023/10/27/CF%E6%96%B9%E6%A1%88/</id>
    <published>2023-10-27T07:16:49.000Z</published>
    <updated>2024-02-21T09:23:55.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-准备-v2rayN"><a href="#1-准备-v2rayN" class="headerlink" title="1. 准备 v2rayN"></a>1. 准备 v2rayN</h2><ul><li>下载安装 <a href="https://github.com/2dust/v2rayN/releases">v2rayN最新版</a></li></ul><h2 id="2-cloudflare"><a href="#2-cloudflare" class="headerlink" title="2. cloudflare"></a>2. cloudflare</h2><ul><li><p>访问 <a href="https://dash.cloudflare.com/">cloudflare</a>，使用临时邮箱或自己的邮箱注册一个账号</p></li><li><p>临时邮箱：<a href="https://www.linshiyouxiang.net/">https://www.linshiyouxiang.net/</a></p></li><li><p>注册好cloudflare后，选择添加站点，选择workers和pages，然后重新验证邮箱，去邮箱点击验证的链接即可</p></li><li><p>验证邮箱后，点击创建worker，修改worker名称，点击部署，点击配置worker，点击快速编辑</p></li><li><p>进入配置worker页面后，点击快速编辑，把worker.js的代码全部删除，然后复制<a href="https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js">部署代码https://github.com/zizifn/edgetunnel/blob/main/src/worker-vless.js</a> 粘贴到worker.js</p></li><li><p>粘贴完worker.js后，需要修改第七行的<code>userID</code>，需要先去<a href="https://1024tools.com/uuid">uuid生成：https://1024tools.com/uuid</a>，生成后选择一组复制粘贴到第七行的<code>userID</code></p></li><li><p>worker.js的第九行的<code>proxyIP</code>，使用下面其中一组代理即可</p><pre class="line-numbers language-none"><code class="language-none">cdn-all.xn--b6gac.eu.orgcdn.xn--b6gac.eu.org cdn-b100.xn--b6gac.eu.org edgetunnel.anycast.eu.org cdn.anycast.eu.org （亚洲地区）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>完成userID和proxyIP配置后，点击保存并部署，部署完后点击 发送 按钮，看右边能正常返回来json说明部署成功</p></li><li><p>将刚刚点击发送的URL与userID拼接成url地址访问，如：<a href="https://worker007.u1-kejy8.workers.dev/299a134c-c7b7-45f8-b8a8-649c86%EF%BC%8C%E7%84%B6%E5%90%8E%E5%B0%86%60vless://%60%E5%BC%80%E5%A4%B4%E7%9A%84%E9%82%A3%E4%B8%80%E8%A1%8C%E5%85%A8%E9%83%A8%E5%A4%8D%E5%88%B6%E5%88%B0v2rayN">https://worker007.u1-kejy8.workers.dev/299a134c-c7b7-45f8-b8a8-649c86，然后将`vless://`开头的那一行全部复制到v2rayN</a></p></li><li><p>打开v2rayN，点击服务器，点击从剪贴板导入批量URL，导入后可以看到节点，然后双击节点，传输层安全选择空，端口改为80或者2052</p></li><li><p>地址需要使用到邮箱IP，使用workers win专用<a href="https://jdssl.top/wp-content/uploads/2023/07/works%E4%B8%93%E7%94%A8ip%E4%BC%98%E9%80%89.zip">ip优选 https://jdssl.top/wp-content/uploads/2023/07/works%E4%B8%93%E7%94%A8ip%E4%BC%98%E9%80%89.zip</a>，下载后打开文件夹，随便双击一个bat结尾的文件，双击前需要确保所有的科学上网工具都是关闭的，地址改为优选IP</p></li><li><p>无法优选ip 可以使用这个（youxuan.jdssl.link）域名在v2ray 填优选ip处填写，把端口改为：80 并把下面的tls关闭</p></li></ul><h2 id="参考：https-blog-taoshuge-eu-org-post-4"><a href="#参考：https-blog-taoshuge-eu-org-post-4" class="headerlink" title="参考：https://blog.taoshuge.eu.org/post/4/"></a>参考：<a href="https://blog.taoshuge.eu.org/post/4/">https://blog.taoshuge.eu.org/post/4/</a></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-准备-v2rayN&quot;&gt;&lt;a href=&quot;#1-准备-v2rayN&quot; class=&quot;headerlink&quot; title=&quot;1. 准备 v2rayN&quot;&gt;&lt;/a&gt;1. 准备 v2rayN&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载安装 &lt;a href=&quot;https://gith</summary>
      
    
    
    
    <category term="cloudflare" scheme="http://damao2250.com/categories/cloudflare/"/>
    
    
    <category term="cloudflare" scheme="http://damao2250.com/tags/cloudflare/"/>
    
    <category term="CF" scheme="http://damao2250.com/tags/CF/"/>
    
  </entry>
  
  <entry>
    <title>css自定义有序列表</title>
    <link href="http://damao2250.com/2023/09/13/css%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8/"/>
    <id>http://damao2250.com/2023/09/13/css%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8/</id>
    <published>2023-09-13T00:45:18.000Z</published>
    <updated>2023-09-13T02:10:10.289Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CSS-属性-list-style-type"><a href="#CSS-属性-list-style-type" class="headerlink" title="CSS 属性 list-style-type"></a>CSS 属性 list-style-type</h2><ul><li><code>list-style-type</code>可以设置列表元素的 marker（比如圆点、符号、或者自定义计数器样式）, 默认为disc实心圆点</li><li>参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style-type">MDN</a></li></ul><h2 id="常见属性"><a href="#常见属性" class="headerlink" title="常见属性"></a>常见属性</h2><ul><li><code>none</code> 不显示<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: none;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:none !important;">  <li style="list-style-type:none !important;">白日依山尽</li>  <li style="list-style-type:none !important;">黄河入海流</li>  <li style="list-style-type:none !important;">欲穷千里目</li>  <li style="list-style-type:none !important;">更上一层楼</li></ul></li><li><code>disc</code> 实心圆(默认)<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: disc;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:disc !important;">  <li style="list-style-type:disc !important;">白日依山尽</li>  <li style="list-style-type:disc !important;">黄河入海流</li>  <li style="list-style-type:disc !important;">欲穷千里目</li>  <li style="list-style-type:disc !important;">更上一层楼</li></ul></li><li><code>circle</code> 空心圆<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: circle;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:circle !important;">  <li style="list-style-type:circle !important;">白日依山尽</li>  <li style="list-style-type:circle !important;">黄河入海流</li>  <li style="list-style-type:circle !important;">欲穷千里目</li>  <li style="list-style-type:circle !important;">更上一层楼</li></ul></li><li><code>square</code> 实心方块<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: square;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:square !important;">  <li style="list-style-type:square !important;">白日依山尽</li>  <li style="list-style-type:square !important;">黄河入海流</li>  <li style="list-style-type:square !important;">欲穷千里目</li>  <li style="list-style-type:square !important;">更上一层楼</li></ul></li><li><code>decimal</code> 十进制阿拉伯数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:decimal !important;">  <li style="list-style-type:decimal !important;">白日依山尽</li>  <li style="list-style-type:decimal !important;">黄河入海流</li>  <li style="list-style-type:decimal !important;">欲穷千里目</li>  <li style="list-style-type:decimal !important;">更上一层楼</li></ul></li><li><code>cjk-decimal</code> 十进制数大写<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-decimal !important;">  <li style="list-style-type:cjk-decimal !important;">白日依山尽</li>  <li style="list-style-type:cjk-decimal !important;">黄河入海流</li>  <li style="list-style-type:cjk-decimal !important;">欲穷千里目</li>  <li style="list-style-type:cjk-decimal !important;">更上一层楼</li></ul></li><li><code>decimal-leading-zero</code> 十进制阿拉伯数字(个位数前面补零)<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: decimal-leading-zero;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:decimal-leading-zero !important;">  <li style="list-style-type:decimal-leading-zero !important;">白日依山尽</li>  <li style="list-style-type:decimal-leading-zero !important;">黄河入海流</li>  <li style="list-style-type:decimal-leading-zero !important;">欲穷千里目</li>  <li style="list-style-type:decimal-leading-zero !important;">更上一层楼</li></ul></li><li><code>lower-roman</code> 小写的罗马数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: lower-roman;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:lower-roman !important;">  <li style="list-style-type:lower-roman !important;">白日依山尽</li>  <li style="list-style-type:lower-roman !important;">黄河入海流</li>  <li style="list-style-type:lower-roman !important;">欲穷千里目</li>  <li style="list-style-type:lower-roman !important;">更上一层楼</li></ul></li><li><code>upper-roman</code> 大写的罗马数字<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: upper-roman;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:upper-roman !important;">  <li style="list-style-type:upper-roman !important;">白日依山尽</li>  <li style="list-style-type:upper-roman !important;">黄河入海流</li>  <li style="list-style-type:upper-roman !important;">欲穷千里目</li>  <li style="list-style-type:upper-roman !important;">更上一层楼</li></ul></li><li>其他<ul><li>lower-greek 小写古典希腊文</li><li>lower-alpha, lower-latin 小写ASCII字母</li><li>upper-alpha, upper-latin 大写ASCII字母</li><li>其他非常用的属性值：<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style-type#%E8%AF%AD%E6%B3%95">语法取值</a></li></ul></li></ul><h2 id="特殊属性"><a href="#特殊属性" class="headerlink" title="特殊属性"></a>特殊属性</h2><ul><li><p>取值为 <code>cjk-decimal</code>, <code>cjk-ideographic</code>, <code>japanese-informal</code>, <code>korean-hanja-informal</code>, <code>trad-chinese-informal</code>时，个位都是 一、二、三…</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-decimal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-decimal !important;">  <li style="list-style-type:cjk-decimal !important;">白日依山尽</li>  <li style="list-style-type:cjk-decimal !important;">黄河入海流</li>  <li style="list-style-type:cjk-decimal !important;">欲穷千里目</li>  <li style="list-style-type:cjk-decimal !important;">更上一层楼</li></ul></li><li><p>取值为 <code>korean-hanja-formal</code>, <code>simp-chinese-formal</code>, <code>trad-chinese-formal</code>时，个位都是 壹、贰、叁…</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: simp-chinese-formal;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:simp-chinese-formal !important;">  <li style="list-style-type:simp-chinese-formal !important;">白日依山尽</li>  <li style="list-style-type:simp-chinese-formal !important;">黄河入海流</li>  <li style="list-style-type:simp-chinese-formal !important;">欲穷千里目</li>  <li style="list-style-type:simp-chinese-formal !important;">更上一层楼</li></ul></li><li><p><code>cjk-earthly-branch</code>：子、丑、寅…（地支序号）</p><ul><li>地支超过十二时会自动排序：子子、子丑、子寅…（天干同理）<pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-earthly-branch;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-earthly-branch !important;"><li style="list-style-type:cjk-earthly-branch !important;">白日依山尽</li><li style="list-style-type:cjk-earthly-branch !important;">黄河入海流</li><li style="list-style-type:cjk-earthly-branch !important;">欲穷千里目</li><li style="list-style-type:cjk-earthly-branch !important;">更上一层楼</li></ul></li></ul></li><li><p><code>cjk-heavenly-stem</code>：子、丑、寅…（天干序号）</p><pre class="line-numbers language-none"><code class="language-none">&lt;ul style&#x3D;&quot;list-style-type: cjk-heavenly-stem;&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul style="list-style-type:cjk-heavenly-stem !important;">  <li style="list-style-type:cjk-heavenly-stem !important;">白日依山尽</li>  <li style="list-style-type:cjk-heavenly-stem !important;">黄河入海流</li>  <li style="list-style-type:cjk-heavenly-stem !important;">欲穷千里目</li>  <li style="list-style-type:cjk-heavenly-stem !important;">更上一层楼</li></ul></li></ul><h2 id="自定义序号"><a href="#自定义序号" class="headerlink" title="自定义序号"></a>自定义序号</h2><h3 id="自定义数字"><a href="#自定义数字" class="headerlink" title="自定义数字"></a>自定义数字</h3>  <pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;  @counter-style circled-simp-chinese-informal &#123;    system: additive;    suffix: &quot; &quot;;    additive-symbols: ㊉ 10, ㊈ 9, ㊇ 8, ㊆ 7, ㊅ 6, ㊄ 5, ㊃ 4, ㊂ 3, ㊁ 2, ㊀ 1;  &#125;  .origin &#123;    list-style: circled-simp-chinese-informal;  &#125;&lt;&#x2F;style&gt;&lt;ul class&#x3D;&quot;origin&quot;&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;  &lt;li&gt;白日依山尽&lt;&#x2F;li&gt;  &lt;li&gt;黄河入海流&lt;&#x2F;li&gt;  &lt;li&gt;欲穷千里目&lt;&#x2F;li&gt;  &lt;li&gt;更上一层楼&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <style>    @counter-style circled-simp-chinese-informal {      system: additive;      suffix: " ";      additive-symbols: ㊉ 10, ㊈ 9, ㊇ 8, ㊆ 7, ㊅ 6, ㊄ 5, ㊃ 4, ㊂ 3, ㊁ 2, ㊀ 1;    }    .origin {      list-style: circled-simp-chinese-informal  !important;    }  </style>  <ul class="origin">    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>    <li class="origin">白日依山尽</li>    <li class="origin">黄河入海流</li>    <li class="origin">欲穷千里目</li>    <li class="origin">更上一层楼</li>  </ul><h3 id="自定义表情"><a href="#自定义表情" class="headerlink" title="自定义表情"></a>自定义表情</h3>  <pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;  @counter-style emoji-test &#123;    system: additive;    suffix: &quot; &quot;;    additive-symbols: 😍 10, 😜 9, 😂 8, 😅 7, 😁 6, 🙂 5, 😐 4, 🙁 3, 😨 2, 😭 1;  &#125;  .emoji &#123;    list-style: emoji-test;  &#125;&lt;&#x2F;style&gt;&lt;ul class&#x3D;&quot;emoji&quot;&gt;  &lt;li&gt;君不见，黄河之水天上来，奔流到海不复回&lt;&#x2F;li&gt;  &lt;li&gt;君不见，高堂明镜悲白发，朝如青丝暮成雪&lt;&#x2F;li&gt;  &lt;li&gt;人生得意须尽欢，莫使金樽空对月&lt;&#x2F;li&gt;  &lt;li&gt;天生我材必有用，千金散尽还复来&lt;&#x2F;li&gt;  &lt;li&gt;烹羊宰牛且为乐，会须一饮三百杯&lt;&#x2F;li&gt;  &lt;li&gt;岑夫子，丹丘生，将进酒，杯莫停&lt;&#x2F;li&gt;  &lt;li&gt;与君歌一曲，请君为我倾耳听&lt;&#x2F;li&gt;  &lt;li&gt;钟鼓馔玉不足贵，但愿长醉不愿醒&lt;&#x2F;li&gt;  &lt;li&gt;古来圣贤皆寂寞，惟有饮者留其名&lt;&#x2F;li&gt;  &lt;li&gt;陈王昔时宴平乐，斗酒十千恣欢谑&lt;&#x2F;li&gt;  &lt;li&gt;主人何为言少钱，径须沽取对君酌&lt;&#x2F;li&gt;  &lt;li&gt;五花马，千金裘，呼儿将出换美酒，与尔同销万古愁&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <style>    @counter-style emoji-test {      system: additive;      suffix: " ";      additive-symbols: 😍 10, 😜 9, 😂 8, 😅 7, 😁 6, 🙂 5, 😐 4, 🙁 3, 😨 2, 😭 1;    }    .emoji {      list-style: emoji-test  !important;    }  </style>  <ul class="emoji">    <li class="emoji">君不见，黄河之水天上来，奔流到海不复回</li>    <li class="emoji">君不见，高堂明镜悲白发，朝如青丝暮成雪</li>    <li class="emoji">人生得意须尽欢，莫使金樽空对月</li>    <li class="emoji">天生我材必有用，千金散尽还复来</li>    <li class="emoji">烹羊宰牛且为乐，会须一饮三百杯</li>    <li class="emoji">岑夫子，丹丘生，将进酒，杯莫停</li>    <li class="emoji">与君歌一曲，请君为我倾耳听</li>    <li class="emoji">钟鼓馔玉不足贵，但愿长醉不愿醒</li>    <li class="emoji">古来圣贤皆寂寞，惟有饮者留其名</li>    <li class="emoji">陈王昔时宴平乐，斗酒十千恣欢谑</li>    <li class="emoji">主人何为言少钱，径须沽取对君酌</li>    <li class="emoji">五花马，千金裘，呼儿将出换美酒，与尔同销万古愁</li>  </ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;CSS-属性-list-style-type&quot;&gt;&lt;a href=&quot;#CSS-属性-list-style-type&quot; class=&quot;headerlink&quot; title=&quot;CSS 属性 list-style-type&quot;&gt;&lt;/a&gt;CSS 属性 list-style-ty</summary>
      
    
    
    
    <category term="CSS" scheme="http://damao2250.com/categories/CSS/"/>
    
    
    <category term="CSS" scheme="http://damao2250.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>chrome允许跨域</title>
    <link href="http://damao2250.com/2023/08/29/chrome%E5%85%81%E8%AE%B8%E8%B7%A8%E5%9F%9F/"/>
    <id>http://damao2250.com/2023/08/29/chrome%E5%85%81%E8%AE%B8%E8%B7%A8%E5%9F%9F/</id>
    <published>2023-08-29T01:47:09.000Z</published>
    <updated>2023-08-29T02:19:46.864Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Windows-下"><a href="#Windows-下" class="headerlink" title="Windows 下"></a>Windows 下</h2><ul><li>复制一个 chrome 浏览器的快捷方式，在属性中找到打开路径，在 …chrome.exe 后面加上<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">--</span>args <span class="token operator">--</span>disable<span class="token operator">-</span>web<span class="token operator">-</span>security <span class="token operator">--</span>user<span class="token operator">-</span>data<span class="token operator">-</span>dir<span class="token operator">=</span><span class="token string">"C:/ChromeDevSession"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="Mac-下"><a href="#Mac-下" class="headerlink" title="Mac 下"></a>Mac 下</h2><ul><li>在终端中执行命令<pre class="line-numbers language-js" data-language="js"><code class="language-js">open <span class="token operator">-</span>a <span class="token string">'Google Chrome'</span> <span class="token operator">--</span>args <span class="token operator">--</span>disable<span class="token operator">-</span>web<span class="token operator">-</span>security <span class="token operator">--</span>user<span class="token operator">-</span>data<span class="token operator">-</span>dir<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>chrome_dev_test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="扩展程序的方式"><a href="#扩展程序的方式" class="headerlink" title="扩展程序的方式"></a>扩展程序的方式</h2><ul><li><p>Chrome: <a href="https://chrome.google.com/webstore/detail/cros-anywhere/gcagclbpmooihllccniifbdekfeneebm?hl=zh-CN">cros-anywhere</a></p></li><li><p>Firefox ：<a href="https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/">cros-anywhere</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Windows-下&quot;&gt;&lt;a href=&quot;#Windows-下&quot; class=&quot;headerlink&quot; title=&quot;Windows 下&quot;&gt;&lt;/a&gt;Windows 下&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;复制一个 chrome 浏览器的快捷方式，在属性中找到打开路径，在 …c</summary>
      
    
    
    
    <category term="小技巧" scheme="http://damao2250.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="Chrome" scheme="http://damao2250.com/tags/Chrome/"/>
    
    <category term="跨域" scheme="http://damao2250.com/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>Kodi相关</title>
    <link href="http://damao2250.com/2023/06/14/Kodi%E7%9B%B8%E5%85%B3/"/>
    <id>http://damao2250.com/2023/06/14/Kodi%E7%9B%B8%E5%85%B3/</id>
    <published>2023-06-14T08:47:10.000Z</published>
    <updated>2023-06-14T10:28:17.518Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Kodi下载"><a href="#Kodi下载" class="headerlink" title="Kodi下载"></a>Kodi下载</h2><ul><li><a href="https://kodi.tv/download/">Kodi</a></li></ul><h2 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h2><details>  <summary>在智能电视上免费看万千影视，只需要在Kodi上安装这个The Crew插件</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E5%85%8D%E8%B4%B9%E7%9C%8B%E4%B8%87%E5%8D%83%E5%BD%B1%E8%A7%86%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8Kodi%E4%B8%8A%E5%AE%89%E8%A3%85%E8%BF%99%E4%B8%AAThe%20Crew%E6%8F%92%E4%BB%B61.png" alt="在智能电视上免费看万千影视，只需要在Kodi上安装这个The Crew插件"></p><p>  <a href="https://www.luckydesigner.space/smarttv-to-watch-everythings-movie-via-kodi/">转自：https://www.luckydesigner.space/smarttv-to-watch-everythings-movie-via-kodi/</a></p></details><details>  <summary>智能电视上kodi观影之如何安装支持中文字幕插件</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8Akodi%E8%A7%82%E5%BD%B1%E4%B9%8B%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E6%94%AF%E6%8C%81%E4%B8%AD%E6%96%87%E5%AD%97%E5%B9%95%E6%8F%92%E4%BB%B6.png" alt="智能电视上kodi观影之如何安装支持中文字幕插件"></p><p>  <a href="https://www.luckydesigner.space/how-to-install-chinese-subtitle-in-kodi/">转自：https://www.luckydesigner.space/how-to-install-chinese-subtitle-in-kodi/</a></p></details><details>  <summary>如何在电视上用kodi自定义看各国上万直播源</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%94%B5%E8%A7%86%E4%B8%8A%E7%94%A8kodi%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9C%8B%E5%90%84%E5%9B%BD%E4%B8%8A%E4%B8%87%E7%9B%B4%E6%92%AD%E6%BA%90.png" alt="如何在电视上用kodi自定义看各国上万直播源"></p><p>  <a href="https://www.luckydesigner.space/kodi-software-to-watch-online-tv/">转自：https://www.luckydesigner.space/kodi-software-to-watch-online-tv/</a></p></details><details>  <summary>过年就该和家人玩游戏使用kodi在智能电视上玩万种电视游戏</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E8%BF%87%E5%B9%B4%E5%B0%B1%E8%AF%A5%E5%92%8C%E5%AE%B6%E4%BA%BA%E7%8E%A9%E6%B8%B8%E6%88%8F%E4%BD%BF%E7%94%A8kodi%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E7%8E%A9%E4%B8%87%E7%A7%8D%E7%94%B5%E8%A7%86%E6%B8%B8%E6%88%8F.png" alt="过年就该和家人玩游戏使用kodi在智能电视上玩万种电视游戏"></p><p>  <a href="https://www.luckydesigner.space/play-tv-game-online-with-kodi/">转自：https://www.luckydesigner.space/play-tv-game-online-with-kodi/</a></p></details><details>  <summary>在智能电视上如何看Youtube视频，使用Kodi你就能做到</summary><p>  <img src="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/%E5%9C%A8%E6%99%BA%E8%83%BD%E7%94%B5%E8%A7%86%E4%B8%8A%E5%A6%82%E4%BD%95%E7%9C%8BYoutube%E8%A7%86%E9%A2%91%EF%BC%8C%E4%BD%BF%E7%94%A8Kodi%E4%BD%A0%E5%B0%B1%E8%83%BD%E5%81%9A%E5%88%B0.png" alt="在智能电视上如何看Youtube视频，使用Kodi你就能做到"></p><p>  <a href="https://www.luckydesigner.space/how-to-watch-youtube-on-tv-via-kodi/">转自：https://www.luckydesigner.space/how-to-watch-youtube-on-tv-via-kodi/</a></p></details>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Kodi下载&quot;&gt;&lt;a href=&quot;#Kodi下载&quot; class=&quot;headerlink&quot; title=&quot;Kodi下载&quot;&gt;&lt;/a&gt;Kodi下载&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://kodi.tv/download/&quot;&gt;Kodi&lt;/a&gt;&lt;/li</summary>
      
    
    
    
    <category term="Kodi" scheme="http://damao2250.com/categories/Kodi/"/>
    
    
    <category term="软件" scheme="http://damao2250.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Mac软件安装记录</title>
    <link href="http://damao2250.com/2023/05/23/Mac%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/"/>
    <id>http://damao2250.com/2023/05/23/Mac%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</id>
    <published>2023-05-23T00:56:11.000Z</published>
    <updated>2023-08-30T01:13:11.982Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Office-2019-for-Mac-安装教程"><a href="#Office-2019-for-Mac-安装教程" class="headerlink" title="Office 2019 for Mac 安装教程"></a>Office 2019 for Mac 安装教程</h1><h2 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h2><ul><li><a href="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/Office%202019%20for%20Mac%20%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B.docx">Office 2019 for Mac 安装教程</a></li><li><a href="https://raw.githubusercontent.com/Damao2250/FileTransfer/master/SWDVD5_Office_Mac_Serializer_2019_MLF_X21-88135.ISO">SWDVD5_OfficeMac_Serializer_2019 MLFX21-88135.ISO</a></li><li>Office 2019 for Mac （文件太大，未上传）</li></ul><h2 id="激活软件安装"><a href="#激活软件安装" class="headerlink" title="激活软件安装"></a>激活软件安装</h2><ol><li>解压：<code>SWDVD5_OfficeMac_Serializer_2019 MLFX21-88135.ISO</code><ul><li>右键一打开方式一选择一个解压工具打开如果未下载解压工具，可从App Store下载如图的The Unarchiver</li></ul></li><li>打开解压后的文件夹，双击安装<code>Microsoft_Office_2019_VL_Serializer.pkg</code></li></ol><h2 id="office安装"><a href="#office安装" class="headerlink" title="office安装"></a>office安装</h2><ol><li>双击安装：<code>Microsoft Office 16.46.21021202 Installer.pkg</code></li><li>安装完成后必须点击更新，等待全部软件更新，不然会显示未激活</li></ol><h2 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h2><ol><li><p>安装完后打开Office组件后左下角不再有激活的选项，成为已激活状态。如果仍有激活选项，请再运行一次步骤2。</p></li><li><p>此前已注册的个人Microsoft账号仍可继续登录使用，如有问题可登陆官网更改资料或重设密码等。</p></li><li><p>仅支持macOS版本10.14.0或者更高版本。</p></li><li><p>如果显示Office打开错误可能是由于未完全卸载，仅删除了应用程序，仍然有遗留的支持文件和许可文件等，请完全卸载后重启电脑，再重新安装即可成功。</p></li></ol><h2 id="完全卸载Office"><a href="#完全卸载Office" class="headerlink" title="完全卸载Office"></a>完全卸载Office</h2><ol><li>删除 Office 2019 for Mac 应用程序</li></ol><ul><li>打开 Finder，然后单击“应用程序”</li><li>按住 Command 命令的同时单击以选择所有 Office 2019 for Mac 应用程序</li><li>按住 Ctrl 的同时单击或右键单击所选应用程序，然后单击“移到废纸等”</li></ul><ol start="2"><li>资源库中删除支持文件</li></ol><ul><li>打开 Finder，单击“前往”&gt;“电脑”找到“Macintosh HD”&gt;“资源库</li><li>在“资源库”文件夹，找到“LaunchDaemns”文件夹中，如果存在下面两个文件单击“移到废纸等”删除下面两个文件<ul><li>com.microsoft.office.licensingV2.helper.plist (如果存在)</li><li>com.microsoft.autoupdate.helper.plist (如果存在)</li></ul></li><li>在“资源库”&gt;“PrivilegedHelperTools”，如果存在下面两个文件单击“移到废纸等”删除下面两个文件<ul><li>com.microsoft.office.licensingV2.helper (如果存在)</li><li>com.microsoft.autoupdate.helper (如果存在)</li></ul></li></ul><ol start="3"><li>删除破解或无效许可文件</li></ol><ul><li>按照如何删除 Mac 上的 破解版Ofice 许可证文件”中的说明使用许可证删除工具。此工具可完全删除 Mac 上的许可证文件.</li><li>参考链接: <a href="https://support.microsoft.com/zh-cn/office/%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4-mac-%E4%B8%8A%E7%9A%84-office-%E8%AE%B8%E5%8F%AF%E8%AF%81%E6%96%87%E4%BB%B6-b032c0f6-a431-4dad-83a9-6b727c03b193">删除Mac上的激活许可文件</a></li></ul><ol start="4"><li>从 DockQ 中删除 Office 2019 for Mac 图标</li></ol><ul><li>如果你已将 Ofice 图标添加到 Dock，在你卸载 Ofice 2019 for Mac 之后，它们可能会变为问号.</li><li>若要删除这些图标，请在按住 Control 的同时单击或右键单击图标，然后单击“选项”&gt;“从 Dock 中移除”.</li></ul><ol start="5"><li>清空废纸等，重新启动计算机</li></ol><ul><li>做完以上步骤之后，请右击“废纸等”清空“废纸等”并重新启动计算机</li></ul><h3 id="文章参考"><a href="#文章参考" class="headerlink" title="文章参考"></a>文章参考</h3><ul><li><a href="https://itc.shisu.edu.cn/78/6a/c10035a161898/page.htm">Office 2019 for Mac 安装激活教程</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Office-2019-for-Mac-安装教程&quot;&gt;&lt;a href=&quot;#Office-2019-for-Mac-安装教程&quot; class=&quot;headerlink&quot; title=&quot;Office 2019 for Mac 安装教程&quot;&gt;&lt;/a&gt;Office 2019 fo</summary>
      
    
    
    
    <category term="MAC" scheme="http://damao2250.com/categories/MAC/"/>
    
    
    <category term="软件" scheme="http://damao2250.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>在浏览器控制台安装npm包</title>
    <link href="http://damao2250.com/2023/05/05/%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E8%A3%85npm%E5%8C%85/"/>
    <id>http://damao2250.com/2023/05/05/%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E8%A3%85npm%E5%8C%85/</id>
    <published>2023-05-05T10:57:32.000Z</published>
    <updated>2023-05-05T11:10:47.478Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><ul><li>通过 <code>&lt;script /&gt;</code>标签在HTML页面上引入CDN资源</li><li>通过CND连接搜索相应的资源，如：<a href="https://api.cdnjs.com/libraries?search=jquery">https://api.cdnjs.com/libraries?search=jquery</a></li></ul><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 存储原始传入的名称</span><span class="token keyword">let</span> pkg_name_origin <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">npmInstall</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">originName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> name <span class="token operator">=</span> originName<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  pkg_name_origin <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token comment">// 三种引入方式</span>  <span class="token comment">// 如果是一个有效的URL，直接通过&lt;script />标签插入</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^https?:\/\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">injectScript</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 如果指定了版本，尝试使用unpkg加载</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">unpkg</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 否则，尝试使用cdnjs搜索</span>  <span class="token keyword">return</span> <span class="token function">cdnjs</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 在页面中插入&lt;script />标签</span><span class="token keyword">const</span> <span class="token function-variable function">injectScript</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>  script<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pkg_name_origin<span class="token punctuation">,</span> <span class="token string">' 安装成功。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  script<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pkg_name_origin<span class="token punctuation">,</span> <span class="token string">' 安装失败。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// document.body.removeChild(script);</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">unpkg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">injectScript</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://unpkg.com/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">cdnjs</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> searchPromise <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.cdnjs.com/libraries?search=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>    <span class="token comment">// 不显示referrer的任何信息在请求头中</span>    <span class="token punctuation">&#123;</span> referrerPolicy<span class="token operator">:</span> <span class="token string">'no-referrer'</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> results<span class="token punctuation">,</span> total <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> searchPromise<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Sorry, '</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">' not found, please try another keyword.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 取结果中最相关的一条</span>  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> exactName<span class="token punctuation">,</span> latest<span class="token operator">:</span> url <span class="token punctuation">&#125;</span> <span class="token operator">=</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!==</span> exactName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">' not found, import '</span><span class="token punctuation">,</span> exactName<span class="token punctuation">,</span> <span class="token string">' instead.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 通过&lt;script />标签插入</span>  <span class="token function">injectScript</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接引入</span><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'moment@2.29.4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定版本</span><span class="token function">npmInstall</span><span class="token punctuation">(</span><span class="token string">'https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引入cdn地址</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;实现原理&quot;&gt;&lt;a href=&quot;#实现原理&quot; class=&quot;headerlink&quot; title=&quot;实现原理&quot;&gt;&lt;/a&gt;实现原理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;通过 &lt;code&gt;&amp;lt;script /&amp;gt;&lt;/code&gt;标签在HTML页面上引入CDN资源&lt;/li&gt;
&lt;</summary>
      
    
    
    
    <category term="小技巧" scheme="http://damao2250.com/categories/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="浏览器控制台" scheme="http://damao2250.com/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0/"/>
    
    <category term="安装npm包" scheme="http://damao2250.com/tags/%E5%AE%89%E8%A3%85npm%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>无法删除的水印方案</title>
    <link href="http://damao2250.com/2023/03/31/%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4%E7%9A%84%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/"/>
    <id>http://damao2250.com/2023/03/31/%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4%E7%9A%84%E6%B0%B4%E5%8D%B0%E6%96%B9%E6%A1%88/</id>
    <published>2023-03-31T06:11:50.000Z</published>
    <updated>2023-04-10T08:13:13.100Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">WaterMark</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 默认样式</span>    <span class="token keyword">const</span> defaultStyles <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      transform<span class="token operator">:</span> <span class="token string">'rotate(-15deg)'</span><span class="token punctuation">,</span>      position<span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>      overflow<span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">,</span>      zIndex<span class="token operator">:</span> <span class="token number">9999999</span><span class="token punctuation">,</span>      opacity<span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>      fontFamily<span class="token operator">:</span> <span class="token string">'微软雅黑'</span><span class="token punctuation">,</span>      color<span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>      textAlign<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>      padding<span class="token operator">:</span> <span class="token string">'10px 10px'</span><span class="token punctuation">,</span>      whiteSpace<span class="token operator">:</span> <span class="token string">'nowrap'</span><span class="token punctuation">,</span>      display<span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// 覆盖默认样式</span>    <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> left <span class="token operator">=</span> <span class="token number">220</span><span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">,</span> fontSize <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> options    <span class="token keyword">this</span><span class="token punctuation">.</span>styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>defaultStyles<span class="token punctuation">,</span> <span class="token operator">...</span>styles <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">createMaskDiv</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> top</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> maskDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    maskDiv<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'water_mask_id_0'</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>styles<span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>top<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>fontSize<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> styles<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      maskDiv<span class="token punctuation">.</span>style<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> styles<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    maskDiv<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>    <span class="token keyword">return</span> maskDiv<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> maskDiv <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMaskDiv</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>maskDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> width <span class="token operator">=</span> maskDiv<span class="token punctuation">.</span>offsetWidth    <span class="token keyword">let</span> height <span class="token operator">=</span> maskDiv<span class="token punctuation">.</span>offsetHeight    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>maskDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'eb-watermark'</span><span class="token punctuation">;</span>    div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pointer-events: none !important; display: block !important; visibility: visible !important; position: fixed !important; top: 0 !important; left: 0 !important; opacity: 1 !important; z-index: 0 !important; transform: translateX(0) !important;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token keyword">const</span> shadowRoot <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> mode<span class="token operator">:</span> <span class="token string">'open'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> left <span class="token operator">=</span> width <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left    <span class="token keyword">let</span> top <span class="token operator">=</span> height <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>top    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span> i <span class="token operator">+=</span> left<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span> j <span class="token operator">+=</span> top<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMaskDiv</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> observerConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span> childList<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> subtree<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> attributeFilter<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'style'</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token comment">// 监听DOM改变</span>    <span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleMutation</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> observerConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 设置characterData监听元素的innerText改变</span>    <span class="token keyword">const</span> shadowRootObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutations</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleShadowRootMutation</span><span class="token punctuation">(</span>mutations<span class="token punctuation">,</span> shadowRoot<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    shadowRootObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>shadowRoot<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>observerConfig<span class="token punctuation">,</span> characterData<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleMutation</span><span class="token punctuation">(</span><span class="token parameter">mutations</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>removedNodes<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'eb-watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'eb-watermark'</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>attributeName <span class="token operator">===</span> <span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>watermark <span class="token operator">||</span> watermark<span class="token punctuation">.</span>parentElement <span class="token operator">!==</span> document<span class="token punctuation">.</span>body <span class="token operator">||</span> <span class="token operator">!</span>watermark<span class="token punctuation">.</span>shadowRoot <span class="token operator">||</span> <span class="token operator">!</span>watermark<span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#water_mask_id_0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleShadowRootMutation</span><span class="token punctuation">(</span><span class="token parameter">mutations<span class="token punctuation">,</span> shadowRoot</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    mutations<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>removedNodes<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">||</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'characterData'</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> shadowRoot <span class="token operator">||</span> mutation<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode <span class="token operator">===</span> shadowRoot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">handleResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> watermark <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'eb-watermark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>watermark<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      watermark<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">default</span> WaterMark<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> WaterMark <span class="token keyword">from</span> <span class="token string">'./watermark'</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">WaterMark</span><span class="token punctuation">(</span><span class="token string">'我是水印啊'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="待优化"><a href="#待优化" class="headerlink" title="待优化"></a>待优化</h2><ul><li>目前只支持插入到body的全屏水印，下一步优化支持指定id的div水印</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;实现代码&quot;&gt;&lt;a href=&quot;#实现代码&quot; class=&quot;headerlink&quot; title=&quot;实现代码&quot;&gt;&lt;/a&gt;实现代码&lt;/h2&gt;&lt;pre class=&quot;line-numbers language-js&quot; data-language=&quot;js&quot;&gt;&lt;code cl</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="水印" scheme="http://damao2250.com/tags/%E6%B0%B4%E5%8D%B0/"/>
    
  </entry>
  
  <entry>
    <title>用css实现防止按钮重复点击</title>
    <link href="http://damao2250.com/2023/02/18/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%AD%A2%E6%8C%89%E9%92%AE%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB/"/>
    <id>http://damao2250.com/2023/02/18/%E7%94%A8css%E5%AE%9E%E7%8E%B0%E9%98%B2%E6%AD%A2%E6%8C%89%E9%92%AE%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB/</id>
    <published>2023-02-18T10:42:47.000Z</published>
    <updated>2023-02-18T10:58:10.772Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ul><li>利用<code>pointer-events</code>属性设置元素是否对鼠标事件做出反应</li></ul><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><ul><li>可以延申加入自定义动画<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>save-button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'保存'</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.save-button</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> buttonThrottle 2s step-end forwards<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.save-button:active</span> <span class="token punctuation">&#123;</span>  <span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> buttonThrottle</span> <span class="token punctuation">&#123;</span>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><ul><li>打开开发者模式，查看Console会发现每隔两秒钟之后才能触发Console打印</li></ul><p><button class="save-button" onclick="console.log('保存')">保存</button></p><style>.save-button {  animation: buttonThrottle 2s step-end forwards;}.save-button:active {  animation: none;}@keyframes buttonThrottle {  from {    color: red;    pointer-events: none;  }  to {    color: blue;    pointer-events: all;  }}</style>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;利用&lt;code&gt;pointer-events&lt;/code&gt;属性设置元素是否对鼠标事件做出反应&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id</summary>
      
    
    
    
    <category term="CSS" scheme="http://damao2250.com/categories/CSS/"/>
    
    
    <category term="CSS" scheme="http://damao2250.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>发布订阅模式和观察者模式</title>
    <link href="http://damao2250.com/2023/02/15/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    <id>http://damao2250.com/2023/02/15/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E5%92%8C%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/</id>
    <published>2023-02-15T10:40:49.000Z</published>
    <updated>2023-02-18T03:47:01.224Z</updated>
    
    <content type="html"><![CDATA[<h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><h3 id="观察者模式（Observer-Pattern）"><a href="#观察者模式（Observer-Pattern）" class="headerlink" title="观察者模式（Observer Pattern）"></a>观察者模式（Observer Pattern）</h3><ul><li>观察者模式定义了对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都将得到通知，并自动更新。观察者模式属于行为型模式，行为型模式关注的是对象之间的通讯，观察者模式就是观察者和被观察者之间的通讯。</li><li>观察者模式有一个别名叫“发布-订阅模式”，或者说是“订阅-发布模式”，订阅者和订阅目标是联系在一起的，当订阅目标发生改变时，逐个通知订阅者</li></ul><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><ul><li>目标&lt;=&gt;观察者</li><li>观察者观察目标（监听目标）-&gt; 目标发生变化-&gt; 目标主动通知观察者</li></ul><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><ul><li>拍卖的时候，拍卖师观察最高标价，然后通知给其他竞价者竞价，即“一对多”的依赖关系（一个拍卖师多个竞价者）</li></ul><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul><li>Vue数据双向绑定</li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=></span> observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">&#123;</span>  <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// 创建观察者ob1</span><span class="token keyword">let</span> ob1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建观察者ob2</span><span class="token keyword">let</span> ob2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建目标sub</span><span class="token keyword">let</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub添加观察者ob1 （目标和观察者建立了依赖关系）</span>sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ob1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub添加观察者ob2</span>sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ob2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 目标sub触发SMS事件（目标主动通知观察者）</span>sub<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token string">'I fired `SMS` event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="发布订阅模式"><a href="#发布订阅模式" class="headerlink" title="发布订阅模式"></a>发布订阅模式</h2><h3 id="发布订阅模式（Pub-Sub-Pattern）"><a href="#发布订阅模式（Pub-Sub-Pattern）" class="headerlink" title="发布订阅模式（Pub-Sub Pattern）"></a>发布订阅模式（Pub-Sub Pattern）</h3><ul><li>发布订阅模式中，发送者不会将消息直接发送给订阅者，这意味着发布者和订阅者不知道彼此的存在。在发布者和订阅者之间存在第三个组件，称为调度中心或事件通道，它维持着发布者和订阅者之间的联系，过滤所有发布者传入的消息并相应地分发它们给订阅者</li><li>发布订阅模式是在观察者模式的基础上做的优化升级</li></ul><h3 id="流程-1"><a href="#流程-1" class="headerlink" title="流程"></a>流程</h3><ul><li>发布者-&gt;事件中心&lt;=&gt;订阅者</li><li>订阅者需要向事件中心订阅指定的事件 -&gt; 发布者向事件中心发布指定事件内容 -&gt; 事件中心通知订阅者 -&gt; 订阅者收到消息（可能是多个订阅者）</li></ul><h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><ul><li>你在微博上关注了A，同时其他很多人也关注了A，那么当A发布动态的时候，微博就会为你们推送这条动态。A就是发布者，你是订阅者，微博就是调度中心，你和A是没有直接的消息往来的，全是通过微博来协调的（你的关注，A的发布动态）</li></ul><h3 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h3><ul><li>vue中的事件总线，$emit和$on, $on用来订阅事件，$emit用来发布订阅的事件</li></ul><h3 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PubSub</span> <span class="token punctuation">&#123;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 事件中心/调度中心</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 订阅</span>  <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> callbacks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>callbacks<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      callbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 发布</span>  <span class="token function">publish</span><span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> callbacks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribers<span class="token punctuation">[</span>topic<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    callbacks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">callback</span> <span class="token operator">=></span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// 创建事件调度中心，为订阅者和发布者提供调度服务</span><span class="token keyword">let</span> pubSub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PubSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// A订阅了SMS事件（A只关注SMS本身，而不关心谁发布这个事件）</span>pubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// B订阅了SMS事件</span>pubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// C发布了SMS事件（C只关注SMS本身，不关心谁订阅了这个事件）</span>pubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'SMS'</span><span class="token punctuation">,</span> <span class="token string">'I published `SMS` event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ul><li>发布-订阅模式是面向调度中心编程的，而观察者模式则是面向目标和观察者编程的。前者用于解耦发布者和订阅者，后者用于耦合目标和观察者</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;观察者模式&quot;&gt;&lt;a href=&quot;#观察者模式&quot; class=&quot;headerlink&quot; title=&quot;观察者模式&quot;&gt;&lt;/a&gt;观察者模式&lt;/h2&gt;&lt;h3 id=&quot;观察者模式（Observer-Pattern）&quot;&gt;&lt;a href=&quot;#观察者模式（Observer-Pat</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>浏览器禁止用户打开devtools</title>
    <link href="http://damao2250.com/2023/02/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A6%81%E6%AD%A2%E7%94%A8%E6%88%B7%E6%89%93%E5%BC%80devtools/"/>
    <id>http://damao2250.com/2023/02/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A6%81%E6%AD%A2%E7%94%A8%E6%88%B7%E6%89%93%E5%BC%80devtools/</id>
    <published>2023-02-07T01:13:10.000Z</published>
    <updated>2023-02-07T01:35:49.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="禁止键盘-F12"><a href="#禁止键盘-F12" class="headerlink" title="禁止键盘 F12"></a>禁止键盘 F12</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token number">123</span> <span class="token operator">!==</span> event<span class="token punctuation">.</span>keyCode <span class="token operator">||</span> event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="禁止鼠标右键后选择检查元素"><a href="#禁止鼠标右键后选择检查元素" class="headerlink" title="禁止鼠标右键后选择检查元素"></a>禁止鼠标右键后选择检查元素</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="监听devtools的打开事件"><a href="#监听devtools的打开事件" class="headerlink" title="监听devtools的打开事件"></a>监听devtools的打开事件</h2><ul><li>通关检查浏览器可视区域和浏览器窗口的差值来判断用户是否打开了devtools</li><li>但是浏览器在新窗口打开devtools时，这个检测很容易被绕过<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">resize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> threshold <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> width <span class="token operator">=</span> window<span class="token punctuation">.</span>outerWidth <span class="token operator">-</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">></span> threshold<span class="token punctuation">;</span>  <span class="token keyword">const</span> height <span class="token operator">=</span> window<span class="token punctuation">.</span>outerHeight <span class="token operator">-</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">></span> threshold<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>width <span class="token operator">||</span> height<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'控制台打开了！！！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> resize<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="基于MutationObserver检测用户改变元素属性"><a href="#基于MutationObserver检测用户改变元素属性" class="headerlink" title="基于MutationObserver检测用户改变元素属性"></a>基于MutationObserver检测用户改变元素属性</h2><ul><li>MutationObserver 可以监测到 DOM 元素上任何属性的变化情况，如有需要，也可以监听其子元素的变化情况</li><li>MutationObserver监听的是元素的属性，即attributes，如：style、class、type、href等</li><li>禁止用户用开发者工具修改某些属性时使用，如：用户企图修改网站水印<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// &lt;h1 style="margin:100px;">需要检测的元素&lt;/h1></span><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  childList<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  attributes<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  subtree<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  attributesOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  characterData<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  characterDataOldValue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function-variable function">expression</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 执行恢复方法</span>    <span class="token function">expression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">records</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> record <span class="token operator">=</span> records<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'attributes'</span> <span class="token operator">&amp;&amp;</span> record<span class="token punctuation">.</span>attributeName <span class="token operator">===</span> <span class="token string">'style'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      h1<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'margin:100px;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'characterData'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      h1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'需要检测的元素'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>h1<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;禁止键盘-F12&quot;&gt;&lt;a href=&quot;#禁止键盘-F12&quot; class=&quot;headerlink&quot; title=&quot;禁止键盘 F12&quot;&gt;&lt;/a&gt;禁止键盘 F12&lt;/h2&gt;&lt;pre class=&quot;line-numbers language-js&quot; data-langua</summary>
      
    
    
    
    <category term="浏览器" scheme="http://damao2250.com/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
    <category term="devtools" scheme="http://damao2250.com/tags/devtools/"/>
    
    <category term="开发者工具" scheme="http://damao2250.com/tags/%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>JS几个必会的手写功能</title>
    <link href="http://damao2250.com/2023/02/07/JS%E5%87%A0%E4%B8%AA%E5%BF%85%E4%BC%9A%E7%9A%84%E6%89%8B%E5%86%99%E5%8A%9F%E8%83%BD/"/>
    <id>http://damao2250.com/2023/02/07/JS%E5%87%A0%E4%B8%AA%E5%BF%85%E4%BC%9A%E7%9A%84%E6%89%8B%E5%86%99%E5%8A%9F%E8%83%BD/</id>
    <published>2023-02-07T01:05:13.000Z</published>
    <updated>2023-02-07T01:46:35.784Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1、Promise-all"><a href="#1、Promise-all" class="headerlink" title="1、Promise.all"></a>1、Promise.all</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myAll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>promises<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token keyword">const</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// Promise.resolve 的作用是将普通值或 thenable 对象转为 promise，promise 则直接返回</span>        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> data            count <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// [1, 2]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2、Promise-race"><a href="#2、Promise-race" class="headerlink" title="2、Promise.race"></a>2、Promise.race</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myRace</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> promises<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 先出来的结果会被 resolve 或 reject 出去, 一旦状态变化就不会再变</span>      Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myRace</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、Promise-any"><a href="#3、Promise-any" class="headerlink" title="3、Promise.any"></a>3、Promise.any</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">Promise<span class="token punctuation">.</span><span class="token function-variable function">myAny</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">// promises 可以不是数组，但必须要具有 Iterator 接口</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'TypeError: promises is not iterable'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        count <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'所有 promise 都失败'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">function</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>Promise<span class="token punctuation">.</span><span class="token function">myAny</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4、冒泡排序"><a href="#4、冒泡排序" class="headerlink" title="4、冒泡排序"></a>4、冒泡排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 从第一个元素开始，比较相邻的两个元素，前者大就交换位置</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 交换位置</span>        <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 每次遍历结束，都能找到一个最大值，放在数组最后</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5、选择排序"><a href="#5、选择排序" class="headerlink" title="5、选择排序"></a>5、选择排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 假设每次循环，最小值就是第一个</span>    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> i    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果最小值大于其他的值，则修改索引，从而找到真正的最小值</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        minIndex <span class="token operator">=</span> j      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 最小值和第一个交换位置</span>    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="6、快速排序"><a href="#6、快速排序" class="headerlink" title="6、快速排序"></a>6、快速排序</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr  <span class="token comment">// 每次取第一个元素作为基准值</span>  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">const</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果小于基准值，则把它放在左数组</span>      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 如果大于等于基准值，则放在右数组</span>      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 递归处理，并把左中右三个数组拼接起来</span>  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pivot<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="7、call"><a href="#7、call" class="headerlink" title="7、call"></a>7、call</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 把方法添加到 context 上，这样使用context[key]调用的时候，内部的 this 就指向了 context</span>  <span class="token comment">// 使用 Symbol 防止 context 原有属性被覆盖</span>  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>say<span class="token punctuation">.</span><span class="token function">myCall</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="8、apply"><a href="#8、apply" class="headerlink" title="8、apply"></a>8、apply</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 把方法添加到 context 上，这样使用context[key]调用的时候，内部的 this 就指向了 context</span>  <span class="token comment">// 使用 Symbol 防止 context 原有属性被覆盖</span>  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">let</span> res  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    res <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>say<span class="token punctuation">.</span><span class="token function">myApply</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="9、bind"><a href="#9、bind" class="headerlink" title="9、bind"></a>9、bind</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> globalThis</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">this</span>  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> <span class="token function-variable function">newFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> newArgs <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">newFunc</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 通过 new 调用，this 为新创建的对象实例，将函数内部的 this 替换为这个新对象</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newArgs<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 普通方式调用，将函数内部的 this 替换为 context</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> newArgs<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// 支持 new 调用</span>  newFunc<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token keyword">return</span> newFunc<span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jack'</span> <span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>age<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> arguments  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, My height is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>height<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> mySay <span class="token operator">=</span> say<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">)</span><span class="token function">mySay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// My name is Jack, My age is 16, My height is 170</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="10、instanceof"><a href="#10、instanceof" class="headerlink" title="10、instanceof"></a>10、instanceof</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myInstanceOf</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> Fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 判断构造函数 Fn 是否出现在 obj 的原型链上</span>  <span class="token keyword">let</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>proto<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">===</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>    proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token comment">// test</span><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Object<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="11、new"><a href="#11、new" class="headerlink" title="11、new"></a>11、new</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">Fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype  <span class="token comment">// 将构造函数内部的 this 替换为新对象，并执行构造函数方法</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> res <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 如果构造函数有返回值，且类型为 object, 则把这个值返回</span>    <span class="token keyword">return</span> res  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> obj  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">&#125;</span><span class="token keyword">const</span> stu <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span> <span class="token comment">// &#123; name: 'Jack', age: 16 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="12、统计页面中所有标签的种类和个数"><a href="#12、统计页面中所有标签的种类和个数" class="headerlink" title="12、统计页面中所有标签的种类和个数"></a>12、统计页面中所有标签的种类和个数</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTagCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 获取页面上所有标签元素</span>  <span class="token keyword">const</span> tags <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> tagNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> tags<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 把所有标签名转为小写，添加到数组中</span>    tagNames<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> tagNames<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      res<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      res<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token operator">++</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> res<span class="token punctuation">&#125;</span><span class="token comment">// test</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getTagCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#123; html: 1, head: 1, body: 1, div: 2, script: 1 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="13-类型判断"><a href="#13-类型判断" class="headerlink" title="13.类型判断"></a>13.类型判断</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">myTypeOf</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 测试</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> number</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> string</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> boolean</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> array</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> object</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> regexp</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> date</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> math</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myTypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//--> function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1、Promise-all&quot;&gt;&lt;a href=&quot;#1、Promise-all&quot; class=&quot;headerlink&quot; title=&quot;1、Promise.all&quot;&gt;&lt;/a&gt;1、Promise.all&lt;/h2&gt;&lt;pre class=&quot;line-numbers lang</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="JS" scheme="http://damao2250.com/tags/JS/"/>
    
    <category term="JavaScript" scheme="http://damao2250.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>使用AJAX、Axios、Fetch</title>
    <link href="http://damao2250.com/2023/02/06/%E4%BD%BF%E7%94%A8AJAX%E3%80%81Axios%E3%80%81Fetch/"/>
    <id>http://damao2250.com/2023/02/06/%E4%BD%BF%E7%94%A8AJAX%E3%80%81Axios%E3%80%81Fetch/</id>
    <published>2023-02-06T08:04:24.000Z</published>
    <updated>2023-02-18T04:08:58.482Z</updated>
    
    <content type="html"><![CDATA[<h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><ul><li>AJAX全称为“Asynchronous JavaScript and XML”（异步JavaScript和XML）</li><li>AJAX最主要的两个特性：在不重新加载页面的情况下发送请求给服务器；受并使用从服务器发来的数据<h3 id="AJAX请求的五个步骤"><a href="#AJAX请求的五个步骤" class="headerlink" title="AJAX请求的五个步骤"></a>AJAX请求的五个步骤</h3><ul><li>1.建立XMLHttpRequest对象</li><li>2.设置回调函数</li><li>3.配置请求信息，(如open,get方法)，使用open方法与服务器建立链接</li><li>4.向服务器发送数据</li><li>5.在回调函数中针对不同的响应状态进行处理</li></ul></li></ul><h3 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h3><ul><li>0 －（请求未初始化）还没有调用send()方法</li><li>1 －（正在加载）已调用send()方法，正在发送请求</li><li>2 －（加载成功）send()方法执行完成，已经接收到全部响应内容</li><li>3 －（交互）正在解析响应内容</li><li>4 －（完成）响应内容解析完成，可以在客户端调用了</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">"GET"</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> async<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 声明XMLHttpRequest </span>    <span class="token comment">// 在IE5和IE6中需要使用ActiveX对象 let XRH = new ActiveXObject("Microsoft.XMLHTTP");</span>    <span class="token keyword">let</span> <span class="token constant">XHR</span> <span class="token operator">=</span> XMLHttpRequest<span class="token punctuation">;</span>    <span class="token comment">// 创建XMLHttqRequest</span>    <span class="token constant">XHR</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// 初始化请求参数</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">)</span>    <span class="token comment">// 设置响应的数据类型</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">'json'</span>    <span class="token comment">// 设置请求头(求头的设置必须在xhr open之后，并且在send之前)</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-type"</span><span class="token punctuation">,</span> <span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// applicationx-www-form-urlencoded  text/html  application/json multipart/form-data</span>    <span class="token comment">// 设置请求状态改变时执行的函数</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token keyword">return</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">响应状态:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token constant">XHR</span><span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token string">"FINISH"</span><span class="token punctuation">)</span>       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 获取服务器响应的数据，XHR.responseText为响应体</span>        <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token constant">XHR</span><span class="token punctuation">.</span>responseText        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>        <span class="token comment">// 解析数据(数据为JSON数据时)</span>        <span class="token comment">// res = JSON.parse(res)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 异常处理</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Network request failed'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 发起请求</span>    <span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token comment">// 调用（百度首页的调试窗口中调用）</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">,</span><span class="token string">"POST"</span><span class="token punctuation">,</span><span class="token string">"A=1&amp;B=2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX#%E6%96%87%E6%A1%A3">https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX#%E6%96%87%E6%A1%A3</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started">https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started</a></li></ul><h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><ul><li>Fetch是浏览器内置API，在浏览器环境中，可以通过顶层对象window获取</li><li>fetch()是XMLHttpRequest(ajax使用的就是XMLHttpRequest)的升级版，用于在JavaScript脚本里面发出HTTP请求</li></ul><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// 完整options对象</span><span class="token comment">/**  &#123;    method: "GET", // HTTP 请求的方法，POST、DELETE、PUT等    headers: &#123; // 请求头      "Content-Type": "text/plain;charset=UTF-8"    &#125;,    body: undefined, // POST 请求体    referrer: "about:client",    referrerPolicy: "no-referrer-when-downgrade", // 指定了 HTTP 头部 referer 字段的值    mode: "cors", // 请求的模式    credentials: "same-origin",    cache: "default", // 请求的 cache 模式    redirect: "follow", // 可用的 redirect 模式    integrity: "",    keepalive: false,    signal: undefined  &#125;*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">json</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request Failed'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用await语法"><a href="#使用await语法" class="headerlink" title="使用await语法"></a>使用await语法</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token string">"Content-type"</span><span class="token operator">:</span> <span class="token string">"application/x-www-form-urlencoded; charset=UTF-8"</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> <span class="token string">'foo=bar&amp;lorem=ipsum'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST提交JSON数据"><a href="#POST提交JSON数据" class="headerlink" title="POST提交JSON数据"></a>POST提交JSON数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span>  <span class="token punctuation">&#123;</span> name<span class="token operator">:</span>  <span class="token string">'John'</span><span class="token punctuation">,</span> surname<span class="token operator">:</span>  <span class="token string">'Smith'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span>   <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json;charset=utf-8'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST提交表单数据"><a href="#POST提交表单数据" class="headerlink" title="POST提交表单数据"></a>POST提交表单数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input[type="file"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> input<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> data<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="上传二进制数据"><a href="#上传二进制数据" class="headerlink" title="上传二进制数据"></a>上传二进制数据</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span>     canvasElem<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>  <span class="token string">'image/png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  method<span class="token operator">:</span>  <span class="token string">'POST'</span><span class="token punctuation">,</span>  body<span class="token operator">:</span> blob<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="取消fetch-请求"><a href="#取消fetch-请求" class="headerlink" title="取消fetch()请求"></a>取消fetch()请求</h3><ul><li>fetch()请求发送以后，如果中途想要取消，需要使用AbortController对象<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> signal <span class="token operator">=</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">;</span><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  signal<span class="token operator">:</span> controller<span class="token punctuation">.</span>signal<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>signal<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'abort'</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'abort!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取消</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>signal<span class="token punctuation">.</span>aborted<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><h3 id="GET请求-1"><a href="#GET请求-1" class="headerlink" title="GET请求"></a>GET请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// get请求携带参数</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user?ID=5422'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 也可以这样写</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    params<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token constant">ID</span><span class="token operator">:</span> <span class="token number">5422</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 相应类型为流文件</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>  url<span class="token operator">:</span> <span class="token string">'http://www.xxx.com/test'</span><span class="token punctuation">,</span>  responseType<span class="token operator">:</span> <span class="token string">'stream'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  response<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'xxx.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="POST请求-1"><a href="#POST请求-1" class="headerlink" title="POST请求"></a>POST请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>    firstName<span class="token operator">:</span> <span class="token string">'三'</span><span class="token punctuation">,</span>    lastName<span class="token operator">:</span> <span class="token string">'张'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 也可以配置参数</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>  url<span class="token operator">:</span> <span class="token string">'/user/001'</span><span class="token punctuation">,</span>  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    firstName<span class="token operator">:</span> <span class="token string">'三'</span><span class="token punctuation">,</span>    lastName<span class="token operator">:</span> <span class="token string">'张'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="并行请求"><a href="#并行请求" class="headerlink" title="并行请求"></a>并行请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345/permissions'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>axios<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">getUserAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getUserPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">spread</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">acct<span class="token punctuation">,</span> perms</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Both requests are now complete</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  baseURL<span class="token operator">:</span> <span class="token string">'https://some-domain.com/api/'</span><span class="token punctuation">,</span>  timeout<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>  headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'X-Custom-Header'</span><span class="token operator">:</span> <span class="token string">'custom header content'</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 全局默认配置</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">AUTH_TOKEN</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span><span class="token string">'Content-Type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">;</span><span class="token comment">// Custom instance defaults</span><span class="token comment">// Set config defaults when creating the instance</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  baseURL<span class="token operator">:</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Alter defaults after instance has been created</span>instance<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>common<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">AUTH_TOKEN</span><span class="token punctuation">;</span><span class="token comment">// Config order of precedence</span><span class="token comment">// Create an instance using the config defaults provided by the library</span><span class="token comment">// At this point the timeout config value is `0` as is the default for the library</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Override timeout default for the library</span><span class="token comment">// Now all requests will wait 2.5 seconds before timing out</span>instance<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span><span class="token comment">// Override timeout for this request as it's known to take a long time</span>instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/longRequest'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Intercept request/responses</span><span class="token comment">// Add a request interceptor</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something before request is sent</span>    <span class="token keyword">return</span> config<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with request error</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Add a response interceptor</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with response data</span>    <span class="token keyword">return</span> response<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Do something with response error</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Remove interceptor</span><span class="token keyword">var</span> myInterceptor <span class="token operator">=</span> axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">/*...*/</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">eject</span><span class="token punctuation">(</span>myInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Custom instance interceptors</span><span class="token keyword">var</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">/*...*/</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Catch error</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// The request was made and the server responded with a status code</span>      <span class="token comment">// that falls out of the range of 2xx</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// The request was made but no response was received</span>      <span class="token comment">// `error.request` is an instance of XMLHttpRequest in the browser and an instance of</span>      <span class="token comment">// http.ClientRequest in node.js</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// Something happened in setting up the request that triggered an Error</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Custom HTTP status code error</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">validateStatus</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> status <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token comment">// Reject only if the status code is greater than or equal to 500</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="取消请求"><a href="#取消请求" class="headerlink" title="取消请求"></a>取消请求</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Cancel request with cancel token</span><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span><span class="token keyword">var</span> source <span class="token operator">=</span> CancelToken<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> source<span class="token punctuation">.</span>token<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">thrown</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isCancel</span><span class="token punctuation">(</span>thrown<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request canceled'</span><span class="token punctuation">,</span> thrown<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// handle error</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  name<span class="token operator">:</span> <span class="token string">'new name'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> source<span class="token punctuation">.</span>token<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// cancel the request (the message parameter is optional)</span>source<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token string">'Operation canceled by the user.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Create cancel token</span><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span><span class="token keyword">var</span> cancel<span class="token punctuation">;</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  cancelToken<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// An executor function receives a cancel function as a parameter</span>    cancel <span class="token operator">=</span> c<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// cancel the request</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;AJAX&quot;&gt;&lt;a href=&quot;#AJAX&quot; class=&quot;headerlink&quot; title=&quot;AJAX&quot;&gt;&lt;/a&gt;AJAX&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;AJAX全称为“Asynchronous JavaScript and XML”（异步JavaScript和XM</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://damao2250.com/categories/JavaScript/"/>
    
    
    <category term="Axios" scheme="http://damao2250.com/tags/Axios/"/>
    
    <category term="AJAX" scheme="http://damao2250.com/tags/AJAX/"/>
    
    <category term="Fetch" scheme="http://damao2250.com/tags/Fetch/"/>
    
  </entry>
  
</feed>
